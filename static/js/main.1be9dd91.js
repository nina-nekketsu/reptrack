/*! For license information please see main.1be9dd91.js.LICENSE.txt */
(()=>{"use strict";var e={4(e,t,n){var r=n(853),a=n(43),s=n(950);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(31===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function d(e){if(l(e)!==e)throw Error(i(188))}function h(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=h(e)))return t;e=e.sibling}return null}var p=Object.assign,f=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),w=Symbol.for("react.consumer"),S=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),N=Symbol.for("react.lazy");Symbol.for("react.scope");var E=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var R=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var C=Symbol.iterator;function T(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=C&&e[C]||e["@@iterator"])?e:null}var I=Symbol.for("react.client.reference");function O(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===I?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case v:return"Fragment";case b:return"Profiler";case y:return"StrictMode";case k:return"Suspense";case _:return"SuspenseList";case E:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case g:return"Portal";case S:return e.displayName||"Context";case w:return(e._context.displayName||"Context")+".Consumer";case x:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case j:return null!==(t=e.displayName||null)?t:O(e.type)||"Memo";case N:t=e._payload,e=e._init;try{return O(e(t))}catch(n){}}return null}var P=Array.isArray,A=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D={pending:!1,data:null,method:null,action:null},z=[],U=-1;function M(e){return{current:e}}function F(e){0>U||(e.current=z[U],z[U]=null,U--)}function B(e,t){U++,z[U]=e.current,e.current=t}var q,W,H=M(null),V=M(null),G=M(null),K=M(null);function J(e,t){switch(B(G,t),B(V,e),B(H,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?yd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=bd(t=yd(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}F(H),B(H,e)}function $(){F(H),F(V),F(G)}function Q(e){null!==e.memoizedState&&B(K,e);var t=H.current,n=bd(t,e.type);t!==n&&(B(V,e),B(H,n))}function Y(e){V.current===e&&(F(H),F(V)),K.current===e&&(F(K),dh._currentValue=D)}function X(e){if(void 0===q)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);q=t&&t[1]||"",W=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+q+e+W}var Z=!1;function ee(e,t){if(!e||Z)return"";Z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(a){var r=a}Reflect.construct(e,[],n)}else{try{n.call()}catch(s){r=s}e.call(n.prototype)}}else{try{throw Error()}catch(i){r=i}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(o){if(o&&r&&"string"===typeof o.stack)return[o.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=r.DetermineComponentFrameRoot(),i=s[0],o=s[1];if(i&&o){var l=i.split("\n"),c=o.split("\n");for(a=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;a<c.length&&!c[a].includes("DetermineComponentFrameRoot");)a++;if(r===l.length||a===c.length)for(r=l.length-1,a=c.length-1;1<=r&&0<=a&&l[r]!==c[a];)a--;for(;1<=r&&0<=a;r--,a--)if(l[r]!==c[a]){if(1!==r||1!==a)do{if(r--,0>--a||l[r]!==c[a]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=a);break}}}finally{Z=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?X(n):""}function te(e,t){switch(e.tag){case 26:case 27:case 5:return X(e.type);case 16:return X("Lazy");case 13:return e.child!==t&&null!==t?X("Suspense Fallback"):X("Suspense");case 19:return X("SuspenseList");case 0:case 15:return ee(e.type,!1);case 11:return ee(e.type.render,!1);case 1:return ee(e.type,!0);case 31:return X("Activity");default:return""}}function ne(e){try{var t="",n=null;do{t+=te(e,n),n=e,e=e.return}while(e);return t}catch(r){return"\nError generating stack: "+r.message+"\n"+r.stack}}var re=Object.prototype.hasOwnProperty,ae=r.unstable_scheduleCallback,se=r.unstable_cancelCallback,ie=r.unstable_shouldYield,oe=r.unstable_requestPaint,le=r.unstable_now,ce=r.unstable_getCurrentPriorityLevel,ue=r.unstable_ImmediatePriority,de=r.unstable_UserBlockingPriority,he=r.unstable_NormalPriority,pe=r.unstable_LowPriority,fe=r.unstable_IdlePriority,me=r.log,ge=r.unstable_setDisableYieldValue,ve=null,ye=null;function be(e){if("function"===typeof me&&ge(e),ye&&"function"===typeof ye.setStrictMode)try{ye.setStrictMode(ve,e)}catch(t){}}var we=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(Se(e)/xe|0)|0},Se=Math.log,xe=Math.LN2;var ke=256,_e=262144,je=4194304;function Ne(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ee(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var a=0,s=e.suspendedLanes,i=e.pingedLanes;e=e.warmLanes;var o=134217727&r;return 0!==o?0!==(r=o&~s)?a=Ne(r):0!==(i&=o)?a=Ne(i):n||0!==(n=o&~e)&&(a=Ne(n)):0!==(o=r&~s)?a=Ne(o):0!==i?a=Ne(i):n||0!==(n=r&~e)&&(a=Ne(n)),0===a?0:0!==t&&t!==a&&0===(t&s)&&((s=a&-a)>=(n=t&-t)||32===s&&0!==(4194048&n))?t:a}function Re(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Ce(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Te(){var e=je;return 0===(62914560&(je<<=1))&&(je=4194304),e}function Ie(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Oe(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Pe(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-we(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|261930&n}function Ae(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-we(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}function Le(e,t){var n=t&-t;return 0!==((n=0!==(42&n)?1:De(n))&(e.suspendedLanes|t))?0:n}function De(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ze(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Ue(){var e=L.p;return 0!==e?e:void 0===(e=window.event)?32:Eh(e.type)}function Me(e,t){var n=L.p;try{return L.p=e,t()}finally{L.p=n}}var Fe=Math.random().toString(36).slice(2),Be="__reactFiber$"+Fe,qe="__reactProps$"+Fe,We="__reactContainer$"+Fe,He="__reactEvents$"+Fe,Ve="__reactListeners$"+Fe,Ge="__reactHandles$"+Fe,Ke="__reactResources$"+Fe,Je="__reactMarker$"+Fe;function $e(e){delete e[Be],delete e[qe],delete e[He],delete e[Ve],delete e[Ge]}function Qe(e){var t=e[Be];if(t)return t;for(var n=e.parentNode;n;){if(t=n[We]||n[Be]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=zd(e);null!==e;){if(n=e[Be])return n;e=zd(e)}return t}n=(e=n).parentNode}return null}function Ye(e){if(e=e[Be]||e[We]){var t=e.tag;if(5===t||6===t||13===t||31===t||26===t||27===t||3===t)return e}return null}function Xe(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(i(33))}function Ze(e){var t=e[Ke];return t||(t=e[Ke]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function et(e){e[Je]=!0}var tt=new Set,nt={};function rt(e,t){at(e,t),at(e+"Capture",t)}function at(e,t){for(nt[e]=t,e=0;e<t.length;e++)tt.add(t[e])}var st=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),it={},ot={};function lt(e,t,n){if(a=t,re.call(ot,a)||!re.call(it,a)&&(st.test(a)?ot[a]=!0:(it[a]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var a}function ct(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function ut(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function dt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ht(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function pt(e){if(!e._valueTracker){var t=ht(e)?"checked":"value";e._valueTracker=function(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var a=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){n=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e,t,""+e[t])}}function ft(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ht(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function mt(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var gt=/[\n"\\]/g;function vt(e){return e.replace(gt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function yt(e,t,n,r,a,s,i,o){e.name="",null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i?e.type=i:e.removeAttribute("type"),null!=t?"number"===i?(0===t&&""===e.value||e.value!=t)&&(e.value=""+dt(t)):e.value!==""+dt(t)&&(e.value=""+dt(t)):"submit"!==i&&"reset"!==i||e.removeAttribute("value"),null!=t?wt(e,i,dt(t)):null!=n?wt(e,i,dt(n)):null!=r&&e.removeAttribute("value"),null==a&&null!=s&&(e.defaultChecked=!!s),null!=a&&(e.checked=a&&"function"!==typeof a&&"symbol"!==typeof a),null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.name=""+dt(o):e.removeAttribute("name")}function bt(e,t,n,r,a,s,i,o){if(null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.type=s),null!=t||null!=n){if(!("submit"!==s&&"reset"!==s||void 0!==t&&null!==t))return void pt(e);n=null!=n?""+dt(n):"",t=null!=t?""+dt(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:a)&&"symbol"!==typeof r&&!!r,e.checked=o?e.checked:!!r,e.defaultChecked=!!r,null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i&&(e.name=i),pt(e)}function wt(e,t,n){"number"===t&&mt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function St(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+dt(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function xt(e,t,n){null==t||((t=""+dt(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+dt(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function kt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(i(92));if(P(r)){if(1<r.length)throw Error(i(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=dt(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r),pt(e)}function _t(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var jt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Nt(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||jt.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Et(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(i(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var a in t)r=t[a],t.hasOwnProperty(a)&&n[a]!==r&&Nt(e,a,r)}else for(var s in t)t.hasOwnProperty(s)&&Nt(e,s,t[s])}function Rt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ct=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Tt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function It(e){return Tt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Ot(){}var Pt=null;function At(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Lt=null,Dt=null;function zt(e){var t=Ye(e);if(t&&(e=t.stateNode)){var n=e[qe]||null;e:switch(e=t.stateNode,t.type){case"input":if(yt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+vt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=r[qe]||null;if(!a)throw Error(i(90));yt(r,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&ft(r)}break e;case"textarea":xt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&St(e,!!n.multiple,t,!1)}}}var Ut=!1;function Mt(e,t,n){if(Ut)return e(t,n);Ut=!0;try{return e(t)}finally{if(Ut=!1,(null!==Lt||null!==Dt)&&(eu(),Lt&&(t=Lt,e=Dt,Dt=Lt=null,zt(t),e)))for(t=0;t<e.length;t++)zt(e[t])}}function Ft(e,t){var n=e.stateNode;if(null===n)return null;var r=n[qe]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var Bt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),qt=!1;if(Bt)try{var Wt={};Object.defineProperty(Wt,"passive",{get:function(){qt=!0}}),window.addEventListener("test",Wt,Wt),window.removeEventListener("test",Wt,Wt)}catch(Xh){qt=!1}var Ht=null,Vt=null,Gt=null;function Kt(){if(Gt)return Gt;var e,t,n=Vt,r=n.length,a="value"in Ht?Ht.value:Ht.textContent,s=a.length;for(e=0;e<r&&n[e]===a[e];e++);var i=r-e;for(t=1;t<=i&&n[r-t]===a[s-t];t++);return Gt=a.slice(e,1<t?1-t:void 0)}function Jt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function $t(){return!0}function Qt(){return!1}function Yt(e){function t(t,n,r,a,s){for(var i in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(a):a[i]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?$t:Qt,this.isPropagationStopped=Qt,this}return p(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=$t)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=$t)},persist:function(){},isPersistent:$t}),t}var Xt,Zt,en,tn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nn=Yt(tn),rn=p({},tn,{view:0,detail:0}),an=Yt(rn),sn=p({},rn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==en&&(en&&"mousemove"===e.type?(Xt=e.screenX-en.screenX,Zt=e.screenY-en.screenY):Zt=Xt=0,en=e),Xt)},movementY:function(e){return"movementY"in e?e.movementY:Zt}}),on=Yt(sn),ln=Yt(p({},sn,{dataTransfer:0})),cn=Yt(p({},rn,{relatedTarget:0})),un=Yt(p({},tn,{animationName:0,elapsedTime:0,pseudoElement:0})),dn=Yt(p({},tn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),hn=Yt(p({},tn,{data:0})),pn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=mn[e])&&!!t[e]}function vn(){return gn}var yn=p({},rn,{key:function(e){if(e.key){var t=pn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Jt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?fn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vn,charCode:function(e){return"keypress"===e.type?Jt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Jt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),bn=Yt(yn),wn=Yt(p({},sn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Sn=Yt(p({},rn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vn})),xn=Yt(p({},tn,{propertyName:0,elapsedTime:0,pseudoElement:0})),kn=Yt(p({},sn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),_n=Yt(p({},tn,{newState:0,oldState:0})),jn=[9,13,27,32],Nn=Bt&&"CompositionEvent"in window,En=null;Bt&&"documentMode"in document&&(En=document.documentMode);var Rn=Bt&&"TextEvent"in window&&!En,Cn=Bt&&(!Nn||En&&8<En&&11>=En),Tn=String.fromCharCode(32),In=!1;function On(e,t){switch(e){case"keyup":return-1!==jn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var An=!1;var Ln={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Ln[e.type]:"textarea"===t}function zn(e,t,n,r){Lt?Dt?Dt.push(r):Dt=[r]:Lt=r,0<(t=ad(t,"onChange")).length&&(n=new nn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Un=null,Mn=null;function Fn(e){Qu(e,0)}function Bn(e){if(ft(Xe(e)))return e}function qn(e,t){if("change"===e)return t}var Wn=!1;if(Bt){var Hn;if(Bt){var Vn="oninput"in document;if(!Vn){var Gn=document.createElement("div");Gn.setAttribute("oninput","return;"),Vn="function"===typeof Gn.oninput}Hn=Vn}else Hn=!1;Wn=Hn&&(!document.documentMode||9<document.documentMode)}function Kn(){Un&&(Un.detachEvent("onpropertychange",Jn),Mn=Un=null)}function Jn(e){if("value"===e.propertyName&&Bn(Mn)){var t=[];zn(t,Mn,e,At(e)),Mt(Fn,t)}}function $n(e,t,n){"focusin"===e?(Kn(),Mn=n,(Un=t).attachEvent("onpropertychange",Jn)):"focusout"===e&&Kn()}function Qn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Bn(Mn)}function Yn(e,t){if("click"===e)return Bn(t)}function Xn(e,t){if("input"===e||"change"===e)return Bn(t)}var Zn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function er(e,t){if(Zn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!re.call(t,a)||!Zn(e[a],t[a]))return!1}return!0}function tr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function nr(e,t){var n,r=tr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=tr(r)}}function rr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?rr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function ar(e){for(var t=mt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=mt((e=t.contentWindow).document)}return t}function sr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var ir=Bt&&"documentMode"in document&&11>=document.documentMode,or=null,lr=null,cr=null,ur=!1;function dr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ur||null==or||or!==mt(r)||("selectionStart"in(r=or)&&sr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},cr&&er(cr,r)||(cr=r,0<(r=ad(lr,"onSelect")).length&&(t=new nn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=or)))}function hr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var pr={animationend:hr("Animation","AnimationEnd"),animationiteration:hr("Animation","AnimationIteration"),animationstart:hr("Animation","AnimationStart"),transitionrun:hr("Transition","TransitionRun"),transitionstart:hr("Transition","TransitionStart"),transitioncancel:hr("Transition","TransitionCancel"),transitionend:hr("Transition","TransitionEnd")},fr={},mr={};function gr(e){if(fr[e])return fr[e];if(!pr[e])return e;var t,n=pr[e];for(t in n)if(n.hasOwnProperty(t)&&t in mr)return fr[e]=n[t];return e}Bt&&(mr=document.createElement("div").style,"AnimationEvent"in window||(delete pr.animationend.animation,delete pr.animationiteration.animation,delete pr.animationstart.animation),"TransitionEvent"in window||delete pr.transitionend.transition);var vr=gr("animationend"),yr=gr("animationiteration"),br=gr("animationstart"),wr=gr("transitionrun"),Sr=gr("transitionstart"),xr=gr("transitioncancel"),kr=gr("transitionend"),_r=new Map,jr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nr(e,t){_r.set(e,t),rt(t,[e])}jr.push("scrollEnd");var Er="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},Rr=[],Cr=0,Tr=0;function Ir(){for(var e=Cr,t=Tr=Cr=0;t<e;){var n=Rr[t];Rr[t++]=null;var r=Rr[t];Rr[t++]=null;var a=Rr[t];Rr[t++]=null;var s=Rr[t];if(Rr[t++]=null,null!==r&&null!==a){var i=r.pending;null===i?a.next=a:(a.next=i.next,i.next=a),r.pending=a}0!==s&&Lr(n,a,s)}}function Or(e,t,n,r){Rr[Cr++]=e,Rr[Cr++]=t,Rr[Cr++]=n,Rr[Cr++]=r,Tr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Pr(e,t,n,r){return Or(e,t,n,r),Dr(e)}function Ar(e,t){return Or(e,null,null,t),Dr(e)}function Lr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var a=!1,s=e.return;null!==s;)s.childLanes|=n,null!==(r=s.alternate)&&(r.childLanes|=n),22===s.tag&&(null===(e=s.stateNode)||1&e._visibility||(a=!0)),e=s,s=s.return;return 3===e.tag?(s=e.stateNode,a&&null!==t&&(a=31-we(n),null===(r=(e=s.hiddenUpdates)[a])?e[a]=[t]:r.push(t),t.lane=536870912|n),s):null}function Dr(e){if(50<Vc)throw Vc=0,Gc=null,Error(i(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var zr={};function Ur(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mr(e,t,n,r){return new Ur(e,t,n,r)}function Fr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Br(e,t){var n=e.alternate;return null===n?((n=Mr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function qr(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Wr(e,t,n,r,a,s){var o=0;if(r=e,"function"===typeof e)Fr(e)&&(o=1);else if("string"===typeof e)o=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,H.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case E:return(e=Mr(31,n,t,a)).elementType=E,e.lanes=s,e;case v:return Hr(n.children,a,s,t);case y:o=8,a|=24;break;case b:return(e=Mr(12,n,t,2|a)).elementType=b,e.lanes=s,e;case k:return(e=Mr(13,n,t,a)).elementType=k,e.lanes=s,e;case _:return(e=Mr(19,n,t,a)).elementType=_,e.lanes=s,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:o=10;break e;case w:o=9;break e;case x:o=11;break e;case j:o=14;break e;case N:o=16,r=null;break e}o=29,n=Error(i(130,null===e?"null":typeof e,"")),r=null}return(t=Mr(o,n,t,a)).elementType=e,t.type=r,t.lanes=s,t}function Hr(e,t,n,r){return(e=Mr(7,e,r,t)).lanes=n,e}function Vr(e,t,n){return(e=Mr(6,e,null,t)).lanes=n,e}function Gr(e){var t=Mr(18,null,null,0);return t.stateNode=e,t}function Kr(e,t,n){return(t=Mr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Jr=new WeakMap;function $r(e,t){if("object"===typeof e&&null!==e){var n=Jr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:ne(t)},Jr.set(e,t),t)}return{value:e,source:t,stack:ne(t)}}var Qr=[],Yr=0,Xr=null,Zr=0,ea=[],ta=0,na=null,ra=1,aa="";function sa(e,t){Qr[Yr++]=Zr,Qr[Yr++]=Xr,Xr=e,Zr=t}function ia(e,t,n){ea[ta++]=ra,ea[ta++]=aa,ea[ta++]=na,na=e;var r=ra;e=aa;var a=32-we(r)-1;r&=~(1<<a),n+=1;var s=32-we(t)+a;if(30<s){var i=a-a%5;s=(r&(1<<i)-1).toString(32),r>>=i,a-=i,ra=1<<32-we(t)+a|n<<a|r,aa=s+e}else ra=1<<s|n<<a|r,aa=e}function oa(e){null!==e.return&&(sa(e,1),ia(e,1,0))}function la(e){for(;e===Xr;)Xr=Qr[--Yr],Qr[Yr]=null,Zr=Qr[--Yr],Qr[Yr]=null;for(;e===na;)na=ea[--ta],ea[ta]=null,aa=ea[--ta],ea[ta]=null,ra=ea[--ta],ea[ta]=null}function ca(e,t){ea[ta++]=ra,ea[ta++]=aa,ea[ta++]=na,ra=t.id,aa=t.overflow,na=e}var ua=null,da=null,ha=!1,pa=null,fa=!1,ma=Error(i(519));function ga(e){throw xa($r(Error(i(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),ma}function va(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Be]=e,t[qe]=r,n){case"dialog":Yu("cancel",t),Yu("close",t);break;case"iframe":case"object":case"embed":Yu("load",t);break;case"video":case"audio":for(n=0;n<Ju.length;n++)Yu(Ju[n],t);break;case"source":Yu("error",t);break;case"img":case"image":case"link":Yu("error",t),Yu("load",t);break;case"details":Yu("toggle",t);break;case"input":Yu("invalid",t),bt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Yu("invalid",t);break;case"textarea":Yu("invalid",t),kt(t,r.value,r.defaultValue,r.children)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||ud(t.textContent,n)?(null!=r.popover&&(Yu("beforetoggle",t),Yu("toggle",t)),null!=r.onScroll&&Yu("scroll",t),null!=r.onScrollEnd&&Yu("scrollend",t),null!=r.onClick&&(t.onclick=Ot),t=!0):t=!1,t||ga(e,!0)}function ya(e){for(ua=e.return;ua;)switch(ua.tag){case 5:case 31:case 13:return void(fa=!1);case 27:case 3:return void(fa=!0);default:ua=ua.return}}function ba(e){if(e!==ua)return!1;if(!ha)return ya(e),ha=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||wd(e.type,e.memoizedProps)),t=!t),t&&da&&ga(e),ya(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));da=Dd(e)}else if(31===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));da=Dd(e)}else 27===n?(n=da,Ed(e.type)?(e=Ld,Ld=null,da=e):da=n):da=ua?Ad(e.stateNode.nextSibling):null;return!0}function wa(){da=ua=null,ha=!1}function Sa(){var e=pa;return null!==e&&(null===Ic?Ic=e:Ic.push.apply(Ic,e),pa=null),e}function xa(e){null===pa?pa=[e]:pa.push(e)}var ka=M(null),_a=null,ja=null;function Na(e,t,n){B(ka,t._currentValue),t._currentValue=n}function Ea(e){e._currentValue=ka.current,F(ka)}function Ra(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ca(e,t,n,r){var a=e.child;for(null!==a&&(a.return=e);null!==a;){var s=a.dependencies;if(null!==s){var o=a.child;s=s.firstContext;e:for(;null!==s;){var l=s;s=a;for(var c=0;c<t.length;c++)if(l.context===t[c]){s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Ra(s.return,n,e),r||(o=null);break e}s=l.next}}else if(18===a.tag){if(null===(o=a.return))throw Error(i(341));o.lanes|=n,null!==(s=o.alternate)&&(s.lanes|=n),Ra(o,n,e),o=null}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===e){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}}function Ta(e,t,n,r){e=null;for(var a=t,s=!1;null!==a;){if(!s)if(0!==(524288&a.flags))s=!0;else if(0!==(262144&a.flags))break;if(10===a.tag){var o=a.alternate;if(null===o)throw Error(i(387));if(null!==(o=o.memoizedProps)){var l=a.type;Zn(a.pendingProps.value,o.value)||(null!==e?e.push(l):e=[l])}}else if(a===K.current){if(null===(o=a.alternate))throw Error(i(387));o.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(null!==e?e.push(dh):e=[dh])}a=a.return}null!==e&&Ca(t,e,n,r),t.flags|=262144}function Ia(e){for(e=e.firstContext;null!==e;){if(!Zn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Oa(e){_a=e,ja=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Pa(e){return La(_a,e)}function Aa(e,t){return null===_a&&Oa(e),La(e,t)}function La(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===ja){if(null===e)throw Error(i(308));ja=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ja=ja.next=t;return n}var Da="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},za=r.unstable_scheduleCallback,Ua=r.unstable_NormalPriority,Ma={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fa(){return{controller:new Da,data:new Map,refCount:0}}function Ba(e){e.refCount--,0===e.refCount&&za(Ua,function(){e.controller.abort()})}var qa=null,Wa=0,Ha=0,Va=null;function Ga(){if(0===--Wa&&null!==qa){null!==Va&&(Va.status="fulfilled");var e=qa;qa=null,Ha=0,Va=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Ka=A.S;A.S=function(e,t){Ac=le(),"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===qa){var n=qa=[];Wa=0,Ha=Wu(),Va={status:"pending",value:void 0,then:function(e){n.push(e)}}}Wa++,t.then(Ga,Ga)}(0,t),null!==Ka&&Ka(e,t)};var Ja=M(null);function $a(){var e=Ja.current;return null!==e?e:mc.pooledCache}function Qa(e,t){B(Ja,null===t?Ja.current:t.pool)}function Ya(){var e=$a();return null===e?null:{parent:Ma._currentValue,pool:e}}var Xa=Error(i(460)),Za=Error(i(474)),es=Error(i(542)),ts={then:function(){}};function ns(e){return"fulfilled"===(e=e.status)||"rejected"===e}function rs(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Ot,Ot),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw os(e=t.reason),e;default:if("string"===typeof t.status)t.then(Ot,Ot);else{if(null!==(e=mc)&&100<e.shellSuspendCounter)throw Error(i(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw os(e=t.reason),e}throw ss=t,Xa}}function as(e){try{return(0,e._init)(e._payload)}catch(t){if(null!==t&&"object"===typeof t&&"function"===typeof t.then)throw ss=t,Xa;throw t}}var ss=null;function is(){if(null===ss)throw Error(i(459));var e=ss;return ss=null,e}function os(e){if(e===Xa||e===es)throw Error(i(483))}var ls=null,cs=0;function us(e){var t=cs;return cs+=1,null===ls&&(ls=[]),rs(ls,e,t)}function ds(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function hs(e,t){if(t.$$typeof===f)throw Error(i(525));throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ps(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function a(e,t){return(e=Br(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Vr(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===v?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===N&&as(s)===t.type)?(ds(t=a(t,n.props),n),t.return=e,t):(ds(t=Wr(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Kr(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function d(e,t,n,r,s){return null===t||7!==t.tag?((t=Hr(n,e.mode,r,s)).return=e,t):((t=a(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Vr(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case m:return ds(n=Wr(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case g:return(t=Kr(t,e.mode,n)).return=e,t;case N:return h(e,t=as(t),n)}if(P(t)||T(t))return(t=Hr(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return h(e,us(t),n);if(t.$$typeof===S)return h(e,Aa(e,t),n);hs(e,t)}return null}function p(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==a?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case m:return n.key===a?c(e,t,n,r):null;case g:return n.key===a?u(e,t,n,r):null;case N:return p(e,t,n=as(n),r)}if(P(n)||T(n))return null!==a?null:d(e,t,n,r,null);if("function"===typeof n.then)return p(e,t,us(n),r);if(n.$$typeof===S)return p(e,t,Aa(e,n),r);hs(e,n)}return null}function f(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case m:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case g:return u(t,e=e.get(null===r.key?n:r.key)||null,r,a);case N:return f(e,t,n,r=as(r),a)}if(P(r)||T(r))return d(t,e=e.get(n)||null,r,a,null);if("function"===typeof r.then)return f(e,t,n,us(r),a);if(r.$$typeof===S)return f(e,t,n,Aa(t,r),a);hs(t,r)}return null}function y(l,c,u,d){if("object"===typeof u&&null!==u&&u.type===v&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case m:e:{for(var b=u.key;null!==c;){if(c.key===b){if((b=u.type)===v){if(7===c.tag){n(l,c.sibling),(d=a(c,u.props.children)).return=l,l=d;break e}}else if(c.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===N&&as(b)===c.type){n(l,c.sibling),ds(d=a(c,u.props),u),d.return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===v?((d=Hr(u.props.children,l.mode,d,u.key)).return=l,l=d):(ds(d=Wr(u.type,u.key,u.props,null,l.mode,d),u),d.return=l,l=d)}return o(l);case g:e:{for(b=u.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(d=a(c,u.children||[])).return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}(d=Kr(u,l.mode,d)).return=l,l=d}return o(l);case N:return y(l,c,u=as(u),d)}if(P(u))return function(a,i,o,l){for(var c=null,u=null,d=i,m=i=0,g=null;null!==d&&m<o.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=p(a,d,o[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(a,d),i=s(v,i,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===o.length)return n(a,d),ha&&sa(a,m),c;if(null===d){for(;m<o.length;m++)null!==(d=h(a,o[m],l))&&(i=s(d,i,m),null===u?c=d:u.sibling=d,u=d);return ha&&sa(a,m),c}for(d=r(d);m<o.length;m++)null!==(g=f(d,a,m,o[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),i=s(g,i,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(a,e)}),ha&&sa(a,m),c}(l,c,u,d);if(T(u)){if("function"!==typeof(b=T(u)))throw Error(i(150));return function(a,o,l,c){if(null==l)throw Error(i(151));for(var u=null,d=null,m=o,g=o=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=p(a,m,y.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(a,m),o=s(b,o,g),null===d?u=b:d.sibling=b,d=b,m=v}if(y.done)return n(a,m),ha&&sa(a,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=h(a,y.value,c))&&(o=s(y,o,g),null===d?u=y:d.sibling=y,d=y);return ha&&sa(a,g),u}for(m=r(m);!y.done;g++,y=l.next())null!==(y=f(m,a,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),o=s(y,o,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach(function(e){return t(a,e)}),ha&&sa(a,g),u}(l,c,u=b.call(u),d)}if("function"===typeof u.then)return y(l,c,us(u),d);if(u.$$typeof===S)return y(l,c,Aa(l,u),d);hs(l,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(d=a(c,u)).return=l,l=d):(n(l,c),(d=Vr(u,l.mode,d)).return=l,l=d),o(l)):n(l,c)}return function(e,t,n,r){try{cs=0;var a=y(e,t,n,r);return ls=null,a}catch(i){if(i===Xa||i===es)throw i;var s=Mr(29,i,null,e.mode);return s.lanes=r,s.return=e,s}}}var fs=ps(!0),ms=ps(!1),gs=!1;function vs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ys(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function bs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ws(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&fc)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,t=Dr(e),Lr(e,null,n),t}return Or(e,r,t,n),Dr(e)}function Ss(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ae(e,n)}}function xs(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var i={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===s?a=s=i:s=s.next=i,n=n.next}while(null!==n);null===s?a=s=t:s=s.next=t}else a=s=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var ks=!1;function _s(){if(ks){if(null!==Va)throw Va}}function js(e,t,n,r){ks=!1;var a=e.updateQueue;gs=!1;var s=a.firstBaseUpdate,i=a.lastBaseUpdate,o=a.shared.pending;if(null!==o){a.shared.pending=null;var l=o,c=l.next;l.next=null,null===i?s=c:i.next=c,i=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==i&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==s){var d=a.baseState;for(i=0,u=c=l=null,o=s;;){var h=-536870913&o.lane,f=h!==o.lane;if(f?(vc&h)===h:(r&h)===h){0!==h&&h===Ha&&(ks=!0),null!==u&&(u=u.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var m=e,g=o;h=t;var v=n;switch(g.tag){case 1:if("function"===typeof(m=g.payload)){d=m.call(v,d,h);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(h="function"===typeof(m=g.payload)?m.call(v,d,h):m)||void 0===h)break e;d=p({},d,h);break e;case 2:gs=!0}}null!==(h=o.callback)&&(e.flags|=64,f&&(e.flags|=8192),null===(f=a.callbacks)?a.callbacks=[h]:f.push(h))}else f={lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,i|=h;if(null===(o=o.next)){if(null===(o=a.shared.pending))break;o=(f=o).next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}null===u&&(l=d),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=u,null===s&&(a.shared.lanes=0),jc|=i,e.lanes=i,e.memoizedState=d}}function Ns(e,t){if("function"!==typeof e)throw Error(i(191,e));e.call(t)}function Es(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)Ns(n[e],t)}var Rs=M(null),Cs=M(0);function Ts(e,t){B(Cs,e=kc),B(Rs,t),kc=e|t.baseLanes}function Is(){B(Cs,kc),B(Rs,Rs.current)}function Os(){kc=Cs.current,F(Rs),F(Cs)}var Ps=M(null),As=null;function Ls(e){var t=e.alternate;B(Fs,1&Fs.current),B(Ps,e),null===As&&(null===t||null!==Rs.current||null!==t.memoizedState)&&(As=e)}function Ds(e){B(Fs,Fs.current),B(Ps,e),null===As&&(As=e)}function zs(e){22===e.tag?(B(Fs,Fs.current),B(Ps,e),null===As&&(As=e)):Us()}function Us(){B(Fs,Fs.current),B(Ps,Ps.current)}function Ms(e){F(Ps),As===e&&(As=null),F(Fs)}var Fs=M(0);function Bs(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Od(n)||Pd(n)))return t}else if(19!==t.tag||"forwards"!==t.memoizedProps.revealOrder&&"backwards"!==t.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==t.memoizedProps.revealOrder&&"together"!==t.memoizedProps.revealOrder){if(null!==t.child){t.child.return=t,t=t.child;continue}}else if(0!==(128&t.flags))return t;if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var qs=0,Ws=null,Hs=null,Vs=null,Gs=!1,Ks=!1,Js=!1,$s=0,Qs=0,Ys=null,Xs=0;function Zs(){throw Error(i(321))}function ei(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Zn(e[n],t[n]))return!1;return!0}function ti(e,t,n,r,a,s){return qs=s,Ws=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,A.H=null===e||null===e.memoizedState?vo:yo,Js=!1,s=n(r,a),Js=!1,Ks&&(s=ri(t,n,r,a)),ni(e),s}function ni(e){A.H=go;var t=null!==Hs&&null!==Hs.next;if(qs=0,Vs=Hs=Ws=null,Gs=!1,Qs=0,Ys=null,t)throw Error(i(300));null===e||Ao||null!==(e=e.dependencies)&&Ia(e)&&(Ao=!0)}function ri(e,t,n,r){Ws=e;var a=0;do{if(Ks&&(Ys=null),Qs=0,Ks=!1,25<=a)throw Error(i(301));if(a+=1,Vs=Hs=null,null!=e.updateQueue){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,null!=s.memoCache&&(s.memoCache.index=0)}A.H=bo,s=t(n,r)}while(Ks);return s}function ai(){var e=A.H,t=e.useState()[0];return t="function"===typeof t.then?ui(t):t,e=e.useState()[0],(null!==Hs?Hs.memoizedState:null)!==e&&(Ws.flags|=1024),t}function si(){var e=0!==$s;return $s=0,e}function ii(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function oi(e){if(Gs){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Gs=!1}qs=0,Vs=Hs=Ws=null,Ks=!1,Qs=$s=0,Ys=null}function li(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Vs?Ws.memoizedState=Vs=e:Vs=Vs.next=e,Vs}function ci(){if(null===Hs){var e=Ws.alternate;e=null!==e?e.memoizedState:null}else e=Hs.next;var t=null===Vs?Ws.memoizedState:Vs.next;if(null!==t)Vs=t,Hs=e;else{if(null===e){if(null===Ws.alternate)throw Error(i(467));throw Error(i(310))}e={memoizedState:(Hs=e).memoizedState,baseState:Hs.baseState,baseQueue:Hs.baseQueue,queue:Hs.queue,next:null},null===Vs?Ws.memoizedState=Vs=e:Vs=Vs.next=e}return Vs}function ui(e){var t=Qs;return Qs+=1,null===Ys&&(Ys=[]),e=rs(Ys,e,t),t=Ws,null===(null===Vs?t.memoizedState:Vs.next)&&(t=t.alternate,A.H=null===t||null===t.memoizedState?vo:yo),e}function di(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return ui(e);if(e.$$typeof===S)return Pa(e)}throw Error(i(438,String(e)))}function hi(e){var t=null,n=Ws.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=Ws.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},Ws.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=R;return t.index++,n}function pi(e,t){return"function"===typeof t?t(e):t}function fi(e){return mi(ci(),Hs,e)}function mi(e,t,n){var r=e.queue;if(null===r)throw Error(i(311));r.lastRenderedReducer=n;var a=e.baseQueue,s=r.pending;if(null!==s){if(null!==a){var o=a.next;a.next=s.next,s.next=o}t.baseQueue=a=s,r.pending=null}if(s=e.baseState,null===a)e.memoizedState=s;else{var l=o=null,c=null,u=t=a.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(vc&h)===h:(qs&h)===h){var p=u.revertLane;if(0===p)null!==c&&(c=c.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===Ha&&(d=!0);else{if((qs&p)===p){u=u.next,p===Ha&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,o=s):c=c.next=h,Ws.lanes|=p,jc|=p}h=u.action,Js&&n(s,h),s=u.hasEagerState?u.eagerState:n(s,h)}else p={lane:h,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=p,o=s):c=c.next=p,Ws.lanes|=h,jc|=h;u=u.next}while(null!==u&&u!==t);if(null===c?o=s:c.next=l,!Zn(s,e.memoizedState)&&(Ao=!0,d&&null!==(n=Va)))throw n;e.memoizedState=s,e.baseState=o,e.baseQueue=c,r.lastRenderedState=s}return null===a&&(r.lanes=0),[e.memoizedState,r.dispatch]}function gi(e){var t=ci(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,s=t.memoizedState;if(null!==a){n.pending=null;var o=a=a.next;do{s=e(s,o.action),o=o.next}while(o!==a);Zn(s,t.memoizedState)||(Ao=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function vi(e,t,n){var r=Ws,a=ci(),s=ha;if(s){if(void 0===n)throw Error(i(407));n=n()}else n=t();var o=!Zn((Hs||a).memoizedState,n);if(o&&(a.memoizedState=n,Ao=!0),a=a.queue,qi(wi.bind(null,r,a,e),[e]),a.getSnapshot!==t||o||null!==Vs&&1&Vs.memoizedState.tag){if(r.flags|=2048,zi(9,{destroy:void 0},bi.bind(null,r,a,n,t),null),null===mc)throw Error(i(349));s||0!==(127&qs)||yi(r,t,n)}return n}function yi(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Ws.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},Ws.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function bi(e,t,n,r){t.value=n,t.getSnapshot=r,Si(t)&&xi(e)}function wi(e,t,n){return n(function(){Si(t)&&xi(e)})}function Si(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Zn(e,n)}catch(r){return!0}}function xi(e){var t=Ar(e,2);null!==t&&$c(t,e,2)}function ki(e){var t=li();if("function"===typeof e){var n=e;if(e=n(),Js){be(!0);try{n()}finally{be(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pi,lastRenderedState:e},t}function _i(e,t,n,r){return e.baseState=n,mi(e,Hs,"function"===typeof r?r:pi)}function ji(e,t,n,r,a){if(po(e))throw Error(i(485));if(null!==(e=t.action)){var s={payload:a,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){s.listeners.push(e)}};null!==A.T?n(!0):s.isTransition=!1,r(s),null===(n=t.pending)?(s.next=t.pending=s,Ni(t,s)):(s.next=n.next,t.pending=n.next=s)}}function Ni(e,t){var n=t.action,r=t.payload,a=e.state;if(t.isTransition){var s=A.T,i={};A.T=i;try{var o=n(a,r),l=A.S;null!==l&&l(i,o),Ei(e,t,o)}catch(c){Ci(e,t,c)}finally{null!==s&&null!==i.types&&(s.types=i.types),A.T=s}}else try{Ei(e,t,s=n(a,r))}catch(u){Ci(e,t,u)}}function Ei(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){Ri(e,t,n)},function(n){return Ci(e,t,n)}):Ri(e,t,n)}function Ri(e,t,n){t.status="fulfilled",t.value=n,Ti(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,Ni(e,n)))}function Ci(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,Ti(t),t=t.next}while(t!==r)}e.action=null}function Ti(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Ii(e,t){return t}function Oi(e,t){if(ha){var n=mc.formState;if(null!==n){e:{var r=Ws;if(ha){if(da){t:{for(var a=da,s=fa;8!==a.nodeType;){if(!s){a=null;break t}if(null===(a=Ad(a.nextSibling))){a=null;break t}}a="F!"===(s=a.data)||"F"===s?a:null}if(a){da=Ad(a.nextSibling),r="F!"===a.data;break e}}ga(r)}r=!1}r&&(t=n[0])}}return(n=li()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:t},n.queue=r,n=co.bind(null,Ws,r),r.dispatch=n,r=ki(!1),s=ho.bind(null,Ws,!1,r.queue),a={state:t,dispatch:null,action:e,pending:null},(r=li()).queue=a,n=ji.bind(null,Ws,a,s,n),a.dispatch=n,r.memoizedState=e,[t,n,!1]}function Pi(e){return Ai(ci(),Hs,e)}function Ai(e,t,n){if(t=mi(e,t,Ii)[0],e=fi(pi)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=ui(t)}catch(i){if(i===Xa)throw es;throw i}else r=t;var a=(t=ci()).queue,s=a.dispatch;return n!==t.memoizedState&&(Ws.flags|=2048,zi(9,{destroy:void 0},Li.bind(null,a,n),null)),[r,s,e]}function Li(e,t){e.action=t}function Di(e){var t=ci(),n=Hs;if(null!==n)return Ai(t,n,e);ci(),t=t.memoizedState;var r=(n=ci()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function zi(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=Ws.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Ws.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ui(){return ci().memoizedState}function Mi(e,t,n,r){var a=li();Ws.flags|=e,a.memoizedState=zi(1|t,{destroy:void 0},n,void 0===r?null:r)}function Fi(e,t,n,r){var a=ci();r=void 0===r?null:r;var s=a.memoizedState.inst;null!==Hs&&null!==r&&ei(r,Hs.memoizedState.deps)?a.memoizedState=zi(t,s,n,r):(Ws.flags|=e,a.memoizedState=zi(1|t,s,n,r))}function Bi(e,t){Mi(8390656,8,e,t)}function qi(e,t){Fi(2048,8,e,t)}function Wi(e){var t=ci().memoizedState;return function(e){Ws.flags|=4;var t=Ws.updateQueue;if(null===t)t={lastEffect:null,events:null,stores:null,memoCache:null},Ws.updateQueue=t,t.events=[e];else{var n=t.events;null===n?t.events=[e]:n.push(e)}}({ref:t,nextImpl:e}),function(){if(0!==(2&fc))throw Error(i(440));return t.impl.apply(void 0,arguments)}}function Hi(e,t){return Fi(4,2,e,t)}function Vi(e,t){return Fi(4,4,e,t)}function Gi(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Ki(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Fi(4,4,Gi.bind(null,t,e),n)}function Ji(){}function $i(e,t){var n=ci();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&ei(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Qi(e,t){var n=ci();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&ei(t,r[1]))return r[0];if(r=e(),Js){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[r,t],r}function Yi(e,t,n){return void 0===n||0!==(1073741824&qs)&&0===(261930&vc)?e.memoizedState=t:(e.memoizedState=n,e=Jc(),Ws.lanes|=e,jc|=e,n)}function Xi(e,t,n,r){return Zn(n,t)?n:null!==Rs.current?(e=Yi(e,n,r),Zn(e,t)||(Ao=!0),e):0===(42&qs)||0!==(1073741824&qs)&&0===(261930&vc)?(Ao=!0,e.memoizedState=n):(e=Jc(),Ws.lanes|=e,jc|=e,t)}function Zi(e,t,n,r,a){var s=L.p;L.p=0!==s&&8>s?s:8;var i=A.T,o={};A.T=o,ho(e,!1,t,n);try{var l=a(),c=A.S;if(null!==c&&c(o,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)uo(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}(l,r),Kc());else uo(e,t,r,Kc())}catch(u){uo(e,t,{then:function(){},status:"rejected",reason:u},Kc())}finally{L.p=s,null!==i&&null!==o.types&&(i.types=o.types),A.T=i}}function eo(){}function to(e,t,n,r){if(5!==e.tag)throw Error(i(476));var a=no(e).queue;Zi(e,a,t,D,null===n?eo:function(){return ro(e),n(r)})}function no(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:D,baseState:D,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pi,lastRenderedState:D},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pi,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function ro(e){var t=no(e);null===t.next&&(t=e.alternate.memoizedState),uo(e,t.next.queue,{},Kc())}function ao(){return Pa(dh)}function so(){return ci().memoizedState}function io(){return ci().memoizedState}function oo(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Kc(),r=ws(t,e=bs(n),n);return null!==r&&($c(r,t,n),Ss(r,t,n)),t={cache:Fa()},void(e.payload=t)}t=t.return}}function lo(e,t,n){var r=Kc();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},po(e)?fo(t,n):null!==(n=Pr(e,t,n,r))&&($c(n,e,r),mo(n,t,r))}function co(e,t,n){uo(e,t,n,Kc())}function uo(e,t,n,r){var a={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(po(e))fo(t,a);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var i=t.lastRenderedState,o=s(i,n);if(a.hasEagerState=!0,a.eagerState=o,Zn(o,i))return Or(e,t,a,0),null===mc&&Ir(),!1}catch(l){}if(null!==(n=Pr(e,t,a,r)))return $c(n,e,r),mo(n,t,r),!0}return!1}function ho(e,t,n,r){if(r={lane:2,revertLane:Wu(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},po(e)){if(t)throw Error(i(479))}else null!==(t=Pr(e,n,r,2))&&$c(t,e,2)}function po(e){var t=e.alternate;return e===Ws||null!==t&&t===Ws}function fo(e,t){Ks=Gs=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function mo(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ae(e,n)}}var go={readContext:Pa,use:di,useCallback:Zs,useContext:Zs,useEffect:Zs,useImperativeHandle:Zs,useLayoutEffect:Zs,useInsertionEffect:Zs,useMemo:Zs,useReducer:Zs,useRef:Zs,useState:Zs,useDebugValue:Zs,useDeferredValue:Zs,useTransition:Zs,useSyncExternalStore:Zs,useId:Zs,useHostTransitionStatus:Zs,useFormState:Zs,useActionState:Zs,useOptimistic:Zs,useMemoCache:Zs,useCacheRefresh:Zs};go.useEffectEvent=Zs;var vo={readContext:Pa,use:di,useCallback:function(e,t){return li().memoizedState=[e,void 0===t?null:t],e},useContext:Pa,useEffect:Bi,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Mi(4194308,4,Gi.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Mi(4194308,4,e,t)},useInsertionEffect:function(e,t){Mi(4,2,e,t)},useMemo:function(e,t){var n=li();t=void 0===t?null:t;var r=e();if(Js){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=li();if(void 0!==n){var a=n(t);if(Js){be(!0);try{n(t)}finally{be(!1)}}}else a=t;return r.memoizedState=r.baseState=a,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:a},r.queue=e,e=e.dispatch=lo.bind(null,Ws,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},li().memoizedState=e},useState:function(e){var t=(e=ki(e)).queue,n=co.bind(null,Ws,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Ji,useDeferredValue:function(e,t){return Yi(li(),e,t)},useTransition:function(){var e=ki(!1);return e=Zi.bind(null,Ws,e.queue,!0,!1),li().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=Ws,a=li();if(ha){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===mc)throw Error(i(349));0!==(127&vc)||yi(r,t,n)}a.memoizedState=n;var s={value:n,getSnapshot:t};return a.queue=s,Bi(wi.bind(null,r,s,e),[e]),r.flags|=2048,zi(9,{destroy:void 0},bi.bind(null,r,s,n,t),null),n},useId:function(){var e=li(),t=mc.identifierPrefix;if(ha){var n=aa;t="_"+t+"R_"+(n=(ra&~(1<<32-we(ra)-1)).toString(32)+n),0<(n=$s++)&&(t+="H"+n.toString(32)),t+="_"}else t="_"+t+"r_"+(n=Xs++).toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:ao,useFormState:Oi,useActionState:Oi,useOptimistic:function(e){var t=li();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=ho.bind(null,Ws,!0,n),n.dispatch=t,[e,t]},useMemoCache:hi,useCacheRefresh:function(){return li().memoizedState=oo.bind(null,Ws)},useEffectEvent:function(e){var t=li(),n={impl:e};return t.memoizedState=n,function(){if(0!==(2&fc))throw Error(i(440));return n.impl.apply(void 0,arguments)}}},yo={readContext:Pa,use:di,useCallback:$i,useContext:Pa,useEffect:qi,useImperativeHandle:Ki,useInsertionEffect:Hi,useLayoutEffect:Vi,useMemo:Qi,useReducer:fi,useRef:Ui,useState:function(){return fi(pi)},useDebugValue:Ji,useDeferredValue:function(e,t){return Xi(ci(),Hs.memoizedState,e,t)},useTransition:function(){var e=fi(pi)[0],t=ci().memoizedState;return["boolean"===typeof e?e:ui(e),t]},useSyncExternalStore:vi,useId:so,useHostTransitionStatus:ao,useFormState:Pi,useActionState:Pi,useOptimistic:function(e,t){return _i(ci(),0,e,t)},useMemoCache:hi,useCacheRefresh:io};yo.useEffectEvent=Wi;var bo={readContext:Pa,use:di,useCallback:$i,useContext:Pa,useEffect:qi,useImperativeHandle:Ki,useInsertionEffect:Hi,useLayoutEffect:Vi,useMemo:Qi,useReducer:gi,useRef:Ui,useState:function(){return gi(pi)},useDebugValue:Ji,useDeferredValue:function(e,t){var n=ci();return null===Hs?Yi(n,e,t):Xi(n,Hs.memoizedState,e,t)},useTransition:function(){var e=gi(pi)[0],t=ci().memoizedState;return["boolean"===typeof e?e:ui(e),t]},useSyncExternalStore:vi,useId:so,useHostTransitionStatus:ao,useFormState:Di,useActionState:Di,useOptimistic:function(e,t){var n=ci();return null!==Hs?_i(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:hi,useCacheRefresh:io};function wo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:p({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}bo.useEffectEvent=Wi;var So={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Kc(),a=bs(r);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=ws(e,a,r))&&($c(t,e,r),Ss(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Kc(),a=bs(r);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=ws(e,a,r))&&($c(t,e,r),Ss(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Kc(),r=bs(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=ws(e,r,n))&&($c(t,e,n),Ss(t,e,n))}};function xo(e,t,n,r,a,s,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,i):!t.prototype||!t.prototype.isPureReactComponent||(!er(n,r)||!er(a,s))}function ko(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&So.enqueueReplaceState(t,t.state,null)}function _o(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var a in n===t&&(n=p({},n)),e)void 0===n[a]&&(n[a]=e[a]);return n}function jo(e){Er(e)}function No(e){console.error(e)}function Eo(e){Er(e)}function Ro(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Co(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function To(e,t,n){return(n=bs(n)).tag=3,n.payload={element:null},n.callback=function(){Ro(e,t)},n}function Io(e){return(e=bs(e)).tag=3,e}function Oo(e,t,n,r){var a=n.type.getDerivedStateFromError;if("function"===typeof a){var s=r.value;e.payload=function(){return a(s)},e.callback=function(){Co(t,n,r)}}var i=n.stateNode;null!==i&&"function"===typeof i.componentDidCatch&&(e.callback=function(){Co(t,n,r),"function"!==typeof a&&(null===zc?zc=new Set([this]):zc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Po=Error(i(461)),Ao=!1;function Lo(e,t,n,r){t.child=null===e?ms(t,null,n,r):fs(t,e.child,n,r)}function Do(e,t,n,r,a){n=n.render;var s=t.ref;if("ref"in r){var i={};for(var o in r)"ref"!==o&&(i[o]=r[o])}else i=r;return Oa(t),r=ti(e,t,n,i,s,a),o=si(),null===e||Ao?(ha&&o&&oa(t),t.flags|=1,Lo(e,t,r,a),t.child):(ii(e,t,a),sl(e,t,a))}function zo(e,t,n,r,a){if(null===e){var s=n.type;return"function"!==typeof s||Fr(s)||void 0!==s.defaultProps||null!==n.compare?((e=Wr(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Uo(e,t,s,r,a))}if(s=e.child,!il(e,a)){var i=s.memoizedProps;if((n=null!==(n=n.compare)?n:er)(i,r)&&e.ref===t.ref)return sl(e,t,a)}return t.flags|=1,(e=Br(s,r)).ref=t.ref,e.return=t,t.child=e}function Uo(e,t,n,r,a){if(null!==e){var s=e.memoizedProps;if(er(s,r)&&e.ref===t.ref){if(Ao=!1,t.pendingProps=r=s,!il(e,a))return t.lanes=e.lanes,sl(e,t,a);0!==(131072&e.flags)&&(Ao=!0)}}return Vo(e,t,n,r,a)}function Mo(e,t,n,r){var a=r.children,s=null!==e?e.memoizedState:null;if(null===e&&null===t.stateNode&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===r.mode){if(0!==(128&t.flags)){if(s=null!==s?s.baseLanes|n:n,null!==e){for(r=t.child=e.child,a=0;null!==r;)a=a|r.lanes|r.childLanes,r=r.sibling;r=a&~s}else r=0,t.child=null;return Bo(e,t,s,n,r)}if(0===(536870912&n))return r=t.lanes=536870912,Bo(e,t,null!==s?s.baseLanes|n:n,n,r);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Qa(0,null!==s?s.cachePool:null),null!==s?Ts(t,s):Is(),zs(t)}else null!==s?(Qa(0,s.cachePool),Ts(t,s),Us(),t.memoizedState=null):(null!==e&&Qa(0,null),Is(),Us());return Lo(e,t,a,n),t.child}function Fo(e,t){return null!==e&&22===e.tag||null!==t.stateNode||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Bo(e,t,n,r,a){var s=$a();return s=null===s?null:{parent:Ma._currentValue,pool:s},t.memoizedState={baseLanes:n,cachePool:s},null!==e&&Qa(0,null),Is(),zs(t),null!==e&&Ta(e,t,r,!0),t.childLanes=a,null}function qo(e,t){return(t=el({mode:t.mode,children:t.children},e.mode)).ref=e.ref,e.child=t,t.return=e,t}function Wo(e,t,n){return fs(t,e.child,null,n),(e=qo(t,t.pendingProps)).flags|=2,Ms(t),t.memoizedState=null,e}function Ho(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(i(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Vo(e,t,n,r,a){return Oa(t),n=ti(e,t,n,r,void 0,a),r=si(),null===e||Ao?(ha&&r&&oa(t),t.flags|=1,Lo(e,t,n,a),t.child):(ii(e,t,a),sl(e,t,a))}function Go(e,t,n,r,a,s){return Oa(t),t.updateQueue=null,n=ri(t,r,n,a),ni(e),r=si(),null===e||Ao?(ha&&r&&oa(t),t.flags|=1,Lo(e,t,n,s),t.child):(ii(e,t,s),sl(e,t,s))}function Ko(e,t,n,r,a){if(Oa(t),null===t.stateNode){var s=zr,i=n.contextType;"object"===typeof i&&null!==i&&(s=Pa(i)),s=new n(r,s),t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,s.updater=So,t.stateNode=s,s._reactInternals=t,(s=t.stateNode).props=r,s.state=t.memoizedState,s.refs={},vs(t),i=n.contextType,s.context="object"===typeof i&&null!==i?Pa(i):zr,s.state=t.memoizedState,"function"===typeof(i=n.getDerivedStateFromProps)&&(wo(t,n,i,r),s.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(i=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),i!==s.state&&So.enqueueReplaceState(s,s.state,null),js(t,r,s,a),_s(),s.state=t.memoizedState),"function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){s=t.stateNode;var o=t.memoizedProps,l=_o(n,o);s.props=l;var c=s.context,u=n.contextType;i=zr,"object"===typeof u&&null!==u&&(i=Pa(u));var d=n.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof s.getSnapshotBeforeUpdate,o=t.pendingProps!==o,u||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o||c!==i)&&ko(t,s,r,i),gs=!1;var h=t.memoizedState;s.state=h,js(t,r,s,a),_s(),c=t.memoizedState,o||h!==c||gs?("function"===typeof d&&(wo(t,n,d,r),c=t.memoizedState),(l=gs||xo(t,n,l,r,h,c,i))?(u||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),s.props=r,s.state=c,s.context=i,r=l):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,ys(e,t),u=_o(n,i=t.memoizedProps),s.props=u,d=t.pendingProps,h=s.context,c=n.contextType,l=zr,"object"===typeof c&&null!==c&&(l=Pa(c)),(c="function"===typeof(o=n.getDerivedStateFromProps)||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(i!==d||h!==l)&&ko(t,s,r,l),gs=!1,h=t.memoizedState,s.state=h,js(t,r,s,a),_s();var p=t.memoizedState;i!==d||h!==p||gs||null!==e&&null!==e.dependencies&&Ia(e.dependencies)?("function"===typeof o&&(wo(t,n,o,r),p=t.memoizedState),(u=gs||xo(t,n,u,r,h,p,l)||null!==e&&null!==e.dependencies&&Ia(e.dependencies))?(c||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,p,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=l,r=u):("function"!==typeof s.componentDidUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return s=r,Ho(e,t),r=0!==(128&t.flags),s||r?(s=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:s.render(),t.flags|=1,null!==e&&r?(t.child=fs(t,e.child,null,a),t.child=fs(t,null,n,a)):Lo(e,t,n,a),t.memoizedState=s.state,e=t.child):e=sl(e,t,a),e}function Jo(e,t,n,r){return wa(),t.flags|=256,Lo(e,t,n,r),t.child}var $o={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Qo(e){return{baseLanes:e,cachePool:Ya()}}function Yo(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=Rc),e}function Xo(e,t,n){var r,a=t.pendingProps,s=!1,o=0!==(128&t.flags);if((r=o)||(r=(null===e||null!==e.memoizedState)&&0!==(2&Fs.current)),r&&(s=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(ha){if(s?Ls(t):Us(),(e=da)?null!==(e=null!==(e=Id(e,fa))&&"&"!==e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==na?{id:ra,overflow:aa}:null,retryLane:536870912,hydrationErrors:null},(n=Gr(e)).return=t,t.child=n,ua=t,da=null):e=null,null===e)throw ga(t);return Pd(e)?t.lanes=32:t.lanes=536870912,null}var l=a.children;return a=a.fallback,s?(Us(),l=el({mode:"hidden",children:l},s=t.mode),a=Hr(a,s,n,null),l.return=t,a.return=t,l.sibling=a,t.child=l,(a=t.child).memoizedState=Qo(n),a.childLanes=Yo(e,r,n),t.memoizedState=$o,Fo(null,a)):(Ls(t),Zo(t,l))}var c=e.memoizedState;if(null!==c&&null!==(l=c.dehydrated)){if(o)256&t.flags?(Ls(t),t.flags&=-257,t=tl(e,t,n)):null!==t.memoizedState?(Us(),t.child=e.child,t.flags|=128,t=null):(Us(),l=a.fallback,s=t.mode,a=el({mode:"visible",children:a.children},s),(l=Hr(l,s,n,null)).flags|=2,a.return=t,l.return=t,a.sibling=l,t.child=a,fs(t,e.child,null,n),(a=t.child).memoizedState=Qo(n),a.childLanes=Yo(e,r,n),t.memoizedState=$o,t=Fo(null,a));else if(Ls(t),Pd(l)){if(r=l.nextSibling&&l.nextSibling.dataset)var u=r.dgst;r=u,(a=Error(i(419))).stack="",a.digest=r,xa({value:a,source:null,stack:null}),t=tl(e,t,n)}else if(Ao||Ta(e,t,n,!1),r=0!==(n&e.childLanes),Ao||r){if(null!==(r=mc)&&(0!==(a=Le(r,n))&&a!==c.retryLane))throw c.retryLane=a,Ar(e,a),$c(r,e,a),Po;Od(l)||ou(),t=tl(e,t,n)}else Od(l)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,da=Ad(l.nextSibling),ua=t,ha=!0,pa=null,fa=!1,null!==e&&ca(t,e),(t=Zo(t,a.children)).flags|=4096);return t}return s?(Us(),l=a.fallback,s=t.mode,u=(c=e.child).sibling,(a=Br(c,{mode:"hidden",children:a.children})).subtreeFlags=65011712&c.subtreeFlags,null!==u?l=Br(u,l):(l=Hr(l,s,n,null)).flags|=2,l.return=t,a.return=t,a.sibling=l,t.child=a,Fo(null,a),a=t.child,null===(l=e.child.memoizedState)?l=Qo(n):(null!==(s=l.cachePool)?(c=Ma._currentValue,s=s.parent!==c?{parent:c,pool:c}:s):s=Ya(),l={baseLanes:l.baseLanes|n,cachePool:s}),a.memoizedState=l,a.childLanes=Yo(e,r,n),t.memoizedState=$o,Fo(e.child,a)):(Ls(t),e=(n=e.child).sibling,(n=Br(n,{mode:"visible",children:a.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Zo(e,t){return(t=el({mode:"visible",children:t},e.mode)).return=e,e.child=t}function el(e,t){return(e=Mr(22,e,null,t)).lanes=0,e}function tl(e,t,n){return fs(t,e.child,null,n),(e=Zo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function nl(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ra(e.return,t,n)}function rl(e,t,n,r,a,s){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a,treeForkCount:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a,i.treeForkCount=s)}function al(e,t,n){var r=t.pendingProps,a=r.revealOrder,s=r.tail;r=r.children;var i=Fs.current,o=0!==(2&i);if(o?(i=1&i|2,t.flags|=128):i&=1,B(Fs,i),Lo(e,t,r,n),r=ha?Zr:0,!o&&null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&nl(e,n,t);else if(19===e.tag)nl(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===Bs(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),rl(t,!1,a,n,s,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===Bs(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}rl(t,!0,n,null,s,r);break;case"together":rl(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function sl(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),jc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Ta(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Br(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Br(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function il(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Ia(e))}function ol(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Ao=!0;else{if(!il(e,n)&&0===(128&t.flags))return Ao=!1,function(e,t,n){switch(t.tag){case 3:J(t,t.stateNode.containerInfo),Na(0,Ma,e.memoizedState.cache),wa();break;case 27:case 5:Q(t);break;case 4:J(t,t.stateNode.containerInfo);break;case 10:Na(0,t.type,t.memoizedProps.value);break;case 31:if(null!==t.memoizedState)return t.flags|=128,Ds(t),null;break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(Ls(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Xo(e,t,n):(Ls(t),null!==(e=sl(e,t,n))?e.sibling:null);Ls(t);break;case 19:var a=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(Ta(e,t,n,!1),r=0!==(n&t.childLanes)),a){if(r)return al(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),B(Fs,Fs.current),r)break;return null;case 22:return t.lanes=0,Mo(e,t,n,t.pendingProps);case 24:Na(0,Ma,e.memoizedState.cache)}return sl(e,t,n)}(e,t,n);Ao=0!==(131072&e.flags)}else Ao=!1,ha&&0!==(1048576&t.flags)&&ia(t,Zr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=as(t.elementType),t.type=e,"function"!==typeof e){if(void 0!==e&&null!==e){var a=e.$$typeof;if(a===x){t.tag=11,t=Do(null,t,e,r,n);break e}if(a===j){t.tag=14,t=zo(null,t,e,r,n);break e}}throw t=O(e)||e,Error(i(306,t,""))}Fr(e)?(r=_o(e,r),t.tag=1,t=Ko(null,t,e,r,n)):(t.tag=0,t=Vo(null,t,e,r,n))}return t;case 0:return Vo(e,t,t.type,t.pendingProps,n);case 1:return Ko(e,t,r=t.type,a=_o(r,t.pendingProps),n);case 3:e:{if(J(t,t.stateNode.containerInfo),null===e)throw Error(i(387));r=t.pendingProps;var s=t.memoizedState;a=s.element,ys(e,t),js(t,r,null,n);var o=t.memoizedState;if(r=o.cache,Na(0,Ma,r),r!==s.cache&&Ca(t,[Ma],n,!0),_s(),r=o.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Jo(e,t,r,n);break e}if(r!==a){xa(a=$r(Error(i(424)),t)),t=Jo(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(da=Ad(e.firstChild),ua=t,ha=!0,pa=null,fa=!0,n=ms(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(wa(),r===a){t=sl(e,t,n);break e}Lo(e,t,r,n)}t=t.child}return t;case 26:return Ho(e,t),null===e?(n=Gd(t.type,null,t.pendingProps,null))?t.memoizedState=n:ha||(n=t.type,e=t.pendingProps,(r=vd(G.current).createElement(n))[Be]=t,r[qe]=e,pd(r,n,e),et(r),t.stateNode=r):t.memoizedState=Gd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Q(t),null===e&&ha&&(r=t.stateNode=Ud(t.type,t.pendingProps,G.current),ua=t,fa=!0,a=da,Ed(t.type)?(Ld=a,da=Ad(r.firstChild)):da=a),Lo(e,t,t.pendingProps.children,n),Ho(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&ha&&((a=r=da)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var a=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Je])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(s=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(s!==a.rel||e.getAttribute("href")!==(null==a.href||""===a.href?null:a.href)||e.getAttribute("crossorigin")!==(null==a.crossOrigin?null:a.crossOrigin)||e.getAttribute("title")!==(null==a.title?null:a.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((s=e.getAttribute("src"))!==(null==a.src?null:a.src)||e.getAttribute("type")!==(null==a.type?null:a.type)||e.getAttribute("crossorigin")!==(null==a.crossOrigin?null:a.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var s=null==a.name?null:""+a.name;if("hidden"===a.type&&e.getAttribute("name")===s)return e}if(null===(e=Ad(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,fa))?(t.stateNode=r,ua=t,da=Ad(r.firstChild),fa=!1,a=!0):a=!1),a||ga(t)),Q(t),a=t.type,s=t.pendingProps,o=null!==e?e.memoizedProps:null,r=s.children,wd(a,s)?r=null:null!==o&&wd(a,o)&&(t.flags|=32),null!==t.memoizedState&&(a=ti(e,t,ai,null,null,n),dh._currentValue=a),Ho(e,t),Lo(e,t,r,n),t.child;case 6:return null===e&&ha&&((e=n=da)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=Ad(e.nextSibling)))return null}return e}(n,t.pendingProps,fa))?(t.stateNode=n,ua=t,da=null,e=!0):e=!1),e||ga(t)),null;case 13:return Xo(e,t,n);case 4:return J(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=fs(t,null,r,n):Lo(e,t,r,n),t.child;case 11:return Do(e,t,t.type,t.pendingProps,n);case 7:return Lo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Lo(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,Na(0,t.type,r.value),Lo(e,t,r.children,n),t.child;case 9:return a=t.type._context,r=t.pendingProps.children,Oa(t),r=r(a=Pa(a)),t.flags|=1,Lo(e,t,r,n),t.child;case 14:return zo(e,t,t.type,t.pendingProps,n);case 15:return Uo(e,t,t.type,t.pendingProps,n);case 19:return al(e,t,n);case 31:return function(e,t,n){var r=t.pendingProps,a=0!==(128&t.flags);if(t.flags&=-129,null===e){if(ha){if("hidden"===r.mode)return e=qo(t,r),t.lanes=536870912,Fo(null,e);if(Ds(t),(e=da)?null!==(e=null!==(e=Id(e,fa))&&"&"===e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==na?{id:ra,overflow:aa}:null,retryLane:536870912,hydrationErrors:null},(n=Gr(e)).return=t,t.child=n,ua=t,da=null):e=null,null===e)throw ga(t);return t.lanes=536870912,null}return qo(t,r)}var s=e.memoizedState;if(null!==s){var o=s.dehydrated;if(Ds(t),a)if(256&t.flags)t.flags&=-257,t=Wo(e,t,n);else{if(null===t.memoizedState)throw Error(i(558));t.child=e.child,t.flags|=128,t=null}else if(Ao||Ta(e,t,n,!1),a=0!==(n&e.childLanes),Ao||a){if(null!==(r=mc)&&0!==(o=Le(r,n))&&o!==s.retryLane)throw s.retryLane=o,Ar(e,o),$c(r,e,o),Po;ou(),t=Wo(e,t,n)}else e=s.treeContext,da=Ad(o.nextSibling),ua=t,ha=!0,pa=null,fa=!1,null!==e&&ca(t,e),(t=qo(t,r)).flags|=4096;return t}return(e=Br(e.child,{mode:r.mode,children:r.children})).ref=t.ref,t.child=e,e.return=t,e}(e,t,n);case 22:return Mo(e,t,n,t.pendingProps);case 24:return Oa(t),r=Pa(Ma),null===e?(null===(a=$a())&&(a=mc,s=Fa(),a.pooledCache=s,s.refCount++,null!==s&&(a.pooledCacheLanes|=n),a=s),t.memoizedState={parent:r,cache:a},vs(t),Na(0,Ma,a)):(0!==(e.lanes&n)&&(ys(e,t),js(t,null,null,n),_s()),a=e.memoizedState,s=t.memoizedState,a.parent!==r?(a={parent:r,cache:r},t.memoizedState=a,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=a),Na(0,Ma,r)):(r=s.cache,Na(0,Ma,r),r!==a.cache&&Ca(t,[Ma],n,!0))),Lo(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function ll(e){e.flags|=4}function cl(e,t,n,r,a){if((t=0!==(32&e.mode))&&(t=!1),t){if(e.flags|=16777216,(335544128&a)===a)if(e.stateNode.complete)e.flags|=8192;else{if(!au())throw ss=ts,Za;e.flags|=8192}}else e.flags&=-16777217}function ul(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!sh(t)){if(!au())throw ss=ts,Za;e.flags|=8192}}function dl(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Te():536870912,e.lanes|=t,Cc|=t)}function hl(e,t){if(!ha)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function pl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=65011712&a.subtreeFlags,r|=65011712&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function fl(e,t,n){var r=t.pendingProps;switch(la(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return pl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Ea(Ma),$(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(ba(t)?ll(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,Sa())),pl(t),null;case 26:var a=t.type,s=t.memoizedState;return null===e?(ll(t),null!==s?(pl(t),ul(t,s)):(pl(t),cl(t,a,0,0,n))):s?s!==e.memoizedState?(ll(t),pl(t),ul(t,s)):(pl(t),t.flags&=-16777217):((e=e.memoizedProps)!==r&&ll(t),pl(t),cl(t,a,0,0,n)),null;case 27:if(Y(t),n=G.current,a=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&ll(t);else{if(!r){if(null===t.stateNode)throw Error(i(166));return pl(t),null}e=H.current,ba(t)?va(t):(e=Ud(a,r,n),t.stateNode=e,ll(t))}return pl(t),null;case 5:if(Y(t),a=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&ll(t);else{if(!r){if(null===t.stateNode)throw Error(i(166));return pl(t),null}if(s=H.current,ba(t))va(t);else{var o=vd(G.current);switch(s){case 1:s=o.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:s=o.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":s=o.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":s=o.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":(s=o.createElement("div")).innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s="string"===typeof r.is?o.createElement("select",{is:r.is}):o.createElement("select"),r.multiple?s.multiple=!0:r.size&&(s.size=r.size);break;default:s="string"===typeof r.is?o.createElement(a,{is:r.is}):o.createElement(a)}}s[Be]=t,s[qe]=r;e:for(o=t.child;null!==o;){if(5===o.tag||6===o.tag)s.appendChild(o.stateNode);else if(4!==o.tag&&27!==o.tag&&null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;null===o.sibling;){if(null===o.return||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=s;e:switch(pd(s,a,r),a){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&ll(t)}}return pl(t),cl(t,t.type,null===e||e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&ll(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));if(e=G.current,ba(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(a=ua))switch(a.tag){case 27:case 5:r=a.memoizedProps}e[Be]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||ud(e.nodeValue,n)))||ga(t,!0)}else(e=vd(e).createTextNode(r))[Be]=t,t.stateNode=e}return pl(t),null;case 31:if(n=t.memoizedState,null===e||null!==e.memoizedState){if(r=ba(t),null!==n){if(null===e){if(!r)throw Error(i(318));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(i(557));e[Be]=t}else wa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;pl(t),e=!1}else n=Sa(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return 256&t.flags?(Ms(t),t):(Ms(t),null);if(0!==(128&t.flags))throw Error(i(558))}return pl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(a=ba(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(i(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(i(317));a[Be]=t}else wa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;pl(t),a=!1}else a=Sa(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return 256&t.flags?(Ms(t),t):(Ms(t),null)}return Ms(t),0!==(128&t.flags)?(t.lanes=n,t):(n=null!==r,e=null!==e&&null!==e.memoizedState,n&&(a=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(a=r.alternate.memoizedState.cachePool.pool),s=null,null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(s=r.memoizedState.cachePool.pool),s!==a&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),dl(t,t.updateQueue),pl(t),null);case 4:return $(),null===e&&ed(t.stateNode.containerInfo),pl(t),null;case 10:return Ea(t.type),pl(t),null;case 19:if(F(Fs),null===(r=t.memoizedState))return pl(t),null;if(a=0!==(128&t.flags),null===(s=r.rendering))if(a)hl(r,!1);else{if(0!==_c||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=Bs(e))){for(t.flags|=128,hl(r,!1),e=s.updateQueue,t.updateQueue=e,dl(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)qr(n,e),n=n.sibling;return B(Fs,1&Fs.current|2),ha&&sa(t,r.treeForkCount),t.child}e=e.sibling}null!==r.tail&&le()>Lc&&(t.flags|=128,a=!0,hl(r,!1),t.lanes=4194304)}else{if(!a)if(null!==(e=Bs(s))){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,dl(t,e),hl(r,!0),null===r.tail&&"hidden"===r.tailMode&&!s.alternate&&!ha)return pl(t),null}else 2*le()-r.renderingStartTime>Lc&&536870912!==n&&(t.flags|=128,a=!0,hl(r,!1),t.lanes=4194304);r.isBackwards?(s.sibling=t.child,t.child=s):(null!==(e=r.last)?e.sibling=s:t.child=s,r.last=s)}return null!==r.tail?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=le(),e.sibling=null,n=Fs.current,B(Fs,a?1&n|2:1&n),ha&&sa(t,r.treeForkCount),e):(pl(t),null);case 22:case 23:return Ms(t),Os(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(pl(t),6&t.subtreeFlags&&(t.flags|=8192)):pl(t),null!==(n=t.updateQueue)&&dl(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&F(Ja),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Ea(Ma),pl(t),null;case 25:case 30:return null}throw Error(i(156,t.tag))}function ml(e,t){switch(la(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ea(Ma),$(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Y(t),null;case 31:if(null!==t.memoizedState){if(Ms(t),null===t.alternate)throw Error(i(340));wa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 13:if(Ms(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));wa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return F(Fs),null;case 4:return $(),null;case 10:return Ea(t.type),null;case 22:case 23:return Ms(t),Os(),null!==e&&F(Ja),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return Ea(Ma),null;default:return null}}function gl(e,t){switch(la(t),t.tag){case 3:Ea(Ma),$();break;case 26:case 27:case 5:Y(t);break;case 4:$();break;case 31:null!==t.memoizedState&&Ms(t);break;case 13:Ms(t);break;case 19:F(Fs);break;case 10:Ea(t.type);break;case 22:case 23:Ms(t),Os(),null!==e&&F(Ja);break;case 24:Ea(Ma)}}function vl(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var a=r.next;n=a;do{if((n.tag&e)===e){r=void 0;var s=n.create,i=n.inst;r=s(),i.destroy=r}n=n.next}while(n!==a)}}catch(o){_u(t,t.return,o)}}function yl(e,t,n){try{var r=t.updateQueue,a=null!==r?r.lastEffect:null;if(null!==a){var s=a.next;r=s;do{if((r.tag&e)===e){var i=r.inst,o=i.destroy;if(void 0!==o){i.destroy=void 0,a=t;var l=n,c=o;try{c()}catch(u){_u(a,l,u)}}}r=r.next}while(r!==s)}}catch(u){_u(t,t.return,u)}}function bl(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{Es(t,n)}catch(r){_u(e,e.return,r)}}}function wl(e,t,n){n.props=_o(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){_u(e,t,r)}}function Sl(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(a){_u(e,t,a)}}function xl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(a){_u(e,t,a)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(s){_u(e,t,s)}else n.current=null}function kl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(a){_u(e,e.return,a)}}function _l(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,s=null,o=null,l=null,c=null,u=null,d=null;for(f in n){var h=n[f];if(n.hasOwnProperty(f)&&null!=h)switch(f){case"checked":case"value":break;case"defaultValue":c=h;default:r.hasOwnProperty(f)||dd(e,t,f,null,r,h)}}for(var p in r){var f=r[p];if(h=n[p],r.hasOwnProperty(p)&&(null!=f||null!=h))switch(p){case"type":s=f;break;case"name":a=f;break;case"checked":u=f;break;case"defaultChecked":d=f;break;case"value":o=f;break;case"defaultValue":l=f;break;case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(i(137,t));break;default:f!==h&&dd(e,t,p,f,r,h)}}return void yt(e,o,l,c,u,d,s,a);case"select":for(s in f=o=l=p=null,n)if(c=n[s],n.hasOwnProperty(s)&&null!=c)switch(s){case"value":break;case"multiple":f=c;default:r.hasOwnProperty(s)||dd(e,t,s,null,r,c)}for(a in r)if(s=r[a],c=n[a],r.hasOwnProperty(a)&&(null!=s||null!=c))switch(a){case"value":p=s;break;case"defaultValue":l=s;break;case"multiple":o=s;default:s!==c&&dd(e,t,a,s,r,c)}return t=l,n=o,r=f,void(null!=p?St(e,!!n,p,!1):!!r!==!!n&&(null!=t?St(e,!!n,t,!0):St(e,!!n,n?[]:"",!1)));case"textarea":for(l in f=p=null,n)if(a=n[l],n.hasOwnProperty(l)&&null!=a&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:dd(e,t,l,null,r,a)}for(o in r)if(a=r[o],s=n[o],r.hasOwnProperty(o)&&(null!=a||null!=s))switch(o){case"value":p=a;break;case"defaultValue":f=a;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=a)throw Error(i(91));break;default:a!==s&&dd(e,t,o,a,r,s)}return void xt(e,p,f);case"option":for(var m in n)if(p=n[m],n.hasOwnProperty(m)&&null!=p&&!r.hasOwnProperty(m))if("selected"===m)e.selected=!1;else dd(e,t,m,null,r,p);for(c in r)if(p=r[c],f=n[c],r.hasOwnProperty(c)&&p!==f&&(null!=p||null!=f))if("selected"===c)e.selected=p&&"function"!==typeof p&&"symbol"!==typeof p;else dd(e,t,c,p,r,f);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)p=n[g],n.hasOwnProperty(g)&&null!=p&&!r.hasOwnProperty(g)&&dd(e,t,g,null,r,p);for(u in r)if(p=r[u],f=n[u],r.hasOwnProperty(u)&&p!==f&&(null!=p||null!=f))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(i(137,t));break;default:dd(e,t,u,p,r,f)}return;default:if(Rt(t)){for(var v in n)p=n[v],n.hasOwnProperty(v)&&void 0!==p&&!r.hasOwnProperty(v)&&hd(e,t,v,void 0,r,p);for(d in r)p=r[d],f=n[d],!r.hasOwnProperty(d)||p===f||void 0===p&&void 0===f||hd(e,t,d,p,r,f);return}}for(var y in n)p=n[y],n.hasOwnProperty(y)&&null!=p&&!r.hasOwnProperty(y)&&dd(e,t,y,null,r,p);for(h in r)p=r[h],f=n[h],!r.hasOwnProperty(h)||p===f||null==p&&null==f||dd(e,t,h,p,r,f)}(r,e.type,n,t),r[qe]=t}catch(a){_u(e,e.return,a)}}function jl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&Ed(e.type)||4===e.tag}function Nl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||jl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&Ed(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function El(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Ot));else if(4!==r&&(27===r&&Ed(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(El(e,t,n),e=e.sibling;null!==e;)El(e,t,n),e=e.sibling}function Rl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&Ed(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(Rl(e,t,n),e=e.sibling;null!==e;)Rl(e,t,n),e=e.sibling}function Cl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,a=t.attributes;a.length;)t.removeAttributeNode(a[0]);pd(t,r,n),t[Be]=e,t[qe]=n}catch(s){_u(e,e.return,s)}}var Tl=!1,Il=!1,Ol=!1,Pl="function"===typeof WeakSet?WeakSet:Set,Al=null;function Ll(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:$l(e,n),4&r&&vl(5,n);break;case 1:if($l(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(i){_u(n,n.return,i)}else{var a=_o(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(a,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){_u(n,n.return,o)}}64&r&&bl(n),512&r&&Sl(n,n.return);break;case 3:if($l(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{Es(e,t)}catch(i){_u(n,n.return,i)}}break;case 27:null===t&&4&r&&Cl(n);case 26:case 5:$l(e,n),null===t&&4&r&&kl(n),512&r&&Sl(n,n.return);break;case 12:$l(e,n);break;case 31:$l(e,n),4&r&&Bl(e,n);break;case 13:$l(e,n),4&r&&ql(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$~"===e.data)e._reactRetry=t;else if("$?"!==e.data||"loading"!==n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=Ru.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||Tl)){t=null!==t&&null!==t.memoizedState||Il,a=Tl;var s=Il;Tl=r,(Il=t)&&!s?Yl(e,n,0!==(8772&n.subtreeFlags)):$l(e,n),Tl=a,Il=s}break;case 30:break;default:$l(e,n)}}function Dl(e){var t=e.alternate;null!==t&&(e.alternate=null,Dl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&$e(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var zl=null,Ul=!1;function Ml(e,t,n){for(n=n.child;null!==n;)Fl(e,t,n),n=n.sibling}function Fl(e,t,n){if(ye&&"function"===typeof ye.onCommitFiberUnmount)try{ye.onCommitFiberUnmount(ve,n)}catch(s){}switch(n.tag){case 26:Il||xl(n,t),Ml(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Il||xl(n,t);var r=zl,a=Ul;Ed(n.type)&&(zl=n.stateNode,Ul=!1),Ml(e,t,n),Md(n.stateNode),zl=r,Ul=a;break;case 5:Il||xl(n,t);case 6:if(r=zl,a=Ul,zl=null,Ml(e,t,n),Ul=a,null!==(zl=r))if(Ul)try{(9===zl.nodeType?zl.body:"HTML"===zl.nodeName?zl.ownerDocument.body:zl).removeChild(n.stateNode)}catch(i){_u(n,t,i)}else try{zl.removeChild(n.stateNode)}catch(i){_u(n,t,i)}break;case 18:null!==zl&&(Ul?(Rd(9===(e=zl).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Vh(e)):Rd(zl,n.stateNode));break;case 4:r=zl,a=Ul,zl=n.stateNode.containerInfo,Ul=!0,Ml(e,t,n),zl=r,Ul=a;break;case 0:case 11:case 14:case 15:yl(2,n,t),Il||yl(4,n,t),Ml(e,t,n);break;case 1:Il||(xl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&wl(n,t,r)),Ml(e,t,n);break;case 21:Ml(e,t,n);break;case 22:Il=(r=Il)||null!==n.memoizedState,Ml(e,t,n),Il=r;break;default:Ml(e,t,n)}}function Bl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&null!==(e=e.memoizedState))){e=e.dehydrated;try{Vh(e)}catch(n){_u(t,t.return,n)}}}function ql(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Vh(e)}catch(n){_u(t,t.return,n)}}function Wl(e,t){var n=function(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Pl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Pl),t;default:throw Error(i(435,e.tag))}}(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var r=Cu.bind(null,e,t);t.then(r,r)}})}function Hl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r],s=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 27:if(Ed(l.type)){zl=l.stateNode,Ul=!1;break e}break;case 5:zl=l.stateNode,Ul=!1;break e;case 3:case 4:zl=l.stateNode.containerInfo,Ul=!0;break e}l=l.return}if(null===zl)throw Error(i(160));Fl(s,o,a),zl=null,Ul=!1,null!==(s=a.alternate)&&(s.return=null),a.return=null}if(13886&t.subtreeFlags)for(t=t.child;null!==t;)Gl(t,e),t=t.sibling}var Vl=null;function Gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Hl(t,e),Kl(e),4&r&&(yl(3,e,e.return),vl(3,e),yl(5,e,e.return));break;case 1:Hl(t,e),Kl(e),512&r&&(Il||null===n||xl(n,n.return)),64&r&&Tl&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var a=Vl;if(Hl(t,e),Kl(e),512&r&&(Il||null===n||xl(n,n.return)),4&r){var s=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,a=a.ownerDocument||a;t:switch(r){case"title":(!(s=a.getElementsByTagName("title")[0])||s[Je]||s[Be]||"http://www.w3.org/2000/svg"===s.namespaceURI||s.hasAttribute("itemprop"))&&(s=a.createElement(r),a.head.insertBefore(s,a.querySelector("head > title"))),pd(s,r,n),s[Be]=e,et(s),r=s;break e;case"link":var o=rh("link","href",a).get(r+(n.href||""));if(o)for(var l=0;l<o.length;l++)if((s=o[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&s.getAttribute("rel")===(null==n.rel?null:n.rel)&&s.getAttribute("title")===(null==n.title?null:n.title)&&s.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){o.splice(l,1);break t}pd(s=a.createElement(r),r,n),a.head.appendChild(s);break;case"meta":if(o=rh("meta","content",a).get(r+(n.content||"")))for(l=0;l<o.length;l++)if((s=o[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&s.getAttribute("name")===(null==n.name?null:n.name)&&s.getAttribute("property")===(null==n.property?null:n.property)&&s.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&s.getAttribute("charset")===(null==n.charSet?null:n.charSet)){o.splice(l,1);break t}pd(s=a.createElement(r),r,n),a.head.appendChild(s);break;default:throw Error(i(468,r))}s[Be]=e,et(s),r=s}e.stateNode=r}else ah(a,e.type,e.stateNode);else e.stateNode=Xd(a,r,e.memoizedProps);else s!==r?(null===s?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):s.count--,null===r?ah(a,e.type,e.stateNode):Xd(a,r,e.memoizedProps)):null===r&&null!==e.stateNode&&_l(e,e.memoizedProps,n.memoizedProps)}break;case 27:Hl(t,e),Kl(e),512&r&&(Il||null===n||xl(n,n.return)),null!==n&&4&r&&_l(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Hl(t,e),Kl(e),512&r&&(Il||null===n||xl(n,n.return)),32&e.flags){a=e.stateNode;try{_t(a,"")}catch(m){_u(e,e.return,m)}}4&r&&null!=e.stateNode&&_l(e,a=e.memoizedProps,null!==n?n.memoizedProps:a),1024&r&&(Ol=!0);break;case 6:if(Hl(t,e),Kl(e),4&r){if(null===e.stateNode)throw Error(i(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(m){_u(e,e.return,m)}}break;case 3:if(nh=null,a=Vl,Vl=qd(t.containerInfo),Hl(t,e),Vl=a,Kl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Vh(t.containerInfo)}catch(m){_u(e,e.return,m)}Ol&&(Ol=!1,Jl(e));break;case 4:r=Vl,Vl=qd(e.stateNode.containerInfo),Hl(t,e),Kl(e),Vl=r;break;case 12:default:Hl(t,e),Kl(e);break;case 31:case 19:Hl(t,e),Kl(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Wl(e,r)));break;case 13:Hl(t,e),Kl(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(Pc=le()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Wl(e,r)));break;case 22:a=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=Tl,d=Il;if(Tl=u||a,Il=d||c,Hl(t,e),Il=d,Tl=u,Kl(e),8192&r)e:for(t=e.stateNode,t._visibility=a?-2&t._visibility:1|t._visibility,a&&(null===n||c||Tl||Il||Ql(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(s=c.stateNode,a)"function"===typeof(o=s.style).setProperty?o.setProperty("display","none","important"):o.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,p=void 0!==h&&null!==h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==p||"boolean"===typeof p?"":(""+p).trim()}}catch(m){_u(c,c.return,m)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=a?"":c.memoizedProps}catch(m){_u(c,c.return,m)}}}else if(18===t.tag){if(null===n){c=t;try{var f=c.stateNode;a?Cd(f,!0):Cd(c.stateNode,!1)}catch(m){_u(c,c.return,m)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Wl(e,n))));case 30:case 21:}}function Kl(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(jl(r)){n=r;break}r=r.return}if(null==n)throw Error(i(160));switch(n.tag){case 27:var a=n.stateNode;Rl(e,Nl(e),a);break;case 5:var s=n.stateNode;32&n.flags&&(_t(s,""),n.flags&=-33),Rl(e,Nl(e),s);break;case 3:case 4:var o=n.stateNode.containerInfo;El(e,Nl(e),o);break;default:throw Error(i(161))}}catch(l){_u(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Jl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Jl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function $l(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Ll(e,t.alternate,t),t=t.sibling}function Ql(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:yl(4,t,t.return),Ql(t);break;case 1:xl(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&wl(t,t.return,n),Ql(t);break;case 27:Md(t.stateNode);case 26:case 5:xl(t,t.return),Ql(t);break;case 22:null===t.memoizedState&&Ql(t);break;default:Ql(t)}e=e.sibling}}function Yl(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,a=e,s=t,i=s.flags;switch(s.tag){case 0:case 11:case 15:Yl(a,s,n),vl(4,s);break;case 1:if(Yl(a,s,n),"function"===typeof(a=(r=s).stateNode).componentDidMount)try{a.componentDidMount()}catch(c){_u(r,r.return,c)}if(null!==(a=(r=s).updateQueue)){var o=r.stateNode;try{var l=a.shared.hiddenCallbacks;if(null!==l)for(a.shared.hiddenCallbacks=null,a=0;a<l.length;a++)Ns(l[a],o)}catch(c){_u(r,r.return,c)}}n&&64&i&&bl(s),Sl(s,s.return);break;case 27:Cl(s);case 26:case 5:Yl(a,s,n),n&&null===r&&4&i&&kl(s),Sl(s,s.return);break;case 12:Yl(a,s,n);break;case 31:Yl(a,s,n),n&&4&i&&Bl(a,s);break;case 13:Yl(a,s,n),n&&4&i&&ql(a,s);break;case 22:null===s.memoizedState&&Yl(a,s,n),Sl(s,s.return);break;case 30:break;default:Yl(a,s,n)}t=t.sibling}}function Xl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Ba(n))}function Zl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ba(e))}function ec(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)tc(e,t,n,r),t=t.sibling}function tc(e,t,n,r){var a=t.flags;switch(t.tag){case 0:case 11:case 15:ec(e,t,n,r),2048&a&&vl(9,t);break;case 1:case 31:case 13:default:ec(e,t,n,r);break;case 3:ec(e,t,n,r),2048&a&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ba(e)));break;case 12:if(2048&a){ec(e,t,n,r),e=t.stateNode;try{var s=t.memoizedProps,i=s.id,o=s.onPostCommit;"function"===typeof o&&o(i,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){_u(t,t.return,l)}}else ec(e,t,n,r);break;case 23:break;case 22:s=t.stateNode,i=t.alternate,null!==t.memoizedState?2&s._visibility?ec(e,t,n,r):rc(e,t):2&s._visibility?ec(e,t,n,r):(s._visibility|=2,nc(e,t,n,r,0!==(10256&t.subtreeFlags)||!1)),2048&a&&Xl(i,t);break;case 24:ec(e,t,n,r),2048&a&&Zl(t.alternate,t)}}function nc(e,t,n,r,a){for(a=a&&(0!==(10256&t.subtreeFlags)||!1),t=t.child;null!==t;){var s=e,i=t,o=n,l=r,c=i.flags;switch(i.tag){case 0:case 11:case 15:nc(s,i,o,l,a),vl(8,i);break;case 23:break;case 22:var u=i.stateNode;null!==i.memoizedState?2&u._visibility?nc(s,i,o,l,a):rc(s,i):(u._visibility|=2,nc(s,i,o,l,a)),a&&2048&c&&Xl(i.alternate,i);break;case 24:nc(s,i,o,l,a),a&&2048&c&&Zl(i.alternate,i);break;default:nc(s,i,o,l,a)}t=t.sibling}}function rc(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,a=r.flags;switch(r.tag){case 22:rc(n,r),2048&a&&Xl(r.alternate,r);break;case 24:rc(n,r),2048&a&&Zl(r.alternate,r);break;default:rc(n,r)}t=t.sibling}}var ac=8192;function sc(e,t,n){if(e.subtreeFlags&ac)for(e=e.child;null!==e;)ic(e,t,n),e=e.sibling}function ic(e,t,n){switch(e.tag){case 26:sc(e,t,n),e.flags&ac&&null!==e.memoizedState&&function(e,t,n,r){if("stylesheet"===n.type&&("string"!==typeof r.media||!1!==matchMedia(r.media).matches)&&0===(4&n.state.loading)){if(null===n.instance){var a=Kd(r.href),s=t.querySelector(Jd(a));if(s)return null!==(t=s._p)&&"object"===typeof t&&"function"===typeof t.then&&(e.count++,e=oh.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=s,void et(s);s=t.ownerDocument||t,r=$d(r),(a=Fd.get(a))&&eh(r,a),et(s=s.createElement("link"));var i=s;i._p=new Promise(function(e,t){i.onload=e,i.onerror=t}),pd(s,"link",r),n.instance=s}null===e.stylesheets&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&0===(3&n.state.loading)&&(e.count++,n=oh.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}(n,Vl,e.memoizedState,e.memoizedProps);break;case 5:default:sc(e,t,n);break;case 3:case 4:var r=Vl;Vl=qd(e.stateNode.containerInfo),sc(e,t,n),Vl=r;break;case 22:null===e.memoizedState&&(null!==(r=e.alternate)&&null!==r.memoizedState?(r=ac,ac=16777216,sc(e,t,n),ac=r):sc(e,t,n))}}function oc(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function lc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Al=r,dc(r,e)}oc(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)cc(e),e=e.sibling}function cc(e){switch(e.tag){case 0:case 11:case 15:lc(e),2048&e.flags&&yl(9,e,e.return);break;case 3:case 12:default:lc(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,uc(e)):lc(e)}}function uc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Al=r,dc(r,e)}oc(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:yl(8,t,t.return),uc(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,uc(t));break;default:uc(t)}e=e.sibling}}function dc(e,t){for(;null!==Al;){var n=Al;switch(n.tag){case 0:case 11:case 15:yl(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Ba(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Al=r;else e:for(n=e;null!==Al;){var a=(r=Al).sibling,s=r.return;if(Dl(r),r===n){Al=null;break e}if(null!==a){a.return=s,Al=a;break e}Al=s}}}var hc={getCacheForType:function(e){var t=Pa(Ma),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Pa(Ma).controller.signal}},pc="function"===typeof WeakMap?WeakMap:Map,fc=0,mc=null,gc=null,vc=0,yc=0,bc=null,wc=!1,Sc=!1,xc=!1,kc=0,_c=0,jc=0,Nc=0,Ec=0,Rc=0,Cc=0,Tc=null,Ic=null,Oc=!1,Pc=0,Ac=0,Lc=1/0,Dc=null,zc=null,Uc=0,Mc=null,Fc=null,Bc=0,qc=0,Wc=null,Hc=null,Vc=0,Gc=null;function Kc(){return 0!==(2&fc)&&0!==vc?vc&-vc:null!==A.T?Wu():Ue()}function Jc(){if(0===Rc)if(0===(536870912&vc)||ha){var e=_e;0===(3932160&(_e<<=1))&&(_e=262144),Rc=e}else Rc=536870912;return null!==(e=Ps.current)&&(e.flags|=32),Rc}function $c(e,t,n){(e!==mc||2!==yc&&9!==yc)&&null===e.cancelPendingCommit||(nu(e,0),Zc(e,vc,Rc,!1)),Oe(e,n),0!==(2&fc)&&e===mc||(e===mc&&(0===(2&fc)&&(Nc|=n),4===_c&&Zc(e,vc,Rc,!1)),Du(e))}function Qc(e,t,n){if(0!==(6&fc))throw Error(i(327));for(var r=!n&&0===(127&t)&&0===(t&e.expiredLanes)||Re(e,t),a=r?function(e,t){var n=fc;fc|=2;var r=su(),a=iu();mc!==e||vc!==t?(Dc=null,Lc=le()+500,nu(e,t)):Sc=Re(e,t);e:for(;;)try{if(0!==yc&&null!==gc){t=gc;var s=bc;t:switch(yc){case 1:yc=0,bc=null,pu(e,t,s,1);break;case 2:case 9:if(ns(s)){yc=0,bc=null,hu(t);break}t=function(){2!==yc&&9!==yc||mc!==e||(yc=7),Du(e)},s.then(t,t);break e;case 3:yc=7;break e;case 4:yc=5;break e;case 7:ns(s)?(yc=0,bc=null,hu(t)):(yc=0,bc=null,pu(e,t,s,7));break;case 5:var o=null;switch(gc.tag){case 26:o=gc.memoizedState;case 5:case 27:var l=gc;if(o?sh(o):l.stateNode.complete){yc=0,bc=null;var c=l.sibling;if(null!==c)gc=c;else{var u=l.return;null!==u?(gc=u,fu(u)):gc=null}break t}}yc=0,bc=null,pu(e,t,s,5);break;case 6:yc=0,bc=null,pu(e,t,s,6);break;case 8:tu(),_c=6;break e;default:throw Error(i(462))}}uu();break}catch(d){ru(e,d)}return ja=_a=null,A.H=r,A.A=a,fc=n,null!==gc?0:(mc=null,vc=0,Ir(),_c)}(e,t):lu(e,t,!0),s=r;;){if(0===a){Sc&&!r&&Zc(e,t,0,!1);break}if(n=e.current.alternate,!s||Xc(n)){if(2===a){if(s=t,e.errorRecoveryDisabledLanes&s)var o=0;else o=0!==(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var l=e;a=Tc;var c=l.current.memoizedState.isDehydrated;if(c&&(nu(l,o).flags|=256),2!==(o=lu(l,o,!1))){if(xc&&!c){l.errorRecoveryDisabledLanes|=s,Nc|=s,a=4;break e}s=Ic,Ic=a,null!==s&&(null===Ic?Ic=s:Ic.push.apply(Ic,s))}a=o}if(s=!1,2!==a)continue}}if(1===a){nu(e,0),Zc(e,t,0,!0);break}e:{switch(r=e,s=a){case 0:case 1:throw Error(i(345));case 4:if((4194048&t)!==t)break;case 6:Zc(r,t,Rc,!wc);break e;case 2:Ic=null;break;case 3:case 5:break;default:throw Error(i(329))}if((62914560&t)===t&&10<(a=Pc+300-le())){if(Zc(r,t,Rc,!wc),0!==Ee(r,0,!0))break e;Bc=t,r.timeoutHandle=xd(Yc.bind(null,r,n,Ic,Dc,Oc,t,Rc,Nc,Cc,wc,s,"Throttled",-0,0),a)}else Yc(r,n,Ic,Dc,Oc,t,Rc,Nc,Cc,wc,s,null,-0,0)}break}a=lu(e,t,!1),s=!1}Du(e)}function Yc(e,t,n,r,a,s,i,o,l,c,u,d,h,p){if(e.timeoutHandle=-1,8192&(d=t.subtreeFlags)||16785408===(16785408&d)){ic(t,s,d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ot});var f=(62914560&s)===s?Pc-le():(4194048&s)===s?Ac-le():0;if(f=function(e,t){return e.stylesheets&&0===e.count&&ch(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&ch(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&0===ih&&(ih=62500*function(){if("function"===typeof performance.getEntriesByType){for(var e=0,t=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var a=n[r],s=a.transferSize,i=a.initiatorType,o=a.duration;if(s&&o&&fd(i)){for(i=0,o=a.responseEnd,r+=1;r<n.length;r++){var l=n[r],c=l.startTime;if(c>o)break;var u=l.transferSize,d=l.initiatorType;u&&fd(d)&&(i+=u*((l=l.responseEnd)<o?1:(o-c)/(l-c)))}if(--r,t+=8*(s+i)/(a.duration/1e3),10<++e)break}}if(0<e)return t/e/1e6}return navigator.connection&&"number"===typeof(e=navigator.connection.downlink)?e:5}());var a=setTimeout(function(){if(e.waitingForImages=!1,0===e.count&&(e.stylesheets&&ch(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>ih?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(a)}}:null}(d,f),null!==f)return Bc=s,e.cancelPendingCommit=f(gu.bind(null,e,t,s,n,r,a,i,o,l,u,d,null,h,p)),void Zc(e,s,i,!c)}gu(e,t,s,n,r,a,i,o,l)}function Xc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var a=n[r],s=a.getSnapshot;a=a.value;try{if(!Zn(s(),a))return!1}catch(i){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Zc(e,t,n,r){t&=~Ec,t&=~Nc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var a=t;0<a;){var s=31-we(a),i=1<<s;r[s]=-1,a&=~i}0!==n&&Pe(e,n,t)}function eu(){return 0!==(6&fc)||(zu(0,!1),!1)}function tu(){if(null!==gc){if(0===yc)var e=gc.return;else ja=_a=null,oi(e=gc),ls=null,cs=0,e=gc;for(;null!==e;)gl(e.alternate,e),e=e.return;gc=null}}function nu(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,kd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Bc=0,tu(),mc=e,gc=n=Br(e.current,null),vc=t,yc=0,bc=null,wc=!1,Sc=Re(e,t),xc=!1,Cc=Rc=Ec=Nc=jc=_c=0,Ic=Tc=null,Oc=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var a=31-we(r),s=1<<a;t|=e[a],r&=~s}return kc=t,Ir(),n}function ru(e,t){Ws=null,A.H=go,t===Xa||t===es?(t=is(),yc=3):t===Za?(t=is(),yc=4):yc=t===Po?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,bc=t,null===gc&&(_c=1,Ro(e,$r(t,e.current)))}function au(){var e=Ps.current;return null===e||((4194048&vc)===vc?null===As:((62914560&vc)===vc||0!==(536870912&vc))&&e===As)}function su(){var e=A.H;return A.H=go,null===e?go:e}function iu(){var e=A.A;return A.A=hc,e}function ou(){_c=4,wc||(4194048&vc)!==vc&&null!==Ps.current||(Sc=!0),0===(134217727&jc)&&0===(134217727&Nc)||null===mc||Zc(mc,vc,Rc,!1)}function lu(e,t,n){var r=fc;fc|=2;var a=su(),s=iu();mc===e&&vc===t||(Dc=null,nu(e,t)),t=!1;var i=_c;e:for(;;)try{if(0!==yc&&null!==gc){var o=gc,l=bc;switch(yc){case 8:tu(),i=6;break e;case 3:case 2:case 9:case 6:null===Ps.current&&(t=!0);var c=yc;if(yc=0,bc=null,pu(e,o,l,c),n&&Sc){i=0;break e}break;default:c=yc,yc=0,bc=null,pu(e,o,l,c)}}cu(),i=_c;break}catch(u){ru(e,u)}return t&&e.shellSuspendCounter++,ja=_a=null,fc=r,A.H=a,A.A=s,null===gc&&(mc=null,vc=0,Ir()),i}function cu(){for(;null!==gc;)du(gc)}function uu(){for(;null!==gc&&!ie();)du(gc)}function du(e){var t=ol(e.alternate,e,kc);e.memoizedProps=e.pendingProps,null===t?fu(e):gc=t}function hu(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Go(n,t,t.pendingProps,t.type,void 0,vc);break;case 11:t=Go(n,t,t.pendingProps,t.type.render,t.ref,vc);break;case 5:oi(t);default:gl(n,t),t=ol(n,t=gc=qr(t,kc),kc)}e.memoizedProps=e.pendingProps,null===t?fu(e):gc=t}function pu(e,t,n,r){ja=_a=null,oi(t),ls=null,cs=0;var a=t.return;try{if(function(e,t,n,r,a){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&Ta(t,n,a,!0),null!==(n=Ps.current)){switch(n.tag){case 31:case 13:return null===As?ou():null===n.alternate&&0===_c&&(_c=3),n.flags&=-257,n.flags|=65536,n.lanes=a,r===ts?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),ju(e,r,a)),!1;case 22:return n.flags|=65536,r===ts?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),ju(e,r,a)),!1}throw Error(i(435,n.tag))}return ju(e,r,a),ou(),!1}if(ha)return null!==(t=Ps.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=a,r!==ma&&xa($r(e=Error(i(422),{cause:r}),n))):(r!==ma&&xa($r(t=Error(i(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,a&=-a,e.lanes|=a,r=$r(r,n),xs(e,a=To(e.stateNode,r,a)),4!==_c&&(_c=2)),!1;var s=Error(i(520),{cause:r});if(s=$r(s,n),null===Tc?Tc=[s]:Tc.push(s),4!==_c&&(_c=2),null===t)return!0;r=$r(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=a&-a,n.lanes|=e,xs(n,e=To(n.stateNode,r,e)),!1;case 1:if(t=n.type,s=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==s&&"function"===typeof s.componentDidCatch&&(null===zc||!zc.has(s))))return n.flags|=65536,a&=-a,n.lanes|=a,Oo(a=Io(a),e,n,r),xs(n,a),!1}n=n.return}while(null!==n);return!1}(e,a,t,n,vc))return _c=1,Ro(e,$r(n,e.current)),void(gc=null)}catch(s){if(null!==a)throw gc=a,s;return _c=1,Ro(e,$r(n,e.current)),void(gc=null)}32768&t.flags?(ha||1===r?e=!0:Sc||0!==(536870912&vc)?e=!1:(wc=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=Ps.current)&&13===r.tag&&(r.flags|=16384))),mu(t,e)):fu(t)}function fu(e){var t=e;do{if(0!==(32768&t.flags))return void mu(t,wc);e=t.return;var n=fl(t.alternate,t,kc);if(null!==n)return void(gc=n);if(null!==(t=t.sibling))return void(gc=t);gc=t=e}while(null!==t);0===_c&&(_c=5)}function mu(e,t){do{var n=ml(e.alternate,e);if(null!==n)return n.flags&=32767,void(gc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(gc=e);gc=e=n}while(null!==e);_c=6,gc=null}function gu(e,t,n,r,a,s,o,l,c){e.cancelPendingCommit=null;do{Su()}while(0!==Uc);if(0!==(6&fc))throw Error(i(327));if(null!==t){if(t===e.current)throw Error(i(177));if(s=t.lanes|t.childLanes,function(e,t,n,r,a,s){var i=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=i&~n;0<n;){var u=31-we(n),d=1<<u;o[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var p=h[u];null!==p&&(p.lane&=-536870913)}n&=~d}0!==r&&Pe(e,r,0),0!==s&&0===a&&0!==e.tag&&(e.suspendedLanes|=s&~(i&~t))}(e,n,s|=Tr,o,l,c),e===mc&&(gc=mc=null,vc=0),Fc=t,Mc=e,Bc=n,qc=s,Wc=a,Hc=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,ae(he,function(){return xu(),null})):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=A.T,A.T=null,a=L.p,L.p=2,o=fc,fc|=4;try{!function(e,t){if(e=e.containerInfo,md=wh,sr(e=ar(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(g){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,p=null;t:for(;;){for(var f;h!==n||0!==a&&3!==h.nodeType||(l=o+a),h!==s||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(f=h.firstChild);)p=h,h=f;for(;;){if(h===e)break t;if(p===n&&++u===a&&(l=o),p===s&&++d===r&&(c=o),null!==(f=h.nextSibling))break;p=(h=p).parentNode}h=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(gd={focusedElem:e,selectionRange:n},wh=!1,Al=t;null!==Al;)if(e=(t=Al).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Al=e;else for(;null!==Al;){switch(s=(t=Al).alternate,e=t.flags,t.tag){case 0:if(0!==(4&e)&&null!==(e=null!==(e=t.updateQueue)?e.events:null))for(n=0;n<e.length;n++)(a=e[n]).ref.impl=a.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==s){e=void 0,n=t,a=s.memoizedProps,s=s.memoizedState,r=n.stateNode;try{var m=_o(n.type,a);e=r.getSnapshotBeforeUpdate(m,s),r.__reactInternalSnapshotBeforeUpdate=e}catch(v){_u(n,n.return,v)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))Td(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Td(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(i(163))}if(null!==(e=t.sibling)){e.return=t.return,Al=e;break}Al=t.return}}(e,t)}finally{fc=o,L.p=a,A.T=r}}Uc=1,vu(),yu(),bu()}}function vu(){if(1===Uc){Uc=0;var e=Mc,t=Fc,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=A.T,A.T=null;var r=L.p;L.p=2;var a=fc;fc|=4;try{Gl(t,e);var s=gd,i=ar(e.containerInfo),o=s.focusedElem,l=s.selectionRange;if(i!==o&&o&&o.ownerDocument&&rr(o.ownerDocument.documentElement,o)){if(null!==l&&sr(o)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(u,o.value.length);else{var d=o.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var p=h.getSelection(),f=o.textContent.length,m=Math.min(l.start,f),g=void 0===l.end?m:Math.min(l.end,f);!p.extend&&m>g&&(i=g,g=m,m=i);var v=nr(o,m),y=nr(o,g);if(v&&y&&(1!==p.rangeCount||p.anchorNode!==v.node||p.anchorOffset!==v.offset||p.focusNode!==y.node||p.focusOffset!==y.offset)){var b=d.createRange();b.setStart(v.node,v.offset),p.removeAllRanges(),m>g?(p.addRange(b),p.extend(y.node,y.offset)):(b.setEnd(y.node,y.offset),p.addRange(b))}}}}for(d=[],p=o;p=p.parentNode;)1===p.nodeType&&d.push({element:p,left:p.scrollLeft,top:p.scrollTop});for("function"===typeof o.focus&&o.focus(),o=0;o<d.length;o++){var w=d[o];w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}wh=!!md,gd=md=null}finally{fc=a,L.p=r,A.T=n}}e.current=t,Uc=2}}function yu(){if(2===Uc){Uc=0;var e=Mc,t=Fc,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=A.T,A.T=null;var r=L.p;L.p=2;var a=fc;fc|=4;try{Ll(e,t.alternate,t)}finally{fc=a,L.p=r,A.T=n}}Uc=3}}function bu(){if(4===Uc||3===Uc){Uc=0,oe();var e=Mc,t=Fc,n=Bc,r=Hc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Uc=5:(Uc=0,Fc=Mc=null,wu(e,e.pendingLanes));var a=e.pendingLanes;if(0===a&&(zc=null),ze(n),t=t.stateNode,ye&&"function"===typeof ye.onCommitFiberRoot)try{ye.onCommitFiberRoot(ve,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==r){t=A.T,a=L.p,L.p=2,A.T=null;try{for(var s=e.onRecoverableError,i=0;i<r.length;i++){var o=r[i];s(o.value,{componentStack:o.stack})}}finally{A.T=t,L.p=a}}0!==(3&Bc)&&Su(),Du(e),a=e.pendingLanes,0!==(261930&n)&&0!==(42&a)?e===Gc?Vc++:(Vc=0,Gc=e):Vc=0,zu(0,!1)}}function wu(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Ba(t)))}function Su(){return vu(),yu(),bu(),xu()}function xu(){if(5!==Uc)return!1;var e=Mc,t=qc;qc=0;var n=ze(Bc),r=A.T,a=L.p;try{L.p=32>n?32:n,A.T=null,n=Wc,Wc=null;var s=Mc,o=Bc;if(Uc=0,Fc=Mc=null,Bc=0,0!==(6&fc))throw Error(i(331));var l=fc;if(fc|=4,cc(s.current),tc(s,s.current,o,n),fc=l,zu(0,!1),ye&&"function"===typeof ye.onPostCommitFiberRoot)try{ye.onPostCommitFiberRoot(ve,s)}catch(c){}return!0}finally{L.p=a,A.T=r,wu(e,t)}}function ku(e,t,n){t=$r(n,t),null!==(e=ws(e,t=To(e.stateNode,t,2),2))&&(Oe(e,2),Du(e))}function _u(e,t,n){if(3===e.tag)ku(e,e,n);else for(;null!==t;){if(3===t.tag){ku(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===zc||!zc.has(r))){e=$r(n,e),null!==(r=ws(t,n=Io(2),2))&&(Oo(n,r,t,e),Oe(r,2),Du(r));break}}t=t.return}}function ju(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new pc;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(xc=!0,a.add(n),e=Nu.bind(null,e,t,n),t.then(e,e))}function Nu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,mc===e&&(vc&n)===n&&(4===_c||3===_c&&(62914560&vc)===vc&&300>le()-Pc?0===(2&fc)&&nu(e,0):Ec|=n,Cc===vc&&(Cc=0)),Du(e)}function Eu(e,t){0===t&&(t=Te()),null!==(e=Ar(e,t))&&(Oe(e,t),Du(e))}function Ru(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Eu(e,n)}function Cu(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(i(314))}null!==r&&r.delete(t),Eu(e,n)}var Tu=null,Iu=null,Ou=!1,Pu=!1,Au=!1,Lu=0;function Du(e){e!==Iu&&null===e.next&&(null===Iu?Tu=Iu=e:Iu=Iu.next=e),Pu=!0,Ou||(Ou=!0,jd(function(){0!==(6&fc)?ae(ue,Uu):Mu()}))}function zu(e,t){if(!Au&&Pu){Au=!0;do{for(var n=!1,r=Tu;null!==r;){if(!t)if(0!==e){var a=r.pendingLanes;if(0===a)var s=0;else{var i=r.suspendedLanes,o=r.pingedLanes;s=(1<<31-we(42|e)+1)-1,s=201326741&(s&=a&~(i&~o))?201326741&s|1:s?2|s:0}0!==s&&(n=!0,qu(r,s))}else s=vc,0===(3&(s=Ee(r,r===mc?s:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||Re(r,s)||(n=!0,qu(r,s));r=r.next}}while(n);Au=!1}}function Uu(){Mu()}function Mu(){Pu=Ou=!1;var e=0;0!==Lu&&function(){var e=window.event;if(e&&"popstate"===e.type)return e!==Sd&&(Sd=e,!0);return Sd=null,!1}()&&(e=Lu);for(var t=le(),n=null,r=Tu;null!==r;){var a=r.next,s=Fu(r,t);0===s?(r.next=null,null===n?Tu=a:n.next=a,null===a&&(Iu=n)):(n=r,(0!==e||0!==(3&s))&&(Pu=!0)),r=a}0!==Uc&&5!==Uc||zu(e,!1),0!==Lu&&(Lu=0)}function Fu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,s=-62914561&e.pendingLanes;0<s;){var i=31-we(s),o=1<<i,l=a[i];-1===l?0!==(o&n)&&0===(o&r)||(a[i]=Ce(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}if(n=vc,n=Ee(e,e===(t=mc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===yc||9===yc)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&se(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||Re(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&se(r),ze(n)){case 2:case 8:n=de;break;case 32:default:n=he;break;case 268435456:n=fe}return r=Bu.bind(null,e),n=ae(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&se(r),e.callbackPriority=2,e.callbackNode=null,2}function Bu(e,t){if(0!==Uc&&5!==Uc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Su()&&e.callbackNode!==n)return null;var r=vc;return 0===(r=Ee(e,e===mc?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Qc(e,r,t),Fu(e,le()),null!=e.callbackNode&&e.callbackNode===n?Bu.bind(null,e):null)}function qu(e,t){if(Su())return null;Qc(e,t,!0)}function Wu(){if(0===Lu){var e=Ha;0===e&&(e=ke,0===(261888&(ke<<=1))&&(ke=256)),Lu=e}return Lu}function Hu(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:It(""+e)}function Vu(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Gu=0;Gu<jr.length;Gu++){var Ku=jr[Gu];Nr(Ku.toLowerCase(),"on"+(Ku[0].toUpperCase()+Ku.slice(1)))}Nr(vr,"onAnimationEnd"),Nr(yr,"onAnimationIteration"),Nr(br,"onAnimationStart"),Nr("dblclick","onDoubleClick"),Nr("focusin","onFocus"),Nr("focusout","onBlur"),Nr(wr,"onTransitionRun"),Nr(Sr,"onTransitionStart"),Nr(xr,"onTransitionCancel"),Nr(kr,"onTransitionEnd"),at("onMouseEnter",["mouseout","mouseover"]),at("onMouseLeave",["mouseout","mouseover"]),at("onPointerEnter",["pointerout","pointerover"]),at("onPointerLeave",["pointerout","pointerover"]),rt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rt("onBeforeInput",["compositionend","keypress","textInput","paste"]),rt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ju="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$u=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ju));function Qu(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var i=r.length-1;0<=i;i--){var o=r[i],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&a.isPropagationStopped())break e;s=o,a.currentTarget=c;try{s(a)}catch(u){Er(u)}a.currentTarget=null,s=l}else for(i=0;i<r.length;i++){if(l=(o=r[i]).instance,c=o.currentTarget,o=o.listener,l!==s&&a.isPropagationStopped())break e;s=o,a.currentTarget=c;try{s(a)}catch(u){Er(u)}a.currentTarget=null,s=l}}}}function Yu(e,t){var n=t[He];void 0===n&&(n=t[He]=new Set);var r=e+"__bubble";n.has(r)||(td(t,e,2,!1),n.add(r))}function Xu(e,t,n){var r=0;t&&(r|=4),td(n,e,r,t)}var Zu="_reactListening"+Math.random().toString(36).slice(2);function ed(e){if(!e[Zu]){e[Zu]=!0,tt.forEach(function(t){"selectionchange"!==t&&($u.has(t)||Xu(t,!1,e),Xu(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Zu]||(t[Zu]=!0,Xu("selectionchange",!1,t))}}function td(e,t,n,r){switch(Eh(t)){case 2:var a=Sh;break;case 8:a=xh;break;default:a=kh}n=a.bind(null,t,n,e),a=void 0,!qt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function nd(e,t,n,r,a){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var o=r.stateNode.containerInfo;if(o===a)break;if(4===i)for(i=r.return;null!==i;){var c=i.tag;if((3===c||4===c)&&i.stateNode.containerInfo===a)return;i=i.return}for(;null!==o;){if(null===(i=Qe(o)))return;if(5===(c=i.tag)||6===c||26===c||27===c){r=s=i;continue e}o=o.parentNode}}r=r.return}Mt(function(){var r=s,a=At(n),i=[];e:{var o=_r.get(e);if(void 0!==o){var c=nn,u=e;switch(e){case"keypress":if(0===Jt(n))break e;case"keydown":case"keyup":c=bn;break;case"focusin":u="focus",c=cn;break;case"focusout":u="blur",c=cn;break;case"beforeblur":case"afterblur":c=cn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=on;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=ln;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=Sn;break;case vr:case yr:case br:c=un;break;case kr:c=xn;break;case"scroll":case"scrollend":c=an;break;case"wheel":c=kn;break;case"copy":case"cut":case"paste":c=dn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=wn;break;case"toggle":case"beforetoggle":c=_n}var d=0!==(4&t),h=!d&&("scroll"===e||"scrollend"===e),p=d?null!==o?o+"Capture":null:o;d=[];for(var f,m=r;null!==m;){var g=m;if(f=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===f||null===p||null!=(g=Ft(m,p))&&d.push(rd(m,g,f)),h)break;m=m.return}0<d.length&&(o=new c(o,u,null,n,a),i.push({event:o,listeners:d}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===Pt||!(u=n.relatedTarget||n.fromElement)||!Qe(u)&&!u[We])&&(c||o)&&(o=a.window===a?a:(o=a.ownerDocument)?o.defaultView||o.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?Qe(u):null)&&(h=l(u),d=u.tag,u!==h||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=r),c!==u)){if(d=on,g="onMouseLeave",p="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=wn,g="onPointerLeave",p="onPointerEnter",m="pointer"),h=null==c?o:Xe(c),f=null==u?o:Xe(u),(o=new d(g,m+"leave",c,n,a)).target=h,o.relatedTarget=f,g=null,Qe(a)===r&&((d=new d(p,m+"enter",u,n,a)).target=f,d.relatedTarget=h,g=d),h=g,c&&u)e:{for(d=sd,m=u,f=0,g=p=c;g;g=d(g))f++;g=0;for(var v=m;v;v=d(v))g++;for(;0<f-g;)p=d(p),f--;for(;0<g-f;)m=d(m),g--;for(;f--;){if(p===m||null!==m&&p===m.alternate){d=p;break e}p=d(p),m=d(m)}d=null}else d=null;null!==c&&id(i,o,c,d,!1),null!==u&&null!==h&&id(i,h,u,d,!0)}if("select"===(c=(o=r?Xe(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===c&&"file"===o.type)var y=qn;else if(Dn(o))if(Wn)y=Xn;else{y=Qn;var b=$n}else!(c=o.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==o.type&&"radio"!==o.type?r&&Rt(r.elementType)&&(y=qn):y=Yn;switch(y&&(y=y(e,r))?zn(i,y,n,a):(b&&b(e,o,r),"focusout"===e&&r&&"number"===o.type&&null!=r.memoizedProps.value&&wt(o,"number",o.value)),b=r?Xe(r):window,e){case"focusin":(Dn(b)||"true"===b.contentEditable)&&(or=b,lr=r,cr=null);break;case"focusout":cr=lr=or=null;break;case"mousedown":ur=!0;break;case"contextmenu":case"mouseup":case"dragend":ur=!1,dr(i,n,a);break;case"selectionchange":if(ir)break;case"keydown":case"keyup":dr(i,n,a)}var w;if(Nn)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else An?On(e,n)&&(S="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(S="onCompositionStart");S&&(Cn&&"ko"!==n.locale&&(An||"onCompositionStart"!==S?"onCompositionEnd"===S&&An&&(w=Kt()):(Vt="value"in(Ht=a)?Ht.value:Ht.textContent,An=!0)),0<(b=ad(r,S)).length&&(S=new hn(S,e,null,n,a),i.push({event:S,listeners:b}),w?S.data=w:null!==(w=Pn(n))&&(S.data=w))),(w=Rn?function(e,t){switch(e){case"compositionend":return Pn(t);case"keypress":return 32!==t.which?null:(In=!0,Tn);case"textInput":return(e=t.data)===Tn&&In?null:e;default:return null}}(e,n):function(e,t){if(An)return"compositionend"===e||!Nn&&On(e,t)?(e=Kt(),Gt=Vt=Ht=null,An=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Cn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(S=ad(r,"onBeforeInput")).length&&(b=new hn("onBeforeInput","beforeinput",null,n,a),i.push({event:b,listeners:S}),b.data=w)),function(e,t,n,r,a){if("submit"===t&&n&&n.stateNode===a){var s=Hu((a[qe]||null).action),i=r.submitter;i&&null!==(t=(t=i[qe]||null)?Hu(t.formAction):i.getAttribute("formAction"))&&(s=t,i=null);var o=new nn("action","action",null,r,a);e.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==Lu){var e=i?Vu(a,i):new FormData(a);to(n,{pending:!0,data:e,method:a.method,action:s},null,e)}}else"function"===typeof s&&(o.preventDefault(),e=i?Vu(a,i):new FormData(a),to(n,{pending:!0,data:e,method:a.method,action:s},s,e))},currentTarget:a}]})}}(i,e,r,n,a)}Qu(i,t)})}function rd(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ad(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,s=a.stateNode;if(5!==(a=a.tag)&&26!==a&&27!==a||null===s||(null!=(a=Ft(e,n))&&r.unshift(rd(e,a,s)),null!=(a=Ft(e,t))&&r.push(rd(e,a,s))),3===e.tag)return r;e=e.return}return[]}function sd(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function id(e,t,n,r,a){for(var s=t._reactName,i=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(o=o.tag,null!==l&&l===r)break;5!==o&&26!==o&&27!==o||null===c||(l=c,a?null!=(c=Ft(n,s))&&i.unshift(rd(n,c,l)):a||null!=(c=Ft(n,s))&&i.push(rd(n,c,l))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}var od=/\r\n?/g,ld=/\u0000|\uFFFD/g;function cd(e){return("string"===typeof e?e:""+e).replace(od,"\n").replace(ld,"")}function ud(e,t){return t=cd(t),cd(e)===t}function dd(e,t,n,r,a,s){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||_t(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&_t(e,""+r);break;case"className":ct(e,"class",r);break;case"tabIndex":ct(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":ct(e,n,r);break;case"style":Et(e,r,s);break;case"data":if("object"!==t){ct(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=It(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof s&&("formAction"===n?("input"!==t&&dd(e,t,"name",a.name,a,null),dd(e,t,"formEncType",a.formEncType,a,null),dd(e,t,"formMethod",a.formMethod,a,null),dd(e,t,"formTarget",a.formTarget,a,null)):(dd(e,t,"encType",a.encType,a,null),dd(e,t,"method",a.method,a,null),dd(e,t,"target",a.target,a,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=It(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Ot);break;case"onScroll":null!=r&&Yu("scroll",e);break;case"onScrollEnd":null!=r&&Yu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(i(61));if(null!=(n=r.__html)){if(null!=a.children)throw Error(i(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=It(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Yu("beforetoggle",e),Yu("toggle",e),lt(e,"popover",r);break;case"xlinkActuate":ut(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":ut(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":ut(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":ut(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":ut(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":ut(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":ut(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":ut(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":ut(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":lt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&lt(e,n=Ct.get(n)||n,r)}}function hd(e,t,n,r,a,s){switch(n){case"style":Et(e,r,s);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(i(61));if(null!=(n=r.__html)){if(null!=a.children)throw Error(i(60));e.innerHTML=n}}break;case"children":"string"===typeof r?_t(e,r):("number"===typeof r||"bigint"===typeof r)&&_t(e,""+r);break;case"onScroll":null!=r&&Yu("scroll",e);break;case"onScrollEnd":null!=r&&Yu("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Ot);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:nt.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(a=n.endsWith("Capture"),t=n.slice(2,a?n.length-7:void 0),"function"===typeof(s=null!=(s=e[qe]||null)?s[n]:null)&&e.removeEventListener(t,s,a),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):lt(e,n,r):("function"!==typeof s&&null!==s&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,a)))}}function pd(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Yu("error",e),Yu("load",e);var r,a=!1,s=!1;for(r in n)if(n.hasOwnProperty(r)){var o=n[r];if(null!=o)switch(r){case"src":a=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:dd(e,t,r,o,n,null)}}return s&&dd(e,t,"srcSet",n.srcSet,n,null),void(a&&dd(e,t,"src",n.src,n,null));case"input":Yu("invalid",e);var l=r=o=s=null,c=null,u=null;for(a in n)if(n.hasOwnProperty(a)){var d=n[a];if(null!=d)switch(a){case"name":s=d;break;case"type":o=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(i(137,t));break;default:dd(e,t,a,d,n,null)}}return void bt(e,r,l,c,u,o,s,!1);case"select":for(s in Yu("invalid",e),a=o=r=null,n)if(n.hasOwnProperty(s)&&null!=(l=n[s]))switch(s){case"value":r=l;break;case"defaultValue":o=l;break;case"multiple":a=l;default:dd(e,t,s,l,n,null)}return t=r,n=o,e.multiple=!!a,void(null!=t?St(e,!!a,t,!1):null!=n&&St(e,!!a,n,!0));case"textarea":for(o in Yu("invalid",e),r=s=a=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":a=l;break;case"defaultValue":s=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(i(91));break;default:dd(e,t,o,l,n,null)}return void kt(e,a,s,r);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(a=n[c]))if("selected"===c)e.selected=a&&"function"!==typeof a&&"symbol"!==typeof a;else dd(e,t,c,a,n,null);return;case"dialog":Yu("beforetoggle",e),Yu("toggle",e),Yu("cancel",e),Yu("close",e);break;case"iframe":case"object":Yu("load",e);break;case"video":case"audio":for(a=0;a<Ju.length;a++)Yu(Ju[a],e);break;case"image":Yu("error",e),Yu("load",e);break;case"details":Yu("toggle",e);break;case"embed":case"source":case"link":Yu("error",e),Yu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(a=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:dd(e,t,u,a,n,null)}return;default:if(Rt(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(a=n[d])&&hd(e,t,d,a,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(a=n[l])&&dd(e,t,l,a,n,null))}function fd(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var md=null,gd=null;function vd(e){return 9===e.nodeType?e:e.ownerDocument}function yd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function bd(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function wd(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Sd=null;var xd="function"===typeof setTimeout?setTimeout:void 0,kd="function"===typeof clearTimeout?clearTimeout:void 0,_d="function"===typeof Promise?Promise:void 0,jd="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof _d?function(e){return _d.resolve(null).then(e).catch(Nd)}:xd;function Nd(e){setTimeout(function(){throw e})}function Ed(e){return"head"===e}function Rd(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)||"/&"===n){if(0===r)return e.removeChild(a),void Vh(t);r--}else if("$"===n||"$?"===n||"$~"===n||"$!"===n||"&"===n)r++;else if("html"===n)Md(e.ownerDocument.documentElement);else if("head"===n){Md(n=e.ownerDocument.head);for(var s=n.firstChild;s;){var i=s.nextSibling,o=s.nodeName;s[Je]||"SCRIPT"===o||"STYLE"===o||"LINK"===o&&"stylesheet"===s.rel.toLowerCase()||n.removeChild(s),s=i}}else"body"===n&&Md(e.ownerDocument.body);n=a}while(n);Vh(t)}function Cd(e,t){var n=e;e=0;do{var r=n.nextSibling;if(1===n.nodeType?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",""===n.getAttribute("style")&&n.removeAttribute("style")):3===n.nodeType&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===e)break;e--}else"$"!==n&&"$?"!==n&&"$~"!==n&&"$!"!==n||e++;n=r}while(n)}function Td(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Td(n),$e(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function Id(e,t){for(;8!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!t)return null;if(null===(e=Ad(e.nextSibling)))return null}return e}function Od(e){return"$?"===e.data||"$~"===e.data}function Pd(e){return"$!"===e.data||"$?"===e.data&&"loading"!==e.ownerDocument.readyState}function Ad(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"$~"===t||"&"===t||"F!"===t||"F"===t)break;if("/$"===t||"/&"===t)return null}}return e}var Ld=null;function Dd(e){e=e.nextSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n||"/&"===n){if(0===t)return Ad(e.nextSibling);t--}else"$"!==n&&"$!"!==n&&"$?"!==n&&"$~"!==n&&"&"!==n||t++}e=e.nextSibling}return null}function zd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n||"$~"===n||"&"===n){if(0===t)return e;t--}else"/$"!==n&&"/&"!==n||t++}e=e.previousSibling}return null}function Ud(e,t,n){switch(t=vd(n),e){case"html":if(!(e=t.documentElement))throw Error(i(452));return e;case"head":if(!(e=t.head))throw Error(i(453));return e;case"body":if(!(e=t.body))throw Error(i(454));return e;default:throw Error(i(451))}}function Md(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);$e(e)}var Fd=new Map,Bd=new Set;function qd(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Wd=L.d;L.d={f:function(){var e=Wd.f(),t=eu();return e||t},r:function(e){var t=Ye(e);null!==t&&5===t.tag&&"form"===t.type?ro(t):Wd.r(e)},D:function(e){Wd.D(e),Vd("dns-prefetch",e,null)},C:function(e,t){Wd.C(e,t),Vd("preconnect",e,t)},L:function(e,t,n){Wd.L(e,t,n);var r=Hd;if(r&&e&&t){var a='link[rel="preload"][as="'+vt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(a+='[imagesrcset="'+vt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(a+='[imagesizes="'+vt(n.imageSizes)+'"]')):a+='[href="'+vt(e)+'"]';var s=a;switch(t){case"style":s=Kd(e);break;case"script":s=Qd(e)}Fd.has(s)||(e=p({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Fd.set(s,e),null!==r.querySelector(a)||"style"===t&&r.querySelector(Jd(s))||"script"===t&&r.querySelector(Yd(s))||(pd(t=r.createElement("link"),"link",e),et(t),r.head.appendChild(t)))}},m:function(e,t){Wd.m(e,t);var n=Hd;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",a='link[rel="modulepreload"][as="'+vt(r)+'"][href="'+vt(e)+'"]',s=a;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Qd(e)}if(!Fd.has(s)&&(e=p({rel:"modulepreload",href:e},t),Fd.set(s,e),null===n.querySelector(a))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Yd(s)))return}pd(r=n.createElement("link"),"link",e),et(r),n.head.appendChild(r)}}},X:function(e,t){Wd.X(e,t);var n=Hd;if(n&&e){var r=Ze(n).hoistableScripts,a=Qd(e),s=r.get(a);s||((s=n.querySelector(Yd(a)))||(e=p({src:e,async:!0},t),(t=Fd.get(a))&&th(e,t),et(s=n.createElement("script")),pd(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(a,s))}},S:function(e,t,n){Wd.S(e,t,n);var r=Hd;if(r&&e){var a=Ze(r).hoistableStyles,s=Kd(e);t=t||"default";var i=a.get(s);if(!i){var o={loading:0,preload:null};if(i=r.querySelector(Jd(s)))o.loading=5;else{e=p({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Fd.get(s))&&eh(e,n);var l=i=r.createElement("link");et(l),pd(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Zd(i,t,r)}i={type:"stylesheet",instance:i,count:1,state:o},a.set(s,i)}}},M:function(e,t){Wd.M(e,t);var n=Hd;if(n&&e){var r=Ze(n).hoistableScripts,a=Qd(e),s=r.get(a);s||((s=n.querySelector(Yd(a)))||(e=p({src:e,async:!0,type:"module"},t),(t=Fd.get(a))&&th(e,t),et(s=n.createElement("script")),pd(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(a,s))}}};var Hd="undefined"===typeof document?null:document;function Vd(e,t,n){var r=Hd;if(r&&"string"===typeof t&&t){var a=vt(t);a='link[rel="'+e+'"][href="'+a+'"]',"string"===typeof n&&(a+='[crossorigin="'+n+'"]'),Bd.has(a)||(Bd.add(a),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(a)&&(pd(t=r.createElement("link"),"link",e),et(t),r.head.appendChild(t)))}}function Gd(e,t,n,r){var a=(a=G.current)?qd(a):null;if(!a)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Kd(n.href),(r=(n=Ze(a).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Kd(n.href);var s=Ze(a).hoistableStyles,o=s.get(e);if(o||(a=a.ownerDocument||a,o={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(e,o),(s=a.querySelector(Jd(e)))&&!s._p&&(o.instance=s,o.state.loading=5),Fd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Fd.set(e,n),s||function(e,t,n,r){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?r.loading=1:(t=e.createElement("link"),r.preload=t,t.addEventListener("load",function(){return r.loading|=1}),t.addEventListener("error",function(){return r.loading|=2}),pd(t,"link",n),et(t),e.head.appendChild(t))}(a,e,n,o.state))),t&&null===r)throw Error(i(528,""));return o}if(t&&null!==r)throw Error(i(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Qd(n),(r=(n=Ze(a).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function Kd(e){return'href="'+vt(e)+'"'}function Jd(e){return'link[rel="stylesheet"]['+e+"]"}function $d(e){return p({},e,{"data-precedence":e.precedence,precedence:null})}function Qd(e){return'[src="'+vt(e)+'"]'}function Yd(e){return"script[async]"+e}function Xd(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+vt(n.href)+'"]');if(r)return t.instance=r,et(r),r;var a=p({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return et(r=(e.ownerDocument||e).createElement("style")),pd(r,"style",a),Zd(r,n.precedence,e),t.instance=r;case"stylesheet":a=Kd(n.href);var s=e.querySelector(Jd(a));if(s)return t.state.loading|=4,t.instance=s,et(s),s;r=$d(n),(a=Fd.get(a))&&eh(r,a),et(s=(e.ownerDocument||e).createElement("link"));var o=s;return o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),pd(s,"link",r),t.state.loading|=4,Zd(s,n.precedence,e),t.instance=s;case"script":return s=Qd(n.src),(a=e.querySelector(Yd(s)))?(t.instance=a,et(a),a):(r=n,(a=Fd.get(s))&&th(r=p({},n),a),et(a=(e=e.ownerDocument||e).createElement("script")),pd(a,"link",r),e.head.appendChild(a),t.instance=a);case"void":return null;default:throw Error(i(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Zd(r,n.precedence,e));return t.instance}function Zd(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=r.length?r[r.length-1]:null,s=a,i=0;i<r.length;i++){var o=r[i];if(o.dataset.precedence===t)s=o;else if(s!==a)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function eh(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function th(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var nh=null;function rh(e,t,n){if(null===nh){var r=new Map,a=nh=new Map;a.set(n,r)}else(r=(a=nh).get(n))||(r=new Map,a.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),a=0;a<n.length;a++){var s=n[a];if(!(s[Je]||s[Be]||"link"===e&&"stylesheet"===s.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==s.namespaceURI){var i=s.getAttribute(t)||"";i=e+i;var o=r.get(i);o?o.push(s):r.set(i,[s])}}return r}function ah(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function sh(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var ih=0;function oh(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)ch(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var lh=null;function ch(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,lh=new Map,t.forEach(uh,e),lh=null,oh.call(e))}function uh(e,t){if(!(4&t.state.loading)){var n=lh.get(e);if(n)var r=n.get(null);else{n=new Map,lh.set(e,n);for(var a=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<a.length;s++){var i=a[s];"LINK"!==i.nodeName&&"not all"===i.getAttribute("media")||(n.set(i.dataset.precedence,i),r=i)}r&&n.set(null,r)}i=(a=t.instance).getAttribute("data-precedence"),(s=n.get(i)||r)===r&&n.set(null,a),n.set(i,a),this.count++,r=oh.bind(this),a.addEventListener("load",r),a.addEventListener("error",r),s?s.parentNode.insertBefore(a,s.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(a,e.firstChild),t.state.loading|=4}}var dh={$$typeof:S,Provider:null,Consumer:null,_currentValue:D,_currentValue2:D,_threadCount:0};function hh(e,t,n,r,a,s,i,o,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ie(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ie(0),this.hiddenUpdates=Ie(null),this.identifierPrefix=r,this.onUncaughtError=a,this.onCaughtError=s,this.onRecoverableError=i,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function ph(e,t,n,r,a,s,i,o,l,c,u,d){return e=new hh(e,t,n,i,l,c,u,d,o),t=1,!0===s&&(t|=24),s=Mr(3,null,null,t),e.current=s,s.stateNode=e,(t=Fa()).refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:r,isDehydrated:n,cache:t},vs(s),e}function fh(e){return e?e=zr:zr}function mh(e,t,n,r,a,s){a=fh(a),null===r.context?r.context=a:r.pendingContext=a,(r=bs(t)).payload={element:n},null!==(s=void 0===s?null:s)&&(r.callback=s),null!==(n=ws(e,r,t))&&($c(n,0,t),Ss(n,e,t))}function gh(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function vh(e,t){gh(e,t),(e=e.alternate)&&gh(e,t)}function yh(e){if(13===e.tag||31===e.tag){var t=Ar(e,67108864);null!==t&&$c(t,0,67108864),vh(e,67108864)}}function bh(e){if(13===e.tag||31===e.tag){var t=Kc(),n=Ar(e,t=De(t));null!==n&&$c(n,0,t),vh(e,t)}}var wh=!0;function Sh(e,t,n,r){var a=A.T;A.T=null;var s=L.p;try{L.p=2,kh(e,t,n,r)}finally{L.p=s,A.T=a}}function xh(e,t,n,r){var a=A.T;A.T=null;var s=L.p;try{L.p=8,kh(e,t,n,r)}finally{L.p=s,A.T=a}}function kh(e,t,n,r){if(wh){var a=_h(r);if(null===a)nd(e,t,r,jh,n),Dh(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return Ch=zh(Ch,e,t,n,r,a),!0;case"dragenter":return Th=zh(Th,e,t,n,r,a),!0;case"mouseover":return Ih=zh(Ih,e,t,n,r,a),!0;case"pointerover":var s=a.pointerId;return Oh.set(s,zh(Oh.get(s)||null,e,t,n,r,a)),!0;case"gotpointercapture":return s=a.pointerId,Ph.set(s,zh(Ph.get(s)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(Dh(e,r),4&t&&-1<Lh.indexOf(e)){for(;null!==a;){var s=Ye(a);if(null!==s)switch(s.tag){case 3:if((s=s.stateNode).current.memoizedState.isDehydrated){var i=Ne(s.pendingLanes);if(0!==i){var o=s;for(o.pendingLanes|=2,o.entangledLanes|=2;i;){var l=1<<31-we(i);o.entanglements[1]|=l,i&=~l}Du(s),0===(6&fc)&&(Lc=le()+500,zu(0,!1))}}break;case 31:case 13:null!==(o=Ar(s,2))&&$c(o,0,2),eu(),vh(s,2)}if(null===(s=_h(r))&&nd(e,t,r,jh,n),s===a)break;a=s}null!==a&&r.stopPropagation()}else nd(e,t,r,null,n)}}function _h(e){return Nh(e=At(e))}var jh=null;function Nh(e){if(jh=null,null!==(e=Qe(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(31===n){if(null!==(e=u(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return jh=e,null}function Eh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ce()){case ue:return 2;case de:return 8;case he:case pe:return 32;case fe:return 268435456;default:return 32}default:return 32}}var Rh=!1,Ch=null,Th=null,Ih=null,Oh=new Map,Ph=new Map,Ah=[],Lh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Dh(e,t){switch(e){case"focusin":case"focusout":Ch=null;break;case"dragenter":case"dragleave":Th=null;break;case"mouseover":case"mouseout":Ih=null;break;case"pointerover":case"pointerout":Oh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ph.delete(t.pointerId)}}function zh(e,t,n,r,a,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[a]},null!==t&&(null!==(t=Ye(t))&&yh(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Uh(e){var t=Qe(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void Me(e.priority,function(){bh(n)})}else if(31===t){if(null!==(t=u(n)))return e.blockedOn=t,void Me(e.priority,function(){bh(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Mh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=_h(e.nativeEvent);if(null!==n)return null!==(t=Ye(n))&&yh(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Pt=r,n.target.dispatchEvent(r),Pt=null,t.shift()}return!0}function Fh(e,t,n){Mh(e)&&n.delete(t)}function Bh(){Rh=!1,null!==Ch&&Mh(Ch)&&(Ch=null),null!==Th&&Mh(Th)&&(Th=null),null!==Ih&&Mh(Ih)&&(Ih=null),Oh.forEach(Fh),Ph.forEach(Fh)}function qh(e,t){e.blockedOn===t&&(e.blockedOn=null,Rh||(Rh=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Bh)))}var Wh=null;function Hh(e){Wh!==e&&(Wh=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Wh===e&&(Wh=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],a=e[t+2];if("function"!==typeof r){if(null===Nh(r||n))continue;break}var s=Ye(n);null!==s&&(e.splice(t,3),t-=3,to(s,{pending:!0,data:a,method:n.method,action:r},r,a))}}))}function Vh(e){function t(t){return qh(t,e)}null!==Ch&&qh(Ch,e),null!==Th&&qh(Th,e),null!==Ih&&qh(Ih,e),Oh.forEach(t),Ph.forEach(t);for(var n=0;n<Ah.length;n++){var r=Ah[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Ah.length&&null===(n=Ah[0]).blockedOn;)Uh(n),null===n.blockedOn&&Ah.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var a=n[r],s=n[r+1],i=a[qe]||null;if("function"===typeof s)i||Hh(n);else if(i){var o=null;if(s&&s.hasAttribute("formAction")){if(a=s,i=s[qe]||null)o=i.formAction;else if(null!==Nh(a))continue}else o=i.action;"function"===typeof o?n[r+1]=o:(n.splice(r,3),r-=3),Hh(n)}}}function Gh(){function e(e){e.canIntercept&&"react-transition"===e.info&&e.intercept({handler:function(){return new Promise(function(e){return a=e})},focusReset:"manual",scroll:"manual"})}function t(){null!==a&&(a(),a=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var e=navigation.currentEntry;e&&null!=e.url&&navigation.navigate(e.url,{state:e.getState(),info:"react-transition",history:"replace"})}}if("object"===typeof navigation){var r=!1,a=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),null!==a&&(a(),a=null)}}}function Kh(e){this._internalRoot=e}function Jh(e){this._internalRoot=e}Jh.prototype.render=Kh.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));mh(t.current,Kc(),e,t,null,null)},Jh.prototype.unmount=Kh.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;mh(e.current,2,null,e,null,null),eu(),t[We]=null}},Jh.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ue();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ah.length&&0!==t&&t<Ah[n].priority;n++);Ah.splice(n,0,e),0===n&&Uh(e)}};var $h=a.version;if("19.2.4"!==$h)throw Error(i(527,$h,"19.2.4"));L.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var s=a.alternate;if(null===s){if(null!==(r=a.return)){n=r;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===n)return d(a),e;if(s===r)return d(a),t;s=s.sibling}throw Error(i(188))}if(n.return!==r.return)n=a,r=s;else{for(var o=!1,c=a.child;c;){if(c===n){o=!0,n=a,r=s;break}if(c===r){o=!0,r=a,n=s;break}c=c.sibling}if(!o){for(c=s.child;c;){if(c===n){o=!0,n=s,r=a;break}if(c===r){o=!0,r=s,n=a;break}c=c.sibling}if(!o)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?h(e):null)?null:e.stateNode};var Qh={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:A,reconcilerVersion:"19.2.4"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Yh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yh.isDisabled&&Yh.supportsFiber)try{ve=Yh.inject(Qh),ye=Yh}catch(Zh){}}t.createRoot=function(e,t){if(!o(e))throw Error(i(299));var n=!1,r="",a=jo,s=No,l=Eo;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(a=t.onUncaughtError),void 0!==t.onCaughtError&&(s=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError)),t=ph(e,1,!1,null,0,n,r,null,a,s,l,Gh),e[We]=t.current,ed(e),new Kh(t)},t.hydrateRoot=function(e,t,n){if(!o(e))throw Error(i(299));var r=!1,a="",s=jo,l=No,c=Eo,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onUncaughtError&&(s=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.formState&&(u=n.formState)),(t=ph(e,1,!0,t,0,r,a,u,s,l,c,Gh)).context=fh(null),n=t.current,(a=bs(r=De(r=Kc()))).callback=null,ws(n,a,r),n=r,t.current.lanes=n,Oe(t,n),Du(t),e[We]=t.current,ed(e),new Jh(t)},t.version="19.2.4"},672(e,t,n){var r=n(43);function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var i={d:{f:s,r:function(){throw Error(a(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},o=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(a(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:o,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=i.p;try{if(l.T=null,i.p=2,e)return e()}finally{l.T=t,i.p=n,i.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,i.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&i.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),a="string"===typeof t.integrity?t.integrity:void 0,s="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?i.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:a,fetchPriority:s}):"script"===n&&i.d.X(e,{crossOrigin:r,integrity:a,fetchPriority:s,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);i.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&i.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);i.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);i.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else i.d.m(e)},t.requestFormReset=function(e){i.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.2.4"},391(e,t,n){!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},950(e,t,n){!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)},799(e,t){var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function a(e,t,r){var a=null;if(void 0!==r&&(a=""+r),void 0!==t.key&&(a=""+t.key),"key"in t)for(var s in r={},t)"key"!==s&&(r[s]=t[s]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:a,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=a,t.jsxs=a},288(e,t){var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),f=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,v={};function y(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||m}function b(){}function w(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||m}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=y.prototype;var S=w.prototype=new b;S.constructor=w,g(S,y.prototype),S.isPureReactComponent=!0;var x=Array.isArray;function k(){}var _={H:null,A:null,T:null,S:null},j=Object.prototype.hasOwnProperty;function N(e,t,r){var a=r.ref;return{$$typeof:n,type:e,key:t,ref:void 0!==a?a:null,props:r}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var R=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function T(e,t,a,s,i){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(o){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case h:return T((u=e._init)(e._payload),t,a,s,i)}}if(u)return i=i(e),u=""===s?"."+C(e,0):s,x(i)?(a="",null!=u&&(a=u.replace(R,"$&/")+"/"),T(i,t,a,"",function(e){return e})):null!=i&&(E(i)&&(l=i,c=a+(null==i.key||e&&e.key===i.key?"":(""+i.key).replace(R,"$&/")+"/")+u,i=N(l.type,c,l.props)),t.push(i)),1;u=0;var d,p=""===s?".":s+":";if(x(e))for(var m=0;m<e.length;m++)u+=T(s=e[m],t,a,o=p+C(s,m),i);else if("function"===typeof(m=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=f&&d[f]||d["@@iterator"])?d:null))for(e=m.call(e),m=0;!(s=e.next()).done;)u+=T(s=s.value,t,a,o=p+C(s,m++),i);else if("object"===o){if("function"===typeof e.then)return T(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(k,k):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,a,s,i);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function I(e,t,n){if(null==e)return e;var r=[],a=0;return T(e,r,"","",function(e){return t.call(n,e,a++)}),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},A={map:I,forEach:function(e,t,n){I(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return I(e,function(){t++}),t},toArray:function(e){return I(e,function(e){return e})||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};t.Activity=p,t.Children=A,t.Component=y,t.Fragment=a,t.Profiler=i,t.PureComponent=w,t.StrictMode=s,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return _.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cacheSignal=function(){return null},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=g({},e.props),a=e.key;if(null!=t)for(s in void 0!==t.key&&(a=""+t.key),t)!j.call(t,s)||"key"===s||"__self"===s||"__source"===s||"ref"===s&&void 0===t.ref||(r[s]=t[s]);var s=arguments.length-2;if(1===s)r.children=n;else if(1<s){for(var i=Array(s),o=0;o<s;o++)i[o]=arguments[o+2];r.children=i}return N(e.type,a,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:o,_context:e},e},t.createElement=function(e,t,n){var r,a={},s=null;if(null!=t)for(r in void 0!==t.key&&(s=""+t.key),t)j.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(a[r]=t[r]);var i=arguments.length-2;if(1===i)a.children=n;else if(1<i){for(var o=Array(i),l=0;l<i;l++)o[l]=arguments[l+2];a.children=o}if(e&&e.defaultProps)for(r in i=e.defaultProps)void 0===a[r]&&(a[r]=i[r]);return N(e,s,a)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=_.T,n={};_.T=n;try{var r=e(),a=_.S;null!==a&&a(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(k,P)}catch(s){P(s)}finally{null!==t&&null!==n.types&&(t.types=n.types),_.T=t}},t.unstable_useCacheRefresh=function(){return _.H.useCacheRefresh()},t.use=function(e){return _.H.use(e)},t.useActionState=function(e,t,n){return _.H.useActionState(e,t,n)},t.useCallback=function(e,t){return _.H.useCallback(e,t)},t.useContext=function(e){return _.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return _.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return _.H.useEffect(e,t)},t.useEffectEvent=function(e){return _.H.useEffectEvent(e)},t.useId=function(){return _.H.useId()},t.useImperativeHandle=function(e,t,n){return _.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return _.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return _.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return _.H.useMemo(e,t)},t.useOptimistic=function(e,t){return _.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return _.H.useReducer(e,t,n)},t.useRef=function(e){return _.H.useRef(e)},t.useState=function(e){return _.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return _.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return _.H.useTransition()},t.version="19.2.4"},43(e,t,n){e.exports=n(288)},579(e,t,n){e.exports=n(799)},896(e,t){function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<s(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,i=a>>>1;r<i;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>s(l,n))c<a&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<a&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,p=3,f=!1,m=!1,g=!1,v=!1,y="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function S(e){for(var t=r(u);null!==t;){if(null===t.callback)a(u);else{if(!(t.startTime<=e))break;a(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function x(e){if(g=!1,S(e),!m)if(null!==r(c))m=!0,_||(_=!0,k());else{var t=r(u);null!==t&&O(x,t.startTime-e)}}var k,_=!1,j=-1,N=5,E=-1;function R(){return!!v||!(t.unstable_now()-E<N)}function C(){if(v=!1,_){var e=t.unstable_now();E=e;var n=!0;try{e:{m=!1,g&&(g=!1,b(j),j=-1),f=!0;var s=p;try{t:{for(S(e),h=r(c);null!==h&&!(h.expirationTime>e&&R());){var i=h.callback;if("function"===typeof i){h.callback=null,p=h.priorityLevel;var o=i(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof o){h.callback=o,S(e),n=!0;break t}h===r(c)&&a(c),S(e)}else a(c);h=r(c)}if(null!==h)n=!0;else{var l=r(u);null!==l&&O(x,l.startTime-e),n=!1}}break e}finally{h=null,p=s,f=!1}n=void 0}}finally{n?k():_=!1}}}if("function"===typeof w)k=function(){w(C)};else if("undefined"!==typeof MessageChannel){var T=new MessageChannel,I=T.port2;T.port1.onmessage=C,k=function(){I.postMessage(null)}}else k=function(){y(C,0)};function O(e,n){j=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_requestPaint=function(){v=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,a,s){var i=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?i+s:i:s=i,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:a,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>i?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(b(j),j=-1):g=!0,O(x,s-i))):(e.sortIndex=o,n(c,e),m||f||(m=!0,_||(_=!0,k()))),e},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},853(e,t,n){e.exports=n(896)}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.m=e,(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,a){if(1&a&&(r=this(r)),8&a)return r;if("object"===typeof r&&r){if(4&a&&r.__esModule)return r;if(16&a&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var i={};e=e||[null,t({}),t([]),t(t)];for(var o=2&a&&r;("object"==typeof o||"function"==typeof o)&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(e=>i[e]=()=>r[e]);return i.default=()=>r,n.d(s,i),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,r)=>(n.f[r](e,t),t),[])),n.u=e=>"static/js/"+e+".54dc34d7.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="reptrack3:";n.l=(r,a,s,i)=>{if(e[r])e[r].push(a);else{var o,l;if(void 0!==s)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+s){o=d;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",t+s),o.src=r),e[r]=[a];var h=(t,n)=>{o.onerror=o.onload=null,clearTimeout(p);var a=e[r];if(delete e[r],o.parentNode&&o.parentNode.removeChild(o),a&&a.forEach(e=>e(n)),t)return t(n)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=h.bind(null,o.onerror),o.onload=h.bind(null,o.onload),l&&document.head.appendChild(o)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/reptrack/",(()=>{var e={792:0};n.f.j=(t,r)=>{var a=n.o(e,t)?e[t]:void 0;if(0!==a)if(a)r.push(a[2]);else{var s=new Promise((n,r)=>a=e[t]=[n,r]);r.push(a[2]=s);var i=n.p+n.u(t),o=new Error;n.l(i,r=>{if(n.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var s=r&&("load"===r.type?"missing":r.type),i=r&&r.target&&r.target.src;o.message="Loading chunk "+t+" failed.\n("+s+": "+i+")",o.name="ChunkLoadError",o.type=s,o.request=i,a[1](o)}},"chunk-"+t,t)}};var t=(t,r)=>{var a,s,[i,o,l]=r,c=0;if(i.some(t=>0!==e[t])){for(a in o)n.o(o,a)&&(n.m[a]=o[a]);if(l)l(n)}for(t&&t(r);c<i.length;c++)s=i[c],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0},r=self.webpackChunkreptrack3=self.webpackChunkreptrack3||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r=n(43),a=n.t(r,2),s=n(391);function i(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function l(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}function c(e,t,n){return(t=l(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){c(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const h=["sri"],p=["page"],f=["page","matches"],m=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition","unstable_defaultShouldRevalidate"],g=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],v=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition","unstable_defaultShouldRevalidate"];var y="popstate";function b(){return N(function(e,t){let{pathname:n="/",search:r="",hash:a=""}=j(e.location.hash.substring(1));return n.startsWith("/")||n.startsWith(".")||(n="/"+n),k("",{pathname:n,search:r,hash:a},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){let n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){let t=e.location.href,n=t.indexOf("#");r=-1===n?t:t.slice(0,n)}return r+"#"+("string"===typeof t?t:_(t))},function(e,t){S("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push(".concat(JSON.stringify(t),")"))},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function w(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function S(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function x(e,t){return{usr:e.state,key:e.key,idx:t}}function k(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return d(d({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?j(t):t),{},{state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)})}function _(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function j(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function N(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:a=document.defaultView,v5Compat:s=!1}=r,i=a.history,o="POP",l=null,c=u();function u(){return(i.state||{idx:null}).idx}function h(){o="POP";let e=u(),t=null==e?null:e-c;c=e,l&&l({action:o,location:f.location,delta:t})}function p(e){return E(e)}null==c&&(c=0,i.replaceState(d(d({},i.state),{},{idx:c}),""));let f={get action(){return o},get location(){return e(a,i)},listen(e){if(l)throw new Error("A history only accepts one active listener");return a.addEventListener(y,h),l=e,()=>{a.removeEventListener(y,h),l=null}},createHref:e=>t(a,e),createURL:p,encodeLocation(e){let t=p(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){o="PUSH";let r=k(f.location,e,t);n&&n(r,e),c=u()+1;let d=x(r,c),h=f.createHref(r);try{i.pushState(d,"",h)}catch(p){if(p instanceof DOMException&&"DataCloneError"===p.name)throw p;a.location.assign(h)}s&&l&&l({action:o,location:f.location,delta:1})},replace:function(e,t){o="REPLACE";let r=k(f.location,e,t);n&&n(r,e),c=u();let a=x(r,c),d=f.createHref(r);i.replaceState(a,"",d),s&&l&&l({action:o,location:f.location,delta:0})},go:e=>i.go(e)};return f}function E(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="http://localhost";"undefined"!==typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href),w(n,"No window.location.(origin|href) available to create URL");let r="string"===typeof e?e:_(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}new WeakMap;function R(e,t){return C(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function C(e,t,n,r){let a=H(("string"===typeof t?j(t):t).pathname||"/",n);if(null==a)return null;let s=T(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(s);let i=null;for(let o=0;null==i&&o<s.length;++o){let e=W(a);i=F(s[o],e,r)}return i}function T(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=function(e,s){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a,o=arguments.length>3?arguments[3]:void 0,l={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:s,route:e};if(l.relativePath.startsWith("/")){if(!l.relativePath.startsWith(r)&&i)return;w(l.relativePath.startsWith(r),'Absolute route path "'.concat(l.relativePath,'" nested under path "').concat(r,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),l.relativePath=l.relativePath.slice(r.length)}let c=Y([r,l.relativePath]),u=n.concat(l);e.children&&e.children.length>0&&(w(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(c,'".')),T(e.children,t,u,c,i)),(null!=e.path||e.index)&&t.push({path:c,score:M(c,e.index),routesMeta:u})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!==(n=e.path)&&void 0!==n&&n.includes("?"))for(let r of I(e.path))s(e,t,!0,r);else s(e,t)}),t}function I(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,a=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return a?[s,""]:[s];let i=I(r.join("/")),o=[];return o.push(...i.map(e=>""===e?s:[s,e].join("/"))),a&&o.push(...i),o.map(t=>e.startsWith("/")&&""===t?"/":t)}var O=/^:[\w-]+$/,P=3,A=2,L=1,D=10,z=-2,U=e=>"*"===e;function M(e,t){let n=e.split("/"),r=n.length;return n.some(U)&&(r+=z),t&&(r+=A),n.filter(e=>!U(e)).reduce((e,t)=>e+(O.test(t)?P:""===t?L:D),r)}function F(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,a={},s="/",i=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===s?t:t.slice(s.length)||"/",u=B({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=B({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(a,u.params),i.push({params:a,pathname:Y([s,u.pathname]),pathnameBase:X(Y([s,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(s=Y([s,u.pathnameBase]))}return i}function B(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=q(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let s=a[0],i=s.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:r.reduce((e,t,n)=>{let{paramName:r,isOptional:a}=t;if("*"===r){let e=o[n]||"";i=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=a&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:s,pathnameBase:i,pattern:e}}function q(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];S("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'.concat(e,'" will be treated as if it were "').concat(e.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(e.replace(/\*$/,"/*"),'".'));let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function W(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return S(!1,'The URL path "'.concat(e,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat(t,").")),e}}function H(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}var V=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function G(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}function K(e,t,n,r){return"Cannot include a '".concat(e,"' character in a manually specified `to.").concat(t,"` field [").concat(JSON.stringify(r),"].  Please separate it out to the `to.").concat(n,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function J(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function $(e){let t=J(e);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function Q(e,t,n){let r,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=j(e):(r=d({},e),w(!r.pathname||!r.pathname.includes("?"),K("?","pathname","search",r)),w(!r.pathname||!r.pathname.includes("#"),K("#","pathname","hash",r)),w(!r.search||!r.search.includes("#"),K("#","search","hash",r)));let s,i=""===e||""===r.pathname,o=i?"/":r.pathname;if(null==o)s=n;else{let e=t.length-1;if(!a&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}s=e>=0?t[e]:"/"}let l=function(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:r,search:a="",hash:s=""}="string"===typeof e?j(e):e;return r?(r=r.replace(/\/\/+/g,"/"),t=r.startsWith("/")?G(r.substring(1),"/"):G(r,n)):t=n,{pathname:t,search:Z(a),hash:ee(s)}}(r,s),c=o&&"/"!==o&&o.endsWith("/"),u=(i||"."===o)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!u||(l.pathname+="/"),l}var Y=e=>e.join("/").replace(/\/\/+/g,"/"),X=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Z=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",ee=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";var te=class{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function ne(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}function re(e){return e.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var ae="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;function se(e,t){let n=e;if("string"!==typeof n||!V.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,a=!1;if(ae)try{let e=new URL(window.location.href),r=n.startsWith("//")?new URL(e.protocol+n):new URL(n),s=H(r.pathname,t);r.origin===e.origin&&null!=s?n=s+r.search+r.hash:a=!0}catch(s){S(!1,'<Link to="'.concat(n,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}return{absoluteURL:r,isExternal:a,to:n}}Symbol("Uninstrumented");Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var ie=["POST","PUT","PATCH","DELETE"],oe=(new Set(ie),["GET",...ie]);new Set(oe),Symbol("ResetLoaderData");var le=r.createContext(null);le.displayName="DataRouter";var ce=r.createContext(null);ce.displayName="DataRouterState";var ue=r.createContext(!1);function de(){return r.useContext(ue)}var he=r.createContext({isTransitioning:!1});he.displayName="ViewTransition";var pe=r.createContext(new Map);pe.displayName="Fetchers";var fe=r.createContext(null);fe.displayName="Await";var me=r.createContext(null);me.displayName="Navigation";var ge=r.createContext(null);ge.displayName="Location";var ve=r.createContext({outlet:null,matches:[],isDataRoute:!1});ve.displayName="Route";var ye=r.createContext(null);ye.displayName="RouteError";var be="REACT_ROUTER_ERROR";function we(){return null!=r.useContext(ge)}function Se(){return w(we(),"useLocation() may be used only in the context of a <Router> component."),r.useContext(ge).location}var xe="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ke(e){r.useContext(me).static||r.useLayoutEffect(e)}function _e(){let{isDataRoute:e}=r.useContext(ve);return e?function(){let{router:e}=De("useNavigate"),t=Ue("useNavigate"),n=r.useRef(!1);ke(()=>{n.current=!0});let a=r.useCallback(async function(r){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};S(n.current,xe),n.current&&("number"===typeof r?await e.navigate(r):await e.navigate(r,d({fromRouteId:t},a)))},[e,t]);return a}():function(){w(we(),"useNavigate() may be used only in the context of a <Router> component.");let e=r.useContext(le),{basename:t,navigator:n}=r.useContext(me),{matches:a}=r.useContext(ve),{pathname:s}=Se(),i=JSON.stringify($(a)),o=r.useRef(!1);ke(()=>{o.current=!0});let l=r.useCallback(function(r){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(S(o.current,xe),!o.current)return;if("number"===typeof r)return void n.go(r);let l=Q(r,JSON.parse(i),s,"path"===a.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:Y([t,l.pathname])),(a.replace?n.replace:n.push)(l,a.state,a)},[t,n,i,s,e]);return l}()}r.createContext(null);function je(){let{matches:e}=r.useContext(ve),t=e[e.length-1];return t?t.params:{}}function Ne(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:n}=r.useContext(ve),{pathname:a}=Se(),s=JSON.stringify($(n));return r.useMemo(()=>Q(e,JSON.parse(s),a,"path"===t),[e,s,a,t])}function Ee(e,t,n,a,s){w(we(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=r.useContext(me),{matches:o}=r.useContext(ve),l=o[o.length-1],c=l?l.params:{},u=l?l.pathname:"/",h=l?l.pathnameBase:"/",p=l&&l.route;{let e=p&&p.path||"";Be(u,!p||e.endsWith("*")||e.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(u,'" (under <Route path="').concat(e,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(e,'"> to <Route path="').concat("/"===e?"*":"".concat(e,"/*"),'">.'))}let f,m=Se();if(t){var g;let e="string"===typeof t?j(t):t;w("/"===h||(null===(g=e.pathname)||void 0===g?void 0:g.startsWith(h)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(h,'" but pathname "').concat(e.pathname,'" was given in the `location` prop.')),f=e}else f=m;let v=f.pathname||"/",y=v;if("/"!==h){let e=h.replace(/^\//,"").split("/");y="/"+v.replace(/^\//,"").split("/").slice(e.length).join("/")}let b=R(e,{pathname:y});S(p||null!=b,'No routes matched location "'.concat(f.pathname).concat(f.search).concat(f.hash,'" ')),S(null==b||void 0!==b[b.length-1].route.element||void 0!==b[b.length-1].route.Component||void 0!==b[b.length-1].route.lazy,'Matched leaf route at location "'.concat(f.pathname).concat(f.search).concat(f.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let x=Ae(b&&b.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:Y([h,i.encodeLocation?i.encodeLocation(e.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:Y([h,i.encodeLocation?i.encodeLocation(e.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathnameBase])})),o,n,a,s);return t&&x?r.createElement(ge.Provider,{value:{location:d({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:"POP"}},x):x}function Re(){let e=Me(),t=ne(e)?"".concat(e.status," ").concat(e.statusText):e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:a},i={padding:"2px 4px",backgroundColor:a},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=r.createElement(r.Fragment,null,r.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),r.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",r.createElement("code",{style:i},"ErrorBoundary")," or"," ",r.createElement("code",{style:i},"errorElement")," prop on your route.")),r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:s},n):null,o)}var Ce=r.createElement(Re,null),Te=class extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&"object"===typeof e&&e&&"digest"in e&&"string"===typeof e.digest){const t=function(e){if(e.startsWith("".concat(be,":").concat("ROUTE_ERROR_RESPONSE",":{")))try{let t=JSON.parse(e.slice(40));if("object"===typeof t&&t&&"number"===typeof t.status&&"string"===typeof t.statusText)return new te(t.status,t.statusText,t.data)}catch(t){}}(e.digest);t&&(e=t)}let t=void 0!==e?r.createElement(ve.Provider,{value:this.props.routeContext},r.createElement(ye.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?r.createElement(Oe,{error:e},t):t}};Te.contextType=ue;var Ie=new WeakMap;function Oe(e){let{children:t,error:n}=e,{basename:a}=r.useContext(me);if("object"===typeof n&&n&&"digest"in n&&"string"===typeof n.digest){let e=function(e){if(e.startsWith("".concat(be,":").concat("REDIRECT",":{")))try{let t=JSON.parse(e.slice(28));if("object"===typeof t&&t&&"number"===typeof t.status&&"string"===typeof t.statusText&&"string"===typeof t.location&&"boolean"===typeof t.reloadDocument&&"boolean"===typeof t.replace)return t}catch(t){}}(n.digest);if(e){let t=Ie.get(n);if(t)throw t;let s=se(e.location,a);if(ae&&!Ie.get(n)){if(!s.isExternal&&!e.reloadDocument){const t=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(s.to,{replace:e.replace}));throw Ie.set(n,t),t}window.location.href=s.absoluteURL||s.to}return r.createElement("meta",{httpEquiv:"refresh",content:"0;url=".concat(s.absoluteURL||s.to)})}}return t}function Pe(e){let{routeContext:t,match:n,children:a}=e,s=r.useContext(le);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(ve.Provider,{value:t},a)}function Ae(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(null==e){if(!n)return null;if(n.errors)e=n.matches;else{if(0!==t.length||n.initialized||!(n.matches.length>0))return null;e=n.matches}}let s=e,i=null===n||void 0===n?void 0:n.errors;if(null!=i){let e=s.findIndex(e=>e.route.id&&void 0!==(null===i||void 0===i?void 0:i[e.route.id]));w(e>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(i).join(","))),s=s.slice(0,Math.min(s.length,e+1))}let o=!1,l=-1;if(n)for(let r=0;r<s.length;r++){let e=s[r];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(l=r),e.route.id){let{loaderData:t,errors:r}=n,a=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!r||void 0===r[e.route.id]);if(e.route.lazy||a){o=!0,s=l>=0?s.slice(0,l+1):[s[0]];break}}}let c=n&&a?(e,t)=>{var r,s;a(e,{location:n.location,params:null!==(r=null===(s=n.matches)||void 0===s||null===(s=s[0])||void 0===s?void 0:s.params)&&void 0!==r?r:{},unstable_pattern:re(n.matches),errorInfo:t})}:void 0;return s.reduceRight((e,a,u)=>{let d,h=!1,p=null,f=null;n&&(d=i&&a.route.id?i[a.route.id]:void 0,p=a.route.errorElement||Ce,o&&(l<0&&0===u?(Be("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,f=null):l===u&&(h=!0,f=a.route.hydrateFallbackElement||null)));let m=t.concat(s.slice(0,u+1)),g=()=>{let t;return t=d?p:h?f:a.route.Component?r.createElement(a.route.Component,null):a.route.element?a.route.element:e,r.createElement(Pe,{match:a,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(a.route.ErrorBoundary||a.route.errorElement||0===u)?r.createElement(Te,{location:n.location,revalidation:n.revalidation,component:p,error:d,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0},onError:c}):g()},null)}function Le(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function De(e){let t=r.useContext(le);return w(t,Le(e)),t}function ze(e){let t=r.useContext(ce);return w(t,Le(e)),t}function Ue(e){let t=function(e){let t=r.useContext(ve);return w(t,Le(e)),t}(e),n=t.matches[t.matches.length-1];return w(n.route.id,"".concat(e,' can only be used on routes that contain a unique "id"')),n.route.id}function Me(){var e;let t=r.useContext(ye),n=ze("useRouteError"),a=Ue("useRouteError");return void 0!==t?t:null===(e=n.errors)||void 0===e?void 0:e[a]}var Fe={};function Be(e,t,n){t||Fe[e]||(Fe[e]=!0,S(!1,n))}var qe={};function We(e,t){e||qe[t]||(qe[t]=!0,console.warn(t))}a.useOptimistic;r.memo(function(e){let{routes:t,future:n,state:r,onError:a}=e;return Ee(t,void 0,r,a,n)});function He(e){w(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Ve(e){let{basename:t="/",children:n=null,location:a,navigationType:s="POP",navigator:i,static:o=!1,unstable_useTransitions:l}=e;w(!we(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),u=r.useMemo(()=>({basename:c,navigator:i,static:o,unstable_useTransitions:l,future:{}}),[c,i,o,l]);"string"===typeof a&&(a=j(a));let{pathname:d="/",search:h="",hash:p="",state:f=null,key:m="default"}=a,g=r.useMemo(()=>{let e=H(d,c);return null==e?null:{location:{pathname:e,search:h,hash:p,state:f,key:m},navigationType:s}},[c,d,h,p,f,m,s]);return S(null!=g,'<Router basename="'.concat(c,'"> is not able to match the URL "').concat(d).concat(h).concat(p,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==g?null:r.createElement(me.Provider,{value:u},r.createElement(ge.Provider,{children:n,value:g}))}function Ge(e){let{children:t,location:n}=e;return Ee(Ke(t),n)}r.Component;function Ke(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];return r.Children.forEach(e,(e,a)=>{if(!r.isValidElement(e))return;let s=[...t,a];if(e.type===r.Fragment)return void n.push.apply(n,Ke(e.props.children,s));w(e.type===He,"[".concat("string"===typeof e.type?e.type:e.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),w(!e.props.index||!e.props.children,"An index route cannot have child routes.");let i={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,middleware:e.props.middleware,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(i.children=Ke(e.props.children,s)),n.push(i)}),n}var Je="get",$e="application/x-www-form-urlencoded";function Qe(e){return"undefined"!==typeof HTMLElement&&e instanceof HTMLElement}var Ye=null;var Xe=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ze(e){return null==e||Xe.has(e)?e:(S(!1,'"'.concat(e,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat($e,'"')),null)}function et(e,t){let n,r,a,s,i;if(Qe(o=e)&&"form"===o.tagName.toLowerCase()){let i=e.getAttribute("action");r=i?H(i,t):null,n=e.getAttribute("method")||Je,a=Ze(e.getAttribute("enctype"))||$e,s=new FormData(e)}else if(function(e){return Qe(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return Qe(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let i=e.form;if(null==i)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=e.getAttribute("formaction")||i.getAttribute("action");if(r=o?H(o,t):null,n=e.getAttribute("formmethod")||i.getAttribute("method")||Je,a=Ze(e.getAttribute("formenctype"))||Ze(i.getAttribute("enctype"))||$e,s=new FormData(i,e),!function(){if(null===Ye)try{new FormData(document.createElement("form"),0),Ye=!1}catch(e){Ye=!0}return Ye}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?"".concat(t,"."):"";s.append("".concat(e,"x"),"0"),s.append("".concat(e,"y"),"0")}else t&&s.append(t,r)}}else{if(Qe(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Je,r=null,a=$e,i=e}var o;return s&&"text/plain"===a&&(i=s,s=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:s,body:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;function tt(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}Symbol("SingleFetchRedirect");function nt(e,t,n,r){let a="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return n?a.pathname.endsWith("/")?a.pathname="".concat(a.pathname,"_.").concat(r):a.pathname="".concat(a.pathname,".").concat(r):"/"===a.pathname?a.pathname="_root.".concat(r):t&&"/"===H(a.pathname,t)?a.pathname="".concat(t.replace(/\/$/,""),"/_root.").concat(r):a.pathname="".concat(a.pathname.replace(/\/$/,""),".").concat(r),a}async function rt(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error("Error loading route module `".concat(e.module,"`, reloading page...")),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function at(e){return null!=e&&"string"===typeof e.page}function st(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function it(e,t,n,r,a,s){let i=(e,t)=>!n[t]||e.route.id!==n[t].route.id,o=(e,t)=>{var r;return n[t].pathname!==e.pathname||(null===(r=n[t].route.path)||void 0===r?void 0:r.endsWith("*"))&&n[t].params["*"]!==e.params["*"]};return"assets"===s?t.filter((e,t)=>i(e,t)||o(e,t)):"data"===s?t.filter((t,s)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(i(t,s)||o(t,s))return!0;if(t.route.shouldRevalidate){var c;let r=t.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:(null===(c=n[0])||void 0===c?void 0:c.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0}):[]}function ot(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=e.map(e=>{let r=t.routes[e.route.id];if(!r)return[];let a=[r.module];return r.clientActionModule&&(a=a.concat(r.clientActionModule)),r.clientLoaderModule&&(a=a.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(a=a.concat(r.hydrateFallbackModule)),r.imports&&(a=a.concat(r.imports)),a}).flat(1),[...new Set(r)];var r}function lt(e,t){let n=new Set,r=new Set(t);return e.reduce((e,a)=>{if(t&&!at(a)&&"script"===a.as&&a.href&&r.has(a.href))return e;let s=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(a));return n.has(s)||(n.add(s),e.push({key:s,link:a})),e},[])}function ct(e,t){return"lazy"===e.mode&&!0===t}function ut(){let e=r.useContext(le);return tt(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function dt(){let e=r.useContext(ce);return tt(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var ht=r.createContext(void 0);function pt(){let e=r.useContext(ht);return tt(e,"You must render this element inside a <HydratedRouter> element"),e}function ft(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function mt(e,t,n){if(n&&!bt)return[e[0]];if(t){let n=e.findIndex(e=>void 0!==t[e.route.id]);return e.slice(0,n+1)}return e}ht.displayName="FrameworkContext";function gt(e){let{page:t}=e,n=i(e,p),{router:a}=ut(),s=r.useMemo(()=>R(a.routes,t,a.basename),[a.routes,t,a.basename]);return s?r.createElement(yt,d({page:t,matches:s},n)):null}function vt(e){let{manifest:t,routeModules:n}=pt(),[a,s]=r.useState([]);return r.useEffect(()=>{let r=!1;return async function(e,t,n){return lt((await Promise.all(e.map(async e=>{let r=t.routes[e.route.id];if(r){let e=await rt(r,n);return e.links?e.links():[]}return[]}))).flat(1).filter(st).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?d(d({},e),{},{rel:"prefetch",as:"style"}):d(d({},e),{},{rel:"prefetch"})))}(e,t,n).then(e=>{r||s(e)}),()=>{r=!0}},[e,t,n]),a}function yt(e){let{page:t,matches:n}=e,a=i(e,f),s=Se(),{future:o,manifest:l,routeModules:c}=pt(),{basename:u}=ut(),{loaderData:h,matches:p}=dt(),m=r.useMemo(()=>it(t,n,p,l,s,"data"),[t,n,p,l,s]),g=r.useMemo(()=>it(t,n,p,l,s,"assets"),[t,n,p,l,s]),v=r.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let e=new Set,r=!1;if(n.forEach(t=>{var n;let a=l.routes[t.route.id];a&&a.hasLoader&&(!m.some(e=>e.route.id===t.route.id)&&t.route.id in h&&null!==(n=c[t.route.id])&&void 0!==n&&n.shouldRevalidate||a.hasClientLoader?r=!0:e.add(t.route.id))}),0===e.size)return[];let a=nt(t,u,o.unstable_trailingSlashAwareDataRequests,"data");return r&&e.size>0&&a.searchParams.set("_routes",n.filter(t=>e.has(t.route.id)).map(e=>e.route.id).join(",")),[a.pathname+a.search]},[u,o.unstable_trailingSlashAwareDataRequests,h,s,l,m,n,t,c]),y=r.useMemo(()=>ot(g,l),[g,l]),b=vt(g);return r.createElement(r.Fragment,null,v.map(e=>r.createElement("link",d({key:e,rel:"prefetch",as:"fetch",href:e},a))),y.map(e=>r.createElement("link",d({key:e,rel:"modulepreload",href:e},a))),b.map(e=>{var t;let{key:n,link:s}=e;return r.createElement("link",d(d({key:n,nonce:a.nonce},s),{},{crossOrigin:null!==(t=s.crossOrigin)&&void 0!==t?t:a.crossOrigin}))}))}var bt=!1;function wt(e){let{manifest:t,serverHandoffString:n,isSpaMode:a,renderMeta:s,routeDiscovery:o,ssr:l}=pt(),{router:c,static:u,staticContext:p}=ut(),{matches:f}=dt(),m=de(),g=ct(o,l);s&&(s.didRenderScripts=!0);let v=mt(f,null,a);r.useEffect(()=>{bt=!0},[]);let y=r.useMemo(()=>{var a;if(m)return null;let s=p?"window.__reactRouterContext = ".concat(n,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",o=u?"".concat(null!==(a=t.hmr)&&void 0!==a&&a.runtime?"import ".concat(JSON.stringify(t.hmr.runtime),";"):"").concat(g?"":"import ".concat(JSON.stringify(t.url)),";\n").concat(v.map((e,n)=>{let r="route".concat(n),a=t.routes[e.route.id];tt(a,"Route ".concat(e.route.id," not found in manifest"));let{clientActionModule:s,clientLoaderModule:i,clientMiddlewareModule:o,hydrateFallbackModule:l,module:c}=a,u=[...s?[{module:s,varName:"".concat(r,"_clientAction")}]:[],...i?[{module:i,varName:"".concat(r,"_clientLoader")}]:[],...o?[{module:o,varName:"".concat(r,"_clientMiddleware")}]:[],...l?[{module:l,varName:"".concat(r,"_HydrateFallback")}]:[],{module:c,varName:"".concat(r,"_main")}];return 1===u.length?"import * as ".concat(r," from ").concat(JSON.stringify(c),";"):[u.map(e=>"import * as ".concat(e.varName,' from "').concat(e.module,'";')).join("\n"),"const ".concat(r," = {").concat(u.map(e=>"...".concat(e.varName)).join(","),"};")].join("\n")}).join("\n"),"\n  ").concat(g?"window.__reactRouterManifest = ".concat(JSON.stringify(function(e,t){let{sri:n}=e,r=i(e,h),a=new Set(t.state.matches.map(e=>e.route.id)),s=t.state.location.pathname.split("/").filter(Boolean),o=["/"];for(s.pop();s.length>0;)o.push("/".concat(s.join("/"))),s.pop();o.forEach(e=>{let n=R(t.routes,e,t.basename);n&&n.forEach(e=>a.add(e.route.id))});let l=[...a].reduce((e,t)=>Object.assign(e,{[t]:r.routes[t]}),{});return d(d({},r),{},{routes:l,sri:!!n||void 0})}(t,c),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(v.map((e,t)=>"".concat(JSON.stringify(e.route.id),":route").concat(t)).join(","),"};\n\nimport(").concat(JSON.stringify(t.entry.module),");"):" ";return r.createElement(r.Fragment,null,r.createElement("script",d(d({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:s},type:void 0})),r.createElement("script",d(d({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:o},type:"module",async:!0})))},[]),b=bt||m?[]:(w=t.entry.imports.concat(ot(v,t,{includeHydrateFallback:!0})),[...new Set(w)]);var w;let S="object"===typeof t.sri?t.sri:{};return We(!m,"The <Scripts /> element is a no-op when using RSC and can be safely removed."),bt||m?null:r.createElement(r.Fragment,null,"object"===typeof t.sri?r.createElement("script",d(d({},e),{},{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:S})}})):null,g?null:r.createElement("link",{rel:"modulepreload",href:t.url,crossOrigin:e.crossOrigin,integrity:S[t.url],suppressHydrationWarning:!0}),r.createElement("link",{rel:"modulepreload",href:t.entry.module,crossOrigin:e.crossOrigin,integrity:S[t.entry.module],suppressHydrationWarning:!0}),b.map(t=>r.createElement("link",{key:t,rel:"modulepreload",href:t,crossOrigin:e.crossOrigin,integrity:S[t],suppressHydrationWarning:!0})),y)}function St(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach(t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)})}}r.Component;function xt(e){let{error:t,isOutsideRemixApp:n}=e;console.error(t);let a,s=r.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(ne(t))return r.createElement(kt,{title:"Unhandled Thrown Response!"},r.createElement("h1",{style:{fontSize:"24px"}},t.status," ",t.statusText),s);if(t instanceof Error)a=t;else{let e=null==t?"Unknown Error":"object"===typeof t&&"toString"in t?t.toString():JSON.stringify(t);a=new Error(e)}return r.createElement(kt,{title:"Application Error!",isOutsideRemixApp:n},r.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),r.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},a.stack),s)}function kt(e){var t;let{title:n,renderScripts:a,isOutsideRemixApp:s,children:i}=e,{routeModules:o}=pt();return null!==(t=o.root)&&void 0!==t&&t.Layout&&!s?i:r.createElement("html",{lang:"en"},r.createElement("head",null,r.createElement("meta",{charSet:"utf-8"}),r.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),r.createElement("title",null,n)),r.createElement("body",null,r.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},i,a?r.createElement(wt,null):null)))}var _t="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{_t&&(window.__reactRouterVersion="7.13.0")}catch(hl){}function jt(e){let{basename:t,children:n,unstable_useTransitions:a,window:s}=e,i=r.useRef();null==i.current&&(i.current=b({window:s,v5Compat:!0}));let o=i.current,[l,c]=r.useState({action:o.action,location:o.location}),u=r.useCallback(e=>{!1===a?c(e):r.startTransition(()=>c(e))},[a]);return r.useLayoutEffect(()=>o.listen(u),[o,u]),r.createElement(Ve,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,unstable_useTransitions:a})}var Nt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Et=r.forwardRef(function(e,t){let{onClick:n,discover:a="render",prefetch:s="none",relative:o,reloadDocument:l,replace:c,state:u,target:h,to:p,preventScrollReset:f,viewTransition:g,unstable_defaultShouldRevalidate:v}=e,y=i(e,m),{basename:b,unstable_useTransitions:S}=r.useContext(me),x="string"===typeof p&&Nt.test(p),k=se(p,b);p=k.to;let j=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};w(we(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=r.useContext(me),{hash:s,pathname:i,search:o}=Ne(e,{relative:t}),l=i;return"/"!==n&&(l="/"===i?n:Y([n,i])),a.createHref({pathname:l,search:o,hash:s})}(p,{relative:o}),[N,E,R]=function(e,t){let n=r.useContext(ht),[a,s]=r.useState(!1),[i,o]=r.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=t,p=r.useRef(null);r.useEffect(()=>{if("render"===e&&o(!0),"viewport"===e){let e=new IntersectionObserver(e=>{e.forEach(e=>{o(e.isIntersecting)})},{threshold:.5});return p.current&&e.observe(p.current),()=>{e.disconnect()}}},[e]),r.useEffect(()=>{if(a){let e=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(e)}}},[a]);let f=()=>{s(!0)},m=()=>{s(!1),o(!1)};return n?"intent"!==e?[i,p,{}]:[i,p,{onFocus:ft(l,f),onBlur:ft(c,m),onMouseEnter:ft(u,f),onMouseLeave:ft(d,m),onTouchStart:ft(h,f)}]:[!1,p,{}]}(s,y),C=function(e){let{target:t,replace:n,state:a,preventScrollReset:s,relative:i,viewTransition:o,unstable_defaultShouldRevalidate:l,unstable_useTransitions:c}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=_e(),d=Se(),h=Ne(e,{relative:i});return r.useCallback(p=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(p,t)){p.preventDefault();let t=void 0!==n?n:_(d)===_(h),f=()=>u(e,{replace:t,state:a,preventScrollReset:s,relative:i,viewTransition:o,unstable_defaultShouldRevalidate:l});c?r.startTransition(()=>f()):f()}},[d,u,h,n,a,t,e,s,i,o,l,c])}(p,{replace:c,state:u,target:h,preventScrollReset:f,relative:o,viewTransition:g,unstable_defaultShouldRevalidate:v,unstable_useTransitions:S});let T=r.createElement("a",d(d(d({},y),R),{},{href:k.absoluteURL||j,onClick:k.isExternal||l?n:function(e){n&&n(e),e.defaultPrevented||C(e)},ref:St(t,E),target:h,"data-discover":x||"render"!==a?void 0:"true"}));return N&&!x?r.createElement(r.Fragment,null,T,r.createElement(gt,{page:j})):T});Et.displayName="Link";var Rt=r.forwardRef(function(e,t){let{"aria-current":n="page",caseSensitive:a=!1,className:s="",end:o=!1,style:l,to:c,viewTransition:u,children:h}=e,p=i(e,g),f=Ne(c,{relative:p.relative}),m=Se(),v=r.useContext(ce),{navigator:y,basename:b}=r.useContext(me),S=null!=v&&function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.useContext(he);w(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=It("useViewTransitionState"),s=Ne(e,{relative:t});if(!n.isTransitioning)return!1;let i=H(n.currentLocation.pathname,a)||n.currentLocation.pathname,o=H(n.nextLocation.pathname,a)||n.nextLocation.pathname;return null!=B(s.pathname,o)||null!=B(s.pathname,i)}(f)&&!0===u,x=y.encodeLocation?y.encodeLocation(f).pathname:f.pathname,k=m.pathname,_=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;a||(k=k.toLowerCase(),_=_?_.toLowerCase():null,x=x.toLowerCase()),_&&b&&(_=H(_,b)||_);const j="/"!==x&&x.endsWith("/")?x.length-1:x.length;let N,E=k===x||!o&&k.startsWith(x)&&"/"===k.charAt(j),R=null!=_&&(_===x||!o&&_.startsWith(x)&&"/"===_.charAt(x.length)),C={isActive:E,isPending:R,isTransitioning:S},T=E?n:void 0;N="function"===typeof s?s(C):[s,E?"active":null,R?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let I="function"===typeof l?l(C):l;return r.createElement(Et,d(d({},p),{},{"aria-current":T,className:N,ref:t,style:I,to:c,viewTransition:u}),"function"===typeof h?h(C):h)});Rt.displayName="NavLink";var Ct=r.forwardRef((e,t)=>{let{discover:n="render",fetcherKey:a,navigate:s,reloadDocument:o,replace:l,state:c,method:u=Je,action:h,onSubmit:p,relative:f,preventScrollReset:m,viewTransition:g,unstable_defaultShouldRevalidate:y}=e,b=i(e,v),{unstable_useTransitions:S}=r.useContext(me),x=At(),k=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:n}=r.useContext(me),a=r.useContext(ve);w(a,"useFormAction must be used inside a RouteContext");let[s]=a.matches.slice(-1),i=d({},Ne(e||".",{relative:t})),o=Se();if(null==e){i.search=o.search;let e=new URLSearchParams(i.search),t=e.getAll("index");if(t.some(e=>""===e)){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let n=e.toString();i.search=n?"?".concat(n):""}}e&&"."!==e||!s.route.index||(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index");"/"!==n&&(i.pathname="/"===i.pathname?n:Y([n,i.pathname]));return _(i)}(h,{relative:f}),j="get"===u.toLowerCase()?"get":"post",N="string"===typeof h&&Nt.test(h);return r.createElement("form",d(d({ref:t,method:j,action:k,onSubmit:o?p:e=>{if(p&&p(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=(null===t||void 0===t?void 0:t.getAttribute("formmethod"))||u,i=()=>x(t||e.currentTarget,{fetcherKey:a,method:n,navigate:s,replace:l,state:c,relative:f,preventScrollReset:m,viewTransition:g,unstable_defaultShouldRevalidate:y});S&&!1!==s?r.startTransition(()=>i()):i()}},b),{},{"data-discover":N||"render"!==n?void 0:"true"}))});function Tt(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function It(e){let t=r.useContext(le);return w(t,Tt(e)),t}Ct.displayName="Form";var Ot=0,Pt=()=>"__".concat(String(++Ot),"__");function At(){let{router:e}=It("useSubmit"),{basename:t}=r.useContext(me),n=Ue("useRouteId"),a=e.fetch,s=e.navigate;return r.useCallback(async function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:i,method:o,encType:l,formData:c,body:u}=et(e,t);if(!1===r.navigate){let e=r.fetcherKey||Pt();await a(e,n,r.action||i,{unstable_defaultShouldRevalidate:r.unstable_defaultShouldRevalidate,preventScrollReset:r.preventScrollReset,formData:c,body:u,formMethod:r.method||o,formEncType:r.encType||l,flushSync:r.flushSync})}else await s(r.action||i,{unstable_defaultShouldRevalidate:r.unstable_defaultShouldRevalidate,preventScrollReset:r.preventScrollReset,formData:c,body:u,formMethod:r.method||o,formEncType:r.encType||l,replace:r.replace,state:r.state,fromRouteId:n,flushSync:r.flushSync,viewTransition:r.viewTransition})},[a,s,t,n])}function Lt(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}function Dt(e,t,n,r){return new(n||(n=Promise))(function(a,s){function i(e){try{l(r.next(e))}catch(hl){s(hl)}}function o(e){try{l(r.throw(e))}catch(hl){s(hl)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,o)}l((r=r.apply(e,t||[])).next())})}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;class zt extends Error{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"FunctionsError",n=arguments.length>2?arguments[2]:void 0;super(e),this.name=t,this.context=n}}class Ut extends zt{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Mt extends zt{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Ft extends zt{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Bt;!function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"}(Bt||(Bt={}));class qt{constructor(e){let{headers:t={},customFetch:n,region:r=Bt.Any}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=t,this.region=r,this.fetch=(e=>e?function(){return e(...arguments)}:function(){return fetch(...arguments)})(n)}setAuth(e){this.headers.Authorization="Bearer ".concat(e)}invoke(e){return Dt(this,arguments,void 0,function(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function*(){var r;let a,s;try{const{headers:i,method:o,body:l,signal:c,timeout:u}=n;let d={},{region:h}=n;h||(h=t.region);const p=new URL("".concat(t.url,"/").concat(e));let f;h&&"any"!==h&&(d["x-region"]=h,p.searchParams.set("forceFunctionRegion",h)),l&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)?"undefined"!==typeof Blob&&l instanceof Blob||l instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",f=l):"string"===typeof l?(d["Content-Type"]="text/plain",f=l):"undefined"!==typeof FormData&&l instanceof FormData?f=l:(d["Content-Type"]="application/json",f=JSON.stringify(l)):f=!l||"string"===typeof l||"undefined"!==typeof Blob&&l instanceof Blob||l instanceof ArrayBuffer||"undefined"!==typeof FormData&&l instanceof FormData?l:JSON.stringify(l);let m=c;u&&(s=new AbortController,a=setTimeout(()=>s.abort(),u),c?(m=s.signal,c.addEventListener("abort",()=>s.abort())):m=s.signal);const g=yield t.fetch(p.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},d),t.headers),i),body:f,signal:m}).catch(e=>{throw new Ut(e)}),v=g.headers.get("x-relay-error");if(v&&"true"===v)throw new Mt(g);if(!g.ok)throw new Ft(g);let y,b=(null!==(r=g.headers.get("Content-Type"))&&void 0!==r?r:"text/plain").split(";")[0].trim();return y="application/json"===b?yield g.json():"application/octet-stream"===b||"application/pdf"===b?yield g.blob():"text/event-stream"===b?g:"multipart/form-data"===b?yield g.formData():yield g.text(),{data:y,error:null,response:g}}catch(i){return{data:null,error:i,response:i instanceof Ft||i instanceof Mt?i.context:void 0}}finally{a&&clearTimeout(a)}}()})}}var Wt=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},Ht=class{constructor(e){var t,n,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=null!==(t=e.shouldThrowOnError)&&void 0!==t&&t,this.signal=e.signal,this.isMaybeSingle=null!==(n=e.isMaybeSingle)&&void 0!==n&&n,this.urlLengthLimit=null!==(r=e.urlLengthLimit)&&void 0!==r?r:8e3,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),"GET"!==this.method&&"HEAD"!==this.method&&this.headers.set("Content-Type","application/json");let r=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async e=>{let t=null,r=null,a=null,s=e.status,i=e.statusText;if(e.ok){var o,l;if("HEAD"!==n.method){var c;const t=await e.text();""===t||(r="text/csv"===n.headers.get("Accept")||n.headers.get("Accept")&&(null===(c=n.headers.get("Accept"))||void 0===c?void 0:c.includes("application/vnd.pgrst.plan+text"))?t:JSON.parse(t))}const u=null===(o=n.headers.get("Prefer"))||void 0===o?void 0:o.match(/count=(exact|planned|estimated)/),d=null===(l=e.headers.get("content-range"))||void 0===l?void 0:l.split("/");u&&d&&d.length>1&&(a=parseInt(d[1])),n.isMaybeSingle&&"GET"===n.method&&Array.isArray(r)&&(r.length>1?(t={code:"PGRST116",details:"Results contain ".concat(r.length," rows, application/vnd.pgrst.object+json requires 1 row"),hint:null,message:"JSON object requested, multiple (or no) rows returned"},r=null,a=null,s=406,i="Not Acceptable"):r=1===r.length?r[0]:null)}else{var u;const a=await e.text();try{t=JSON.parse(a),Array.isArray(t)&&404===e.status&&(r=[],t=null,s=200,i="OK")}catch(d){404===e.status&&""===a?(s=204,i="No Content"):t={message:a}}if(t&&n.isMaybeSingle&&(null===t||void 0===t||null===(u=t.details)||void 0===u?void 0:u.includes("0 rows"))&&(t=null,s=200,i="OK"),t&&n.shouldThrowOnError)throw new Wt(t)}return{error:t,data:r,count:a,status:s,statusText:i}});return this.shouldThrowOnError||(r=r.catch(e=>{var t;let n="",r="",a="";const s=null===e||void 0===e?void 0:e.cause;if(s){var i,o,l,c;const t=null!==(i=null===s||void 0===s?void 0:s.message)&&void 0!==i?i:"",r=null!==(o=null===s||void 0===s?void 0:s.code)&&void 0!==o?o:"";n="".concat(null!==(l=null===e||void 0===e?void 0:e.name)&&void 0!==l?l:"FetchError",": ").concat(null===e||void 0===e?void 0:e.message),n+="\n\nCaused by: ".concat(null!==(c=null===s||void 0===s?void 0:s.name)&&void 0!==c?c:"Error",": ").concat(t),r&&(n+=" (".concat(r,")")),(null===s||void 0===s?void 0:s.stack)&&(n+="\n".concat(s.stack))}else{var u;n=null!==(u=null===e||void 0===e?void 0:e.stack)&&void 0!==u?u:""}const d=this.url.toString().length;return"AbortError"===(null===e||void 0===e?void 0:e.name)||"ABORT_ERR"===(null===e||void 0===e?void 0:e.code)?(a="",r="Request was aborted (timeout or manual cancellation)",d>this.urlLengthLimit&&(r+=". Note: Your request URL is ".concat(d," characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side."))):"HeadersOverflowError"!==(null===s||void 0===s?void 0:s.name)&&"UND_ERR_HEADERS_OVERFLOW"!==(null===s||void 0===s?void 0:s.code)||(a="",r="HTTP headers exceeded server limits (typically 16KB)",d>this.urlLengthLimit&&(r+=". Your request URL is ".concat(d," characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead."))),{error:{message:"".concat(null!==(t=null===e||void 0===e?void 0:e.name)&&void 0!==t?t:"FetchError",": ").concat(null===e||void 0===e?void 0:e.message),details:n,hint:r,code:a},data:null,count:null,status:0,statusText:""}})),r.then(e,t)}returns(){return this}overrideTypes(){return this}},Vt=class extends Ht{select(e){let t=!1;const n=(null!==e&&void 0!==e?e:"*").split("").map(e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e){let{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:a=r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=a?"".concat(a,".order"):"order",i=this.url.searchParams.get(s);return this.url.searchParams.set(s,"".concat(i?"".concat(i,","):"").concat(e,".").concat(t?"asc":"desc").concat(void 0===n?"":n?".nullsfirst":".nullslast")),this}limit(e){let{foreignTable:t,referencedTable:n=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r="undefined"===typeof n?"limit":"".concat(n,".limit");return this.url.searchParams.set(r,"".concat(e)),this}range(e,t){let{foreignTable:n,referencedTable:r=n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a="undefined"===typeof r?"offset":"".concat(r,".offset"),s="undefined"===typeof r?"limit":"".concat(r,".limit");return this.url.searchParams.set(a,"".concat(e)),this.url.searchParams.set(s,"".concat(t-e+1)),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return"GET"===this.method?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain(){let{analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:a=!1,format:s="text"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var i;const o=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,a?"wal":null].filter(Boolean).join("|"),l=null!==(i=this.headers.get("Accept"))&&void 0!==i?i:"application/json";return this.headers.set("Accept","application/vnd.pgrst.plan+".concat(s,'; for="').concat(l,'"; options=').concat(o,";")),this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer","max-affected=".concat(e)),this}};const Gt=new RegExp("[,()]");var Kt=class extends Vt{eq(e,t){return this.url.searchParams.append(e,"eq.".concat(t)),this}neq(e,t){return this.url.searchParams.append(e,"neq.".concat(t)),this}gt(e,t){return this.url.searchParams.append(e,"gt.".concat(t)),this}gte(e,t){return this.url.searchParams.append(e,"gte.".concat(t)),this}lt(e,t){return this.url.searchParams.append(e,"lt.".concat(t)),this}lte(e,t){return this.url.searchParams.append(e,"lte.".concat(t)),this}like(e,t){return this.url.searchParams.append(e,"like.".concat(t)),this}likeAllOf(e,t){return this.url.searchParams.append(e,"like(all).{".concat(t.join(","),"}")),this}likeAnyOf(e,t){return this.url.searchParams.append(e,"like(any).{".concat(t.join(","),"}")),this}ilike(e,t){return this.url.searchParams.append(e,"ilike.".concat(t)),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,"ilike(all).{".concat(t.join(","),"}")),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,"ilike(any).{".concat(t.join(","),"}")),this}regexMatch(e,t){return this.url.searchParams.append(e,"match.".concat(t)),this}regexIMatch(e,t){return this.url.searchParams.append(e,"imatch.".concat(t)),this}is(e,t){return this.url.searchParams.append(e,"is.".concat(t)),this}isDistinct(e,t){return this.url.searchParams.append(e,"isdistinct.".concat(t)),this}in(e,t){const n=Array.from(new Set(t)).map(e=>"string"===typeof e&&Gt.test(e)?'"'.concat(e,'"'):"".concat(e)).join(",");return this.url.searchParams.append(e,"in.(".concat(n,")")),this}notIn(e,t){const n=Array.from(new Set(t)).map(e=>"string"===typeof e&&Gt.test(e)?'"'.concat(e,'"'):"".concat(e)).join(",");return this.url.searchParams.append(e,"not.in.(".concat(n,")")),this}contains(e,t){return"string"===typeof t?this.url.searchParams.append(e,"cs.".concat(t)):Array.isArray(t)?this.url.searchParams.append(e,"cs.{".concat(t.join(","),"}")):this.url.searchParams.append(e,"cs.".concat(JSON.stringify(t))),this}containedBy(e,t){return"string"===typeof t?this.url.searchParams.append(e,"cd.".concat(t)):Array.isArray(t)?this.url.searchParams.append(e,"cd.{".concat(t.join(","),"}")):this.url.searchParams.append(e,"cd.".concat(JSON.stringify(t))),this}rangeGt(e,t){return this.url.searchParams.append(e,"sr.".concat(t)),this}rangeGte(e,t){return this.url.searchParams.append(e,"nxl.".concat(t)),this}rangeLt(e,t){return this.url.searchParams.append(e,"sl.".concat(t)),this}rangeLte(e,t){return this.url.searchParams.append(e,"nxr.".concat(t)),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,"adj.".concat(t)),this}overlaps(e,t){return"string"===typeof t?this.url.searchParams.append(e,"ov.".concat(t)):this.url.searchParams.append(e,"ov.{".concat(t.join(","),"}")),this}textSearch(e,t){let{config:n,type:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a="";"plain"===r?a="pl":"phrase"===r?a="ph":"websearch"===r&&(a="w");const s=void 0===n?"":"(".concat(n,")");return this.url.searchParams.append(e,"".concat(a,"fts").concat(s,".").concat(t)),this}match(e){return Object.entries(e).forEach(e=>{let[t,n]=e;this.url.searchParams.append(t,"eq.".concat(n))}),this}not(e,t,n){return this.url.searchParams.append(e,"not.".concat(t,".").concat(n)),this}or(e){let{foreignTable:t,referencedTable:n=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=n?"".concat(n,".or"):"or";return this.url.searchParams.append(r,"(".concat(e,")")),this}filter(e,t,n){return this.url.searchParams.append(e,"".concat(t,".").concat(n)),this}},Jt=class{constructor(e,t){let{headers:n={},schema:r,fetch:a,urlLengthLimit:s=8e3}=t;this.url=e,this.headers=new Headers(n),this.schema=r,this.fetch=a,this.urlLengthLimit=s}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:n=!1,count:r}=null!==t&&void 0!==t?t:{},a=n?"HEAD":"GET";let s=!1;const i=(null!==e&&void 0!==e?e:"*").split("").map(e=>/\s/.test(e)&&!s?"":('"'===e&&(s=!s),e)).join(""),{url:o,headers:l}=this.cloneRequestState();return o.searchParams.set("select",i),r&&l.append("Prefer","count=".concat(r)),new Kt({method:a,url:o,headers:l,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(e){let{count:t,defaultToNull:n=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var r;const{url:a,headers:s}=this.cloneRequestState();if(t&&s.append("Prefer","count=".concat(t)),n||s.append("Prefer","missing=default"),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>'"'.concat(e,'"'));a.searchParams.set("columns",e.join(","))}}return new Kt({method:"POST",url:a,headers:s,schema:this.schema,body:e,fetch:null!==(r=this.fetch)&&void 0!==r?r:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(e){let{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:a=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var s;const{url:i,headers:o}=this.cloneRequestState();if(o.append("Prefer","resolution=".concat(n?"ignore":"merge","-duplicates")),void 0!==t&&i.searchParams.set("on_conflict",t),r&&o.append("Prefer","count=".concat(r)),a||o.append("Prefer","missing=default"),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>'"'.concat(e,'"'));i.searchParams.set("columns",e.join(","))}}return new Kt({method:"POST",url:i,headers:o,schema:this.schema,body:e,fetch:null!==(s=this.fetch)&&void 0!==s?s:fetch,urlLengthLimit:this.urlLengthLimit})}update(e){let{count:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n;const{url:r,headers:a}=this.cloneRequestState();return t&&a.append("Prefer","count=".concat(t)),new Kt({method:"PATCH",url:r,headers:a,schema:this.schema,body:e,fetch:null!==(n=this.fetch)&&void 0!==n?n:fetch,urlLengthLimit:this.urlLengthLimit})}delete(){let{count:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t;const{url:n,headers:r}=this.cloneRequestState();return e&&r.append("Prefer","count=".concat(e)),new Kt({method:"DELETE",url:n,headers:r,schema:this.schema,fetch:null!==(t=this.fetch)&&void 0!==t?t:fetch,urlLengthLimit:this.urlLengthLimit})}};function $t(e){return($t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qt(e){var t=function(e,t){if("object"!=$t(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=$t(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==$t(t)?t:t+""}function Yt(e,t,n){return(t=Qt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Zt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xt(Object(n),!0).forEach(function(t){Yt(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var en=class e{constructor(e){let{headers:t={},schema:n,fetch:r,timeout:a,urlLengthLimit:s=8e3}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=new Headers(t),this.schemaName=n,this.urlLengthLimit=s;const i=null!==r&&void 0!==r?r:globalThis.fetch;this.fetch=void 0!==a&&a>0?(e,t)=>{const n=new AbortController,r=setTimeout(()=>n.abort(),a),s=null===t||void 0===t?void 0:t.signal;if(s){if(s.aborted)return clearTimeout(r),i(e,t);const a=()=>{clearTimeout(r),n.abort()};return s.addEventListener("abort",a,{once:!0}),i(e,Zt(Zt({},t),{},{signal:n.signal})).finally(()=>{clearTimeout(r),s.removeEventListener("abort",a)})}return i(e,Zt(Zt({},t),{},{signal:n.signal})).finally(()=>clearTimeout(r))}:i}from(e){if(!e||"string"!==typeof e||""===e.trim())throw new Error("Invalid relation name: relation must be a non-empty string.");return new Jt(new URL("".concat(this.url,"/").concat(e)),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new e(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{head:n=!1,get:r=!1,count:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var s;let i;const o=new URL("".concat(this.url,"/rpc/").concat(e));let l;const c=e=>null!==e&&"object"===typeof e&&(!Array.isArray(e)||e.some(c)),u=n&&Object.values(t).some(c);u?(i="POST",l=t):n||r?(i=n?"HEAD":"GET",Object.entries(t).filter(e=>{let[t,n]=e;return void 0!==n}).map(e=>{let[t,n]=e;return[t,Array.isArray(n)?"{".concat(n.join(","),"}"):"".concat(n)]}).forEach(e=>{let[t,n]=e;o.searchParams.append(t,n)})):(i="POST",l=t);const d=new Headers(this.headers);return u?d.set("Prefer",a?"count=".concat(a,",return=minimal"):"return=minimal"):a&&d.set("Prefer","count=".concat(a)),new Kt({method:i,url:o,headers:d,schema:this.schemaName,body:l,fetch:null!==(s=this.fetch)&&void 0!==s?s:fetch,urlLengthLimit:this.urlLengthLimit})}};const tn=class{constructor(){}static detectEnvironment(){var e;if("undefined"!==typeof WebSocket)return{type:"native",constructor:WebSocket};if("undefined"!==typeof globalThis&&"undefined"!==typeof globalThis.WebSocket)return{type:"native",constructor:globalThis.WebSocket};if("undefined"!==typeof n.g&&"undefined"!==typeof n.g.WebSocket)return{type:"native",constructor:n.g.WebSocket};if("undefined"!==typeof globalThis&&"undefined"!==typeof globalThis.WebSocketPair&&"undefined"===typeof globalThis.WebSocket)return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if("undefined"!==typeof globalThis&&globalThis.EdgeRuntime||"undefined"!==typeof navigator&&(null===(e=navigator.userAgent)||void 0===e?void 0:e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const t=globalThis.process;if(t){const e=t.versions;if(e&&e.node){const t=e.node,n=parseInt(t.replace(/^v/,"").split(".")[0]);return n>=22?"undefined"!==typeof globalThis.WebSocket?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:"Node.js ".concat(n," detected but native WebSocket not found."),workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:"Node.js ".concat(n," detected without native WebSocket support."),workaround:'For Node.js < 22, install "ws" package and provide it via the transport option:\nimport ws from "ws"\nnew RealtimeClient(url, { transport: ws })'}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+="\n\nSuggested solution: ".concat(e.workaround)),new Error(t)}static createWebSocket(e,t){return new(this.getWebSocketConstructor())(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return"native"===e.type||"ws"===e.type}catch(e){return!1}}};const nn="realtime-js/".concat("2.97.0"),rn="2.0.0",an=rn,sn=1e4;var on,ln,cn,un,dn,hn;!function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"}(on||(on={})),function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"}(ln||(ln={})),function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"}(cn||(cn={})),function(e){e.websocket="websocket"}(un||(un={})),function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"}(dn||(dn={}));class pn{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=null!==e&&void 0!==e?e:[]}encode(e,t){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&"string"===typeof e.payload.event)return t(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return t(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var t;return this._isArrayBuffer(null===(t=e.payload)||void 0===t?void 0:t.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var t,n;const r=null!==(n=null===(t=e.payload)||void 0===t?void 0:t.payload)&&void 0!==n?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,r)}_encodeJsonUserBroadcastPush(e){var t,n;const r=null!==(n=null===(t=e.payload)||void 0===t?void 0:t.payload)&&void 0!==n?n:{},a=(new TextEncoder).encode(JSON.stringify(r)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(e,t,n){var r,a;const s=e.topic,i=null!==(r=e.ref)&&void 0!==r?r:"",o=null!==(a=e.join_ref)&&void 0!==a?a:"",l=e.payload.event,c=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},u=0===Object.keys(c).length?"":JSON.stringify(c);if(o.length>255)throw new Error("joinRef length ".concat(o.length," exceeds maximum of 255"));if(i.length>255)throw new Error("ref length ".concat(i.length," exceeds maximum of 255"));if(s.length>255)throw new Error("topic length ".concat(s.length," exceeds maximum of 255"));if(l.length>255)throw new Error("userEvent length ".concat(l.length," exceeds maximum of 255"));if(u.length>255)throw new Error("metadata length ".concat(u.length," exceeds maximum of 255"));const d=this.USER_BROADCAST_PUSH_META_LENGTH+o.length+i.length+s.length+l.length+u.length,h=new ArrayBuffer(this.HEADER_LENGTH+d);let p=new DataView(h),f=0;p.setUint8(f++,this.KINDS.userBroadcastPush),p.setUint8(f++,o.length),p.setUint8(f++,i.length),p.setUint8(f++,s.length),p.setUint8(f++,l.length),p.setUint8(f++,u.length),p.setUint8(f++,t),Array.from(o,e=>p.setUint8(f++,e.charCodeAt(0))),Array.from(i,e=>p.setUint8(f++,e.charCodeAt(0))),Array.from(s,e=>p.setUint8(f++,e.charCodeAt(0))),Array.from(l,e=>p.setUint8(f++,e.charCodeAt(0))),Array.from(u,e=>p.setUint8(f++,e.charCodeAt(0)));var m=new Uint8Array(h.byteLength+n.byteLength);return m.set(new Uint8Array(h),0),m.set(new Uint8Array(n),h.byteLength),m.buffer}decode(e,t){if(this._isArrayBuffer(e)){return t(this._binaryDecode(e))}if("string"===typeof e){const n=JSON.parse(e),[r,a,s,i,o]=n;return t({join_ref:r,ref:a,topic:s,event:i,payload:o})}return t({})}_binaryDecode(e){const t=new DataView(e),n=t.getUint8(0),r=new TextDecoder;if(n===this.KINDS.userBroadcast)return this._decodeUserBroadcast(e,t,r)}_decodeUserBroadcast(e,t,n){const r=t.getUint8(1),a=t.getUint8(2),s=t.getUint8(3),i=t.getUint8(4);let o=this.HEADER_LENGTH+4;const l=n.decode(e.slice(o,o+r));o+=r;const c=n.decode(e.slice(o,o+a));o+=a;const u=n.decode(e.slice(o,o+s));o+=s;const d=e.slice(o,e.byteLength),h=i===this.JSON_ENCODING?JSON.parse(n.decode(d)):d,p={type:this.BROADCAST_EVENT,event:c,payload:h};return s>0&&(p.meta=JSON.parse(u)),{join_ref:null,ref:null,topic:l,event:this.BROADCAST_EVENT,payload:p}}_isArrayBuffer(e){var t;return e instanceof ArrayBuffer||"ArrayBuffer"===(null===(t=null===e||void 0===e?void 0:e.constructor)||void 0===t?void 0:t.name)}_pick(e,t){return e&&"object"===typeof e?Object.fromEntries(Object.entries(e).filter(e=>{let[n]=e;return t.includes(n)})):{}}}class fn{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}!function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"}(hn||(hn={}));const mn=function(e,t){var n;const r=null!==(n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipTypes)&&void 0!==n?n:[];return t?Object.keys(t).reduce((n,a)=>(n[a]=gn(a,e,t,r),n),{}):{}},gn=(e,t,n,r)=>{const a=t.find(t=>t.name===e),s=null===a||void 0===a?void 0:a.type,i=n[e];return s&&!r.includes(s)?vn(s,i):yn(i)},vn=(e,t)=>{if("_"===e.charAt(0)){const n=e.slice(1,e.length);return xn(t,n)}switch(e){case hn.bool:return bn(t);case hn.float4:case hn.float8:case hn.int2:case hn.int4:case hn.int8:case hn.numeric:case hn.oid:return wn(t);case hn.json:case hn.jsonb:return Sn(t);case hn.timestamp:return kn(t);case hn.abstime:case hn.date:case hn.daterange:case hn.int4range:case hn.int8range:case hn.money:case hn.reltime:case hn.text:case hn.time:case hn.timestamptz:case hn.timetz:case hn.tsrange:case hn.tstzrange:default:return yn(t)}},yn=e=>e,bn=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},wn=e=>{if("string"===typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Sn=e=>{if("string"===typeof e)try{return JSON.parse(e)}catch(t){return e}return e},xn=(e,t)=>{if("string"!==typeof e)return e;const n=e.length-1,r=e[n];if("{"===e[0]&&"}"===r){let r;const s=e.slice(1,n);try{r=JSON.parse("["+s+"]")}catch(a){r=s?s.split(","):[]}return r.map(e=>vn(t,e))}return e},kn=e=>"string"===typeof e?e.replace(" ","T"):e,_n=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),""===t.pathname||"/"===t.pathname?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class jn{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:sn;this.channel=e,this.event=t,this.payload=n,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var n;return this._hasReceived(e)&&t(null===(n=this.receivedResp)||void 0===n?void 0:n.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);this.channel._on(this.refEvent,{},e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive(e){let{status:t,response:n}=e;this.recHooks.filter(e=>e.status===t).forEach(e=>e.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Nn,En,Rn,Cn;!function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"}(Nn||(Nn={}));class Tn{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(null===t||void 0===t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},e=>{const{onJoin:t,onLeave:n,onSync:r}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Tn.syncState(this.state,e,t,n),this.pendingDiffs.forEach(e=>{this.state=Tn.syncDiff(this.state,e,t,n)}),this.pendingDiffs=[],r()}),this.channel._on(n.diff,{},e=>{const{onJoin:t,onLeave:n,onSync:r}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=Tn.syncDiff(this.state,e,t,n),r())}),this.onJoin((e,t,n)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:n})}),this.onLeave((e,t,n)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:n})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,n,r){const a=this.cloneDeep(e),s=this.transformState(t),i={},o={};return this.map(a,(e,t)=>{s[e]||(o[e]=t)}),this.map(s,(e,t)=>{const n=a[e];if(n){const r=t.map(e=>e.presence_ref),a=n.map(e=>e.presence_ref),s=t.filter(e=>a.indexOf(e.presence_ref)<0),l=n.filter(e=>r.indexOf(e.presence_ref)<0);s.length>0&&(i[e]=s),l.length>0&&(o[e]=l)}else i[e]=t}),this.syncDiff(a,{joins:i,leaves:o},n,r)}static syncDiff(e,t,n,r){const{joins:a,leaves:s}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return n||(n=()=>{}),r||(r=()=>{}),this.map(a,(t,r)=>{var a;const s=null!==(a=e[t])&&void 0!==a?a:[];if(e[t]=this.cloneDeep(r),s.length>0){const n=e[t].map(e=>e.presence_ref),r=s.filter(e=>n.indexOf(e.presence_ref)<0);e[t].unshift(...r)}n(t,s,r)}),this.map(s,(t,n)=>{let a=e[t];if(!a)return;const s=n.map(e=>e.presence_ref);a=a.filter(e=>s.indexOf(e.presence_ref)<0),e[t]=a,r(t,a,n),0===a.length&&delete e[t]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(n=>t(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,n)=>{const r=e[n];return t[n]="metas"in r?r.metas.map(e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e)):r,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}!function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"}(En||(En={})),function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"}(Rn||(Rn={})),function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"}(Cn||(Cn={}));class In{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}},n=arguments.length>2?arguments[2]:void 0;var r,a;if(this.topic=e,this.params=t,this.socket=n,this.bindings={},this.state=ln.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new jn(this,cn.join,this.params,this.timeout),this.rejoinTimer=new fn(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ln.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(e=>e.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel","close ".concat(this.topic," ").concat(this._joinRef())),this.state=ln.closed,this.socket._remove(this)}),this._onError(e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel","error ".concat(this.topic),e),this.state=ln.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel","timeout ".concat(this.topic),this.joinPush.timeout),this.state=ln.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel","error ".concat(this.topic),e),this.state=ln.errored,this.rejoinTimer.scheduleTimeout())}),this._on(cn.reply,{},(e,t)=>{this._trigger(this._replyEventName(t),e)}),this.presence=new Tn(this),this.broadcastEndpointURL=_n(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(null===(a=null===(r=this.params.config)||void 0===r?void 0:r.broadcast)||void 0===a?void 0:a.replay))throw"tried to use replay on public channel '".concat(this.topic,"'. It must be a private channel.")}subscribe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.timeout;var n,r,a;if(this.socket.isConnected()||this.socket.connect(),this.state==ln.closed){const{config:{broadcast:s,presence:i,private:o}}=this.params,l=null!==(r=null===(n=this.bindings.postgres_changes)||void 0===n?void 0:n.map(e=>e.filter))&&void 0!==r?r:[],c=!!this.bindings[Rn.PRESENCE]&&this.bindings[Rn.PRESENCE].length>0||!0===(null===(a=this.params.config.presence)||void 0===a?void 0:a.enabled),u={},d={broadcast:s,presence:Object.assign(Object.assign({},i),{enabled:c}),postgres_changes:l,private:o};this.socket.accessTokenValue&&(u.access_token=this.socket.accessTokenValue),this._onError(t=>null===e||void 0===e?void 0:e(Cn.CHANNEL_ERROR,t)),this._onClose(()=>null===e||void 0===e?void 0:e(Cn.CLOSED)),this.updateJoinPayload(Object.assign({config:d},u)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async t=>{let{postgres_changes:n}=t;var r;if(this.socket._isManualToken()||this.socket.setAuth(),void 0!==n){const t=this.bindings.postgres_changes,a=null!==(r=null===t||void 0===t?void 0:t.length)&&void 0!==r?r:0,s=[];for(let r=0;r<a;r++){const a=t[r],{filter:{event:i,schema:o,table:l,filter:c}}=a,u=n&&n[r];if(!(u&&u.event===i&&In.isFilterValueEqual(u.schema,o)&&In.isFilterValueEqual(u.table,l)&&In.isFilterValueEqual(u.filter,c)))return this.unsubscribe(),this.state=ln.errored,void(null===e||void 0===e||e(Cn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes")));s.push(Object.assign(Object.assign({},a),{id:u.id}))}return this.bindings.postgres_changes=s,void(e&&e(Cn.SUBSCRIBED))}null===e||void 0===e||e(Cn.SUBSCRIBED)}).receive("error",t=>{this.state=ln.errored,null===e||void 0===e||e(Cn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(t).join(", ")||"error")))}).receive("timeout",()=>{null===e||void 0===e||e(Cn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return await this.send({type:"presence",event:"untrack"},e)}on(e,t,n){return this.state===ln.joined&&e===Rn.PRESENCE&&(this.socket.log("channel","resubscribe to ".concat(this.topic," due to change in presence callbacks on joined channel")),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,t,n)}async httpSend(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var r;if(void 0===t||null===t)return Promise.reject("Payload is required for httpSend()");const a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization="Bearer ".concat(this.socket.accessTokenValue));const s={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:t,private:this.private}]})},i=await this._fetchWithTimeout(this.broadcastEndpointURL,s,null!==(r=n.timeout)&&void 0!==r?r:this.timeout);if(202===i.status)return{success:!0};let o=i.statusText;try{const e=await i.json();o=e.error||e.message||o}catch(l){}return Promise.reject(new Error(o))}async send(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n,r;if(this._canPush()||"broadcast"!==e.type)return new Promise(n=>{var r,a,s;const i=this._push(e.type,e,t.timeout||this.timeout);"broadcast"!==e.type||(null===(s=null===(a=null===(r=this.params)||void 0===r?void 0:r.config)||void 0===a?void 0:a.broadcast)||void 0===s?void 0:s.ack)||n("ok"),i.receive("ok",()=>n("ok")),i.receive("error",()=>n("error")),i.receive("timeout",()=>n("timed out"))});{console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:i}=e,o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization="Bearer ".concat(this.socket.accessTokenValue));const l={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:i,private:this.private}]})};try{const e=await this._fetchWithTimeout(this.broadcastEndpointURL,l,null!==(n=t.timeout)&&void 0!==n?n:this.timeout);return await(null===(r=e.body)||void 0===r?void 0:r.cancel()),e.ok?"ok":"error"}catch(a){return"AbortError"===a.name?"timed out":"error"}}}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this.state=ln.leaving;const t=()=>{this.socket.log("channel","leave ".concat(this.topic)),this._trigger(cn.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(r=>{n=new jn(this,cn.leave,{},e),n.receive("ok",()=>{t(),r("ok")}).receive("timeout",()=>{t(),r("timed out")}).receive("error",()=>{r("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{null===n||void 0===n||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ln.closed,this.bindings={}}async _fetchWithTimeout(e,t,n){const r=new AbortController,a=setTimeout(()=>r.abort(),n),s=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:r.signal}));return clearTimeout(a),s}_push(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.timeout;if(!this.joinedOnce)throw"tried to push '".concat(e,"' to '").concat(this.topic,"' before joining. Use channel.subscribe() before pushing events");let r=new jn(this,e,t,n);return this._canPush()?r.send():this._addToPushBuffer(r),r}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>100){const e=this.pushBuffer.shift();e&&(e.destroy(),this.socket.log("channel","discarded push due to buffer overflow: ".concat(e.event),e.payload))}}_onMessage(e,t,n){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,n){var r,a;const s=e.toLocaleLowerCase(),{close:i,error:o,leave:l,join:c}=cn;if(n&&[i,o,l,c].indexOf(s)>=0&&n!==this._joinRef())return;let u=this._onMessage(s,t,n);if(t&&!u)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?null===(r=this.bindings.postgres_changes)||void 0===r||r.filter(e=>{var t,n,r;return"*"===(null===(t=e.filter)||void 0===t?void 0:t.event)||(null===(r=null===(n=e.filter)||void 0===n?void 0:n.event)||void 0===r?void 0:r.toLocaleLowerCase())===s}).map(e=>e.callback(u,n)):null===(a=this.bindings[s])||void 0===a||a.filter(e=>{var n,r,a,i,o,l;if(["broadcast","presence","postgres_changes"].includes(s)){if("id"in e){const s=e.id,i=null===(n=e.filter)||void 0===n?void 0:n.event;return s&&(null===(r=t.ids)||void 0===r?void 0:r.includes(s))&&("*"===i||(null===i||void 0===i?void 0:i.toLocaleLowerCase())===(null===(a=t.data)||void 0===a?void 0:a.type.toLocaleLowerCase()))}{const n=null===(o=null===(i=null===e||void 0===e?void 0:e.filter)||void 0===i?void 0:i.event)||void 0===o?void 0:o.toLocaleLowerCase();return"*"===n||n===(null===(l=null===t||void 0===t?void 0:t.event)||void 0===l?void 0:l.toLocaleLowerCase())}}return e.type.toLocaleLowerCase()===s}).map(e=>{if("object"===typeof u&&"ids"in u){const e=u.data,{schema:t,table:n,commit_timestamp:r,type:a,errors:s}=e,i={schema:t,table:n,commit_timestamp:r,eventType:a,new:{},old:{},errors:s};u=Object.assign(Object.assign({},i),this._getPayloadRecords(e))}e.callback(u,n)})}_isClosed(){return this.state===ln.closed}_isJoined(){return this.state===ln.joined}_isJoining(){return this.state===ln.joining}_isLeaving(){return this.state===ln.leaving}_replyEventName(e){return"chan_reply_".concat(e)}_on(e,t,n){const r=e.toLocaleLowerCase(),a={type:r,filter:t,callback:n};return this.bindings[r]?this.bindings[r].push(a):this.bindings[r]=[a],this}_off(e,t){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(e=>{var r;return!((null===(r=e.type)||void 0===r?void 0:r.toLocaleLowerCase())===n&&In.isEqual(e.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}static isFilterValueEqual(e,t){return(null!==e&&void 0!==e?e:void 0)===(null!==t&&void 0!==t?t:void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(cn.close,{},e)}_onError(e){this._on(cn.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ln.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return"INSERT"!==e.type&&"UPDATE"!==e.type||(t.new=mn(e.columns,e.record)),"UPDATE"!==e.type&&"DELETE"!==e.type||(t.old=mn(e.columns,e.old_record)),t}}const On=()=>{},Pn=25e3,An=10,Ln=100,Dn=[1e3,2e3,5e3,1e4];class zn{constructor(e,t){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=sn,this.transport=null,this.heartbeatIntervalMs=Pn,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=On,this.ref=0,this.reconnectTimer=null,this.vsn=an,this.logger=On,this.conn=null,this.sendBuffer=[],this.serializer=new pn,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=e=>e?function(){return e(...arguments)}:function(){return fetch(...arguments)},!(null===(n=null===t||void 0===t?void 0:t.params)||void 0===n?void 0:n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint="".concat(e,"/").concat(un.websocket),this.httpEndpoint=_n(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(null===t||void 0===t?void 0:t.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||null!==this.conn&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=tn.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;if(t.includes("Node.js"))throw new Error("".concat(t,"\n\n")+'To use Realtime in Node.js, you need to provide a WebSocket implementation:\n\nOption 1: Use Node.js 22+ which has native WebSocket support\nOption 2: Install and provide the "ws" package:\n\n  npm install ws\n\n  import ws from "ws"\n  const client = new RealtimeClient(url, {\n    ...options,\n    transport: ws\n  })');throw new Error("WebSocket not available: ".concat(t))}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},"function"===typeof this.conn.close&&(e?this.conn.close(e,null!==t&&void 0!==t?t:""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return 0===this.channels.length&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(e=>e.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,n){this.logger(e,t,n)}connectionState(){switch(this.conn&&this.conn.readyState){case on.connecting:return dn.Connecting;case on.open:return dn.Open;case on.closing:return dn.Closing;default:return dn.Closed}}isConnected(){return this.connectionState()===dn.Open}isConnecting(){return"connecting"===this._connectionState}isDisconnecting(){return"disconnecting"===this._connectionState}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};const n="realtime:".concat(e),r=this.getChannels().find(e=>e.topic===n);if(r)return r;{const n=new In("realtime:".concat(e),t,this);return this.channels.push(n),n}}push(e){const{topic:t,event:n,payload:r,ref:a}=e,s=()=>{this.encode(e,e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)})};this.log("push","".concat(t," ").concat(n," (").concat(a,")"),r),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(hl){this.log("error","error in heartbeat callback",hl)}return this._wasManualDisconnect=!1,null===(e=this.conn)||void 0===e||e.close(1e3,"heartbeat timeout"),void setTimeout(()=>{var e;this.isConnected()||null===(e=this.reconnectTimer)||void 0===e||e.scheduleTimeout()},Ln)}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(hl){this.log("error","error in heartbeat callback",hl)}this._setAuthSafely("heartbeat")}else try{this.heartbeatCallback("disconnected")}catch(hl){this.log("error","error in heartbeat callback",hl)}}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(t=>t.topic===e&&(t._isJoined()||t._isJoining()));t&&(this.log("transport",'leaving duplicate topic "'.concat(e,'"')),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,e=>{if("phoenix"===e.topic&&"phx_reply"===e.event&&e.ref&&e.ref===this.pendingHeartbeatRef){const t=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback("ok"===e.payload.status?"ok":"error",t)}catch(hl){this.log("error","error in heartbeat callback",hl)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:t,event:n,payload:r,ref:a}=e,s=a?"(".concat(a,")"):"",i=r.status||"";this.log("receive","".concat(i," ").concat(t," ").concat(n," ").concat(s).trim(),r),this.channels.filter(e=>e._isMember(t)).forEach(e=>e._trigger(n,r,a)),this._triggerStateCallbacks("message",e)})}_clearTimer(e){var t;"heartbeat"===e&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):"reconnect"===e&&(null===(t=this.reconnectTimer)||void 0===t||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===on.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===on.open||this.conn.readyState===on.connecting)try{this.conn.close()}catch(hl){this.log("error","Error closing connection",hl)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport","connected to ".concat(this.endpointURL()));(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(e=>{this.log("error","error waiting for auth on connect",e),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker","starting worker for from ".concat(this.workerUrl)):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this._terminateWorker()},this.workerRef.onmessage=e=>{"keepAlive"===e.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||null===(t=this.reconnectTimer)||void 0===t||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport","".concat(e)),this._triggerChanError(),this._triggerStateCallbacks("error",e);try{this.heartbeatCallback("error")}catch(hl){this.log("error","error in heartbeat callback",hl)}}_triggerChanError(){this.channels.forEach(e=>e._trigger(cn.error))}_appendParams(e,t){if(0===Object.keys(t).length)return e;const n=e.match(/\?/)?"&":"?",r=new URLSearchParams(t);return"".concat(e).concat(n).concat(r)}_workerObjectUrl(e){let t;if(e)t=e;else{const e=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});t=URL.createObjectURL(e)}return t}_setConnectionState(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._connectionState=e,"connecting"===e?this._wasManualDisconnect=!1:"disconnecting"===e&&(this._wasManualDisconnect=t)}async _performAuth(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=!1;if(t)e=t,n=!0;else if(this.accessToken)try{e=await this.accessToken()}catch(hl){this.log("error","Error fetching access token from callback",hl),e=this.accessTokenValue}else e=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=e&&(this.accessTokenValue=e,this.channels.forEach(t=>{const n={access_token:e,version:nn};e&&t.updateJoinPayload(n),t.joinedOnce&&t._isJoined()&&t._push(cn.access_token,{access_token:e})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"general";this._isManualToken()||this.setAuth().catch(t=>{this.log("error","Error setting auth in ".concat(e),t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(t)}catch(hl){this.log("error","error in ".concat(e," callback"),hl)}})}catch(hl){this.log("error","error triggering ".concat(e," callbacks"),hl)}}_setupReconnectionTimer(){this.reconnectTimer=new fn(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},An)},this.reconnectAfterMs)}_initializeOptions(e){var t,n,r,a,s,i,o,l,c,u,d,h;switch(this.transport=null!==(t=null===e||void 0===e?void 0:e.transport)&&void 0!==t?t:null,this.timeout=null!==(n=null===e||void 0===e?void 0:e.timeout)&&void 0!==n?n:sn,this.heartbeatIntervalMs=null!==(r=null===e||void 0===e?void 0:e.heartbeatIntervalMs)&&void 0!==r?r:Pn,this.worker=null!==(a=null===e||void 0===e?void 0:e.worker)&&void 0!==a&&a,this.accessToken=null!==(s=null===e||void 0===e?void 0:e.accessToken)&&void 0!==s?s:null,this.heartbeatCallback=null!==(i=null===e||void 0===e?void 0:e.heartbeatCallback)&&void 0!==i?i:On,this.vsn=null!==(o=null===e||void 0===e?void 0:e.vsn)&&void 0!==o?o:an,(null===e||void 0===e?void 0:e.params)&&(this.params=e.params),(null===e||void 0===e?void 0:e.logger)&&(this.logger=e.logger),((null===e||void 0===e?void 0:e.logLevel)||(null===e||void 0===e?void 0:e.log_level))&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=null!==(l=null===e||void 0===e?void 0:e.reconnectAfterMs)&&void 0!==l?l:e=>Dn[e-1]||1e4,this.vsn){case"1.0.0":this.encode=null!==(c=null===e||void 0===e?void 0:e.encode)&&void 0!==c?c:(e,t)=>t(JSON.stringify(e)),this.decode=null!==(u=null===e||void 0===e?void 0:e.decode)&&void 0!==u?u:(e,t)=>t(JSON.parse(e));break;case rn:this.encode=null!==(d=null===e||void 0===e?void 0:e.encode)&&void 0!==d?d:this.serializer.encode.bind(this.serializer),this.decode=null!==(h=null===e||void 0===e?void 0:e.decode)&&void 0!==h?h:this.serializer.decode.bind(this.serializer);break;default:throw new Error("Unsupported serializer version: ".concat(this.vsn))}if(this.worker){if("undefined"!==typeof window&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=null===e||void 0===e?void 0:e.workerUrl}}}var Un=class extends Error{constructor(e,t){var n;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown="CommitStateUnknownException"===t.icebergType||[500,502,504].includes(t.status)&&!0===(null===(n=t.icebergType)||void 0===n?void 0:n.includes("CommitState"))}isNotFound(){return 404===this.status}isConflict(){return 409===this.status}isAuthenticationTimeout(){return 419===this.status}};function Mn(e){var t;const n=null!==(t=e.fetchImpl)&&void 0!==t?t:globalThis.fetch;return{async request(t){let{method:r,path:a,query:s,body:i,headers:o}=t;const l=function(e,t,n){const r=new URL(t,e);if(n)for(const[a,s]of Object.entries(n))void 0!==s&&r.searchParams.set(a,s);return r.toString()}(e.baseUrl,a,s),c=await async function(e){return e&&"none"!==e.type?"bearer"===e.type?{Authorization:"Bearer ".concat(e.token)}:"header"===e.type?{[e.name]:e.value}:"custom"===e.type?await e.getHeaders():{}:{}}(e.auth),u=await n(l,{method:r,headers:d(d(d({},i?{"Content-Type":"application/json"}:{}),c),o),body:i?JSON.stringify(i):void 0}),h=await u.text(),p=(u.headers.get("content-type")||"").includes("application/json"),f=p&&h?JSON.parse(h):h;if(!u.ok){var m;const e=p?f:void 0,t=null===e||void 0===e?void 0:e.error;throw new Un(null!==(m=null===t||void 0===t?void 0:t.message)&&void 0!==m?m:"Request failed with status ".concat(u.status),{status:u.status,icebergType:null===t||void 0===t?void 0:t.type,icebergCode:null===t||void 0===t?void 0:t.code,details:e})}return{status:u.status,headers:u.headers,data:f}}}}function Fn(e){return e.join("\x1f")}var Bn=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Fn(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:"".concat(this.prefix,"/namespaces"),query:t})).data.namespaces.map(e=>({namespace:e}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:null===t||void 0===t?void 0:t.properties};return(await this.client.request({method:"POST",path:"".concat(this.prefix,"/namespaces"),body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:"".concat(this.prefix,"/namespaces/").concat(Fn(e.namespace))})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:"".concat(this.prefix,"/namespaces/").concat(Fn(e.namespace))})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:"".concat(this.prefix,"/namespaces/").concat(Fn(e.namespace))}),!0}catch(t){if(t instanceof Un&&404===t.status)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof Un&&409===n.status)return;throw n}}};function qn(e){return e.join("\x1f")}var Wn=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0;this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:"".concat(this.prefix,"/namespaces/").concat(qn(e.namespace),"/tables")})).data.identifiers}async createTable(e,t){const n={};this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation);return(await this.client.request({method:"POST",path:"".concat(this.prefix,"/namespaces/").concat(qn(e.namespace),"/tables"),body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:"".concat(this.prefix,"/namespaces/").concat(qn(e.namespace),"/tables/").concat(e.name),body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){var n;await this.client.request({method:"DELETE",path:"".concat(this.prefix,"/namespaces/").concat(qn(e.namespace),"/tables/").concat(e.name),query:{purgeRequested:String(null!==(n=null===t||void 0===t?void 0:t.purge)&&void 0!==n&&n)}})}async loadTable(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);return(await this.client.request({method:"GET",path:"".concat(this.prefix,"/namespaces/").concat(qn(e.namespace),"/tables/").concat(e.name),headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:"".concat(this.prefix,"/namespaces/").concat(qn(e.namespace),"/tables/").concat(e.name),headers:t}),!0}catch(n){if(n instanceof Un&&404===n.status)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof Un&&409===n.status)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},Hn=class{constructor(e){var t;let n="v1";e.catalogName&&(n+="/".concat(e.catalogName));const r=e.baseUrl.endsWith("/")?e.baseUrl:"".concat(e.baseUrl,"/");this.client=Mn({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=null===(t=e.accessDelegation)||void 0===t?void 0:t.join(","),this.namespaceOps=new Bn(this.client,n),this.tableOps=new Wn(this.client,n,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}};var Vn=class extends Error{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"storage",n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;super(e),this.__isStorageError=!0,this.namespace=t,this.name="vectors"===t?"StorageVectorsError":"StorageError",this.status=n,this.statusCode=r}};function Gn(e){return"object"===typeof e&&null!==e&&"__isStorageError"in e}var Kn=class extends Vn{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"storage";super(e,r,t,n),this.name="vectors"===r?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Jn=class extends Vn{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"storage";super(e,n),this.name="vectors"===n?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const $n=e=>{if(Array.isArray(e))return e.map(e=>$n(e));if("function"===typeof e||e!==Object(e))return e;const t={};return Object.entries(e).forEach(e=>{let[n,r]=e;const a=n.replace(/([-_][a-z])/gi,e=>e.toUpperCase().replace(/[-_]/g,""));t[a]=$n(r)}),t};function Qn(e){return(Qn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yn(e){var t=function(e,t){if("object"!=Qn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Qn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Qn(t)?t:t+""}function Xn(e,t,n){return(t=Yn(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function er(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zn(Object(n),!0).forEach(function(t){Xn(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zn(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const tr=e=>{var t;return e.msg||e.message||e.error_description||("string"===typeof e.error?e.error:null===(t=e.error)||void 0===t?void 0:t.message)||JSON.stringify(e)},nr=(e,t,n,r)=>{const a={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"!==e&&"HEAD"!==e&&r?((e=>{if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)})(r)?(a.headers=er({"Content-Type":"application/json"},null===t||void 0===t?void 0:t.headers),a.body=JSON.stringify(r)):a.body=r,(null===t||void 0===t?void 0:t.duplex)&&(a.duplex=t.duplex),er(er({},a),n)):er(er({},a),n)};async function rr(e,t,n,r,a,s,i){return new Promise((o,l)=>{e(n,nr(t,r,a,s)).then(e=>{if(!e.ok)throw e;if(null===r||void 0===r?void 0:r.noResolveJson)return e;if("vectors"===i){const t=e.headers.get("content-type");if("0"===e.headers.get("content-length")||204===e.status)return{};if(!t||!t.includes("application/json"))return{}}return e.json()}).then(e=>o(e)).catch(e=>(async(e,t,n,r)=>{if(e&&"object"===typeof e&&"status"in e&&"ok"in e&&"number"===typeof e.status&&!(null===n||void 0===n?void 0:n.noResolveJson)){const n=e,a=n.status||500;if("function"===typeof n.json)n.json().then(e=>{const n=(null===e||void 0===e?void 0:e.statusCode)||(null===e||void 0===e?void 0:e.code)||a+"";t(new Kn(tr(e),a,n,r))}).catch(()=>{if("vectors"===r){const e=a+"";t(new Kn(n.statusText||"HTTP ".concat(a," error"),a,e,r))}else{const e=a+"";t(new Kn(n.statusText||"HTTP ".concat(a," error"),a,e,r))}});else{const e=a+"";t(new Kn(n.statusText||"HTTP ".concat(a," error"),a,e,r))}}else t(new Jn(tr(e),e,r))})(e,l,r,i))})}function ar(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"storage";return{get:async(t,n,r,a)=>rr(t,"GET",n,r,a,void 0,e),post:async(t,n,r,a,s)=>rr(t,"POST",n,a,s,r,e),put:async(t,n,r,a,s)=>rr(t,"PUT",n,a,s,r,e),head:async(t,n,r,a)=>rr(t,"HEAD",n,er(er({},r),{},{noResolveJson:!0}),a,void 0,e),remove:async(t,n,r,a,s)=>rr(t,"DELETE",n,a,s,r,e)}}const sr=ar("storage"),{get:ir,post:or,put:lr,head:cr,remove:ur}=sr,dr=ar("vectors");var hr=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"storage";var a;this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=(a=n)?function(){return a(...arguments)}:function(){return fetch(...arguments)},this.namespace=r}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=er(er({},this.headers),{},{[e]:t}),this}async handleOperation(e){try{return{data:await e(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Gn(t))return{data:null,error:t};throw t}}},pr=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){try{return{data:(await this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Gn(e))return{data:null,error:e};throw e}}};let fr;fr=Symbol.toStringTag;var mr=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[fr]="BlobDownloadBuilder",this.promise=null}asStream(){return new pr(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){try{return{data:await(await this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Gn(e))return{data:null,error:e};throw e}}};const gr={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},vr={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var yr=class extends hr{constructor(e){let t=arguments.length>2?arguments[2]:void 0;super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},arguments.length>3?arguments[3]:void 0,"storage"),this.bucketId=t}async uploadOrUpdate(e,t,n,r){var a=this;return a.handleOperation(async()=>{let s;const i=er(er({},vr),r);let o=er(er({},a.headers),"POST"===e&&{"x-upsert":String(i.upsert)});const l=i.metadata;"undefined"!==typeof Blob&&n instanceof Blob?(s=new FormData,s.append("cacheControl",i.cacheControl),l&&s.append("metadata",a.encodeMetadata(l)),s.append("",n)):"undefined"!==typeof FormData&&n instanceof FormData?(s=n,s.has("cacheControl")||s.append("cacheControl",i.cacheControl),l&&!s.has("metadata")&&s.append("metadata",a.encodeMetadata(l))):(s=n,o["cache-control"]="max-age=".concat(i.cacheControl),o["content-type"]=i.contentType,l&&(o["x-metadata"]=a.toBase64(a.encodeMetadata(l))),("undefined"!==typeof ReadableStream&&s instanceof ReadableStream||s&&"object"===typeof s&&"pipe"in s&&"function"===typeof s.pipe)&&!i.duplex&&(i.duplex="half")),(null===r||void 0===r?void 0:r.headers)&&(o=er(er({},o),r.headers));const c=a._removeEmptyFolders(t),u=a._getFinalPath(c),d=await("PUT"==e?lr:or)(a.fetch,"".concat(a.url,"/object/").concat(u),s,er({headers:o},(null===i||void 0===i?void 0:i.duplex)?{duplex:i.duplex}:{}));return{path:c,id:d.Id,fullPath:d.Key}})}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,r){var a=this;const s=a._removeEmptyFolders(e),i=a._getFinalPath(s),o=new URL(a.url+"/object/upload/sign/".concat(i));return o.searchParams.set("token",t),a.handleOperation(async()=>{let e;const t=er({upsert:vr.upsert},r),i=er(er({},a.headers),{"x-upsert":String(t.upsert)});return"undefined"!==typeof Blob&&n instanceof Blob?(e=new FormData,e.append("cacheControl",t.cacheControl),e.append("",n)):"undefined"!==typeof FormData&&n instanceof FormData?(e=n,e.append("cacheControl",t.cacheControl)):(e=n,i["cache-control"]="max-age=".concat(t.cacheControl),i["content-type"]=t.contentType),{path:s,fullPath:(await lr(a.fetch,o.toString(),e,{headers:i})).Key}})}async createSignedUploadUrl(e,t){var n=this;return n.handleOperation(async()=>{let r=n._getFinalPath(e);const a=er({},n.headers);(null===t||void 0===t?void 0:t.upsert)&&(a["x-upsert"]="true");const s=await or(n.fetch,"".concat(n.url,"/object/upload/sign/").concat(r),{},{headers:a}),i=new URL(n.url+s.url),o=i.searchParams.get("token");if(!o)throw new Vn("No token returned by API");return{signedUrl:i.toString(),path:e,token:o}})}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var r=this;return r.handleOperation(async()=>await or(r.fetch,"".concat(r.url,"/object/move"),{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===n||void 0===n?void 0:n.destinationBucket},{headers:r.headers}))}async copy(e,t,n){var r=this;return r.handleOperation(async()=>({path:(await or(r.fetch,"".concat(r.url,"/object/copy"),{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===n||void 0===n?void 0:n.destinationBucket},{headers:r.headers})).Key}))}async createSignedUrl(e,t,n){var r=this;return r.handleOperation(async()=>{let a=r._getFinalPath(e),s=await or(r.fetch,"".concat(r.url,"/object/sign/").concat(a),er({expiresIn:t},(null===n||void 0===n?void 0:n.transform)?{transform:n.transform}:{}),{headers:r.headers});const i=(null===n||void 0===n?void 0:n.download)?"&download=".concat(!0===n.download?"":n.download):"";return{signedUrl:encodeURI("".concat(r.url).concat(s.signedURL).concat(i))}})}async createSignedUrls(e,t,n){var r=this;return r.handleOperation(async()=>{const a=await or(r.fetch,"".concat(r.url,"/object/sign/").concat(r.bucketId),{expiresIn:t,paths:e},{headers:r.headers}),s=(null===n||void 0===n?void 0:n.download)?"&download=".concat(!0===n.download?"":n.download):"";return a.map(e=>er(er({},e),{},{signedUrl:e.signedURL?encodeURI("".concat(r.url).concat(e.signedURL).concat(s)):null}))})}download(e,t,n){const r="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image/authenticated":"object",a=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{}),s=a?"?".concat(a):"",i=this._getFinalPath(e);return new mr(()=>ir(this.fetch,"".concat(this.url,"/").concat(r,"/").concat(i).concat(s),{headers:this.headers,noResolveJson:!0},n),this.shouldThrowOnError)}async info(e){var t=this;const n=t._getFinalPath(e);return t.handleOperation(async()=>$n(await ir(t.fetch,"".concat(t.url,"/object/info/").concat(n),{headers:t.headers})))}async exists(e){var t=this;const n=t._getFinalPath(e);try{return await cr(t.fetch,"".concat(t.url,"/object/").concat(n),{headers:t.headers}),{data:!0,error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Gn(r)&&r instanceof Jn){const e=r.originalError;if([400,404].includes(null===e||void 0===e?void 0:e.status))return{data:!1,error:r}}throw r}}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],a=(null===t||void 0===t?void 0:t.download)?"download=".concat(!0===t.download?"":t.download):"";""!==a&&r.push(a);const s="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image":"object",i=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{});""!==i&&r.push(i);let o=r.join("&");return""!==o&&(o="?".concat(o)),{data:{publicUrl:encodeURI("".concat(this.url,"/").concat(s,"/public/").concat(n).concat(o))}}}async remove(e){var t=this;return t.handleOperation(async()=>await ur(t.fetch,"".concat(t.url,"/object/").concat(t.bucketId),{prefixes:e},{headers:t.headers}))}async list(e,t,n){var r=this;return r.handleOperation(async()=>{const a=er(er(er({},gr),t),{},{prefix:e||""});return await or(r.fetch,"".concat(r.url,"/object/list/").concat(r.bucketId),a,{headers:r.headers},n)})}async listV2(e,t){var n=this;return n.handleOperation(async()=>{const r=er({},e);return await or(n.fetch,"".concat(n.url,"/object/list-v2/").concat(n.bucketId),r,{headers:n.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return"undefined"!==typeof Buffer?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return"".concat(this.bucketId,"/").concat(e.replace(/^\/+/,""))}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push("width=".concat(e.width)),e.height&&t.push("height=".concat(e.height)),e.resize&&t.push("resize=".concat(e.resize)),e.format&&t.push("format=".concat(e.format)),e.quality&&t.push("quality=".concat(e.quality)),t.join("&")}};const br={"X-Client-Info":"storage-js/".concat("2.97.0")};var wr=class extends hr{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;const a=new URL(e);(null===r||void 0===r?void 0:r.useNewHostname)&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase."));super(a.href.replace(/\/$/,""),er(er({},br),t),n,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=t.listBucketOptionsToQueryString(e);return await ir(t.fetch,"".concat(t.url,"/bucket").concat(n),{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await ir(t.fetch,"".concat(t.url,"/bucket/").concat(e),{headers:t.headers}))}async createBucket(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{public:!1};var n=this;return n.handleOperation(async()=>await or(n.fetch,"".concat(n.url,"/bucket"),{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async updateBucket(e,t){var n=this;return n.handleOperation(async()=>await lr(n.fetch,"".concat(n.url,"/bucket/").concat(e),{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await or(t.fetch,"".concat(t.url,"/bucket/").concat(e,"/empty"),{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await ur(t.fetch,"".concat(t.url,"/bucket/").concat(e),{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},Sr=class extends hr{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;super(e.replace(/\/$/,""),er(er({},br),t),n,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await or(t.fetch,"".concat(t.url,"/bucket"),{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=new URLSearchParams;void 0!==(null===e||void 0===e?void 0:e.limit)&&n.set("limit",e.limit.toString()),void 0!==(null===e||void 0===e?void 0:e.offset)&&n.set("offset",e.offset.toString()),(null===e||void 0===e?void 0:e.sortColumn)&&n.set("sortColumn",e.sortColumn),(null===e||void 0===e?void 0:e.sortOrder)&&n.set("sortOrder",e.sortOrder),(null===e||void 0===e?void 0:e.search)&&n.set("search",e.search);const r=n.toString(),a=r?"".concat(t.url,"/bucket?").concat(r):"".concat(t.url,"/bucket");return await ir(t.fetch,a,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await ur(t.fetch,"".concat(t.url,"/bucket/").concat(e),{},{headers:t.headers}))}from(e){var t=this;if(!(e=>!(!e||"string"!==typeof e)&&!(0===e.length||e.length>100)&&e.trim()===e&&!e.includes("/")&&!e.includes("\\")&&/^[\w!.\*'() &$@=;:+,?-]+$/.test(e))(e))throw new Vn("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new Hn({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(e,t){const n=e[t];return"function"!==typeof n?n:async function(){try{for(var t=arguments.length,a=new Array(t),s=0;s<t;s++)a[s]=arguments[s];return{data:await n.apply(e,a),error:null}}catch(i){if(r)throw i;return{data:null,error:i}}}}})}},xr=class extends hr{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;super(e.replace(/\/$/,""),er(er({},br),{},{"Content-Type":"application/json"},t),n,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await dr.post(t.fetch,"".concat(t.url,"/CreateIndex"),e,{headers:t.headers})||{})}async getIndex(e,t){var n=this;return n.handleOperation(async()=>await dr.post(n.fetch,"".concat(n.url,"/GetIndex"),{vectorBucketName:e,indexName:t},{headers:n.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await dr.post(t.fetch,"".concat(t.url,"/ListIndexes"),e,{headers:t.headers}))}async deleteIndex(e,t){var n=this;return n.handleOperation(async()=>await dr.post(n.fetch,"".concat(n.url,"/DeleteIndex"),{vectorBucketName:e,indexName:t},{headers:n.headers})||{})}},kr=class extends hr{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;super(e.replace(/\/$/,""),er(er({},br),{},{"Content-Type":"application/json"},t),n,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await dr.post(t.fetch,"".concat(t.url,"/PutVectors"),e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await dr.post(t.fetch,"".concat(t.url,"/GetVectors"),e,{headers:t.headers}))}async listVectors(e){var t=this;if(void 0!==e.segmentCount){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(void 0!==e.segmentIndex&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error("segmentIndex must be between 0 and ".concat(e.segmentCount-1))}return t.handleOperation(async()=>await dr.post(t.fetch,"".concat(t.url,"/ListVectors"),e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await dr.post(t.fetch,"".concat(t.url,"/QueryVectors"),e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await dr.post(t.fetch,"".concat(t.url,"/DeleteVectors"),e,{headers:t.headers})||{})}},_r=class extends hr{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;super(e.replace(/\/$/,""),er(er({},br),{},{"Content-Type":"application/json"},t),n,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await dr.post(t.fetch,"".concat(t.url,"/CreateVectorBucket"),{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await dr.post(t.fetch,"".concat(t.url,"/GetVectorBucket"),{vectorBucketName:e},{headers:t.headers}))}async listBuckets(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t=this;return t.handleOperation(async()=>await dr.post(t.fetch,"".concat(t.url,"/ListVectorBuckets"),e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await dr.post(t.fetch,"".concat(t.url,"/DeleteVectorBucket"),{vectorBucketName:e},{headers:t.headers})||{})}},jr=class extends _r{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e,t.headers||{},t.fetch)}from(e){return new Nr(this.url,this.headers,e,this.fetch)}async createBucket(e){return(()=>super.createBucket)().call(this,e)}async getBucket(e){return(()=>super.getBucket)().call(this,e)}async listBuckets(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(()=>super.listBuckets)().call(this,e)}async deleteBucket(e){return(()=>super.deleteBucket)().call(this,e)}},Nr=class extends xr{constructor(e,t,n,r){super(e,t,r),this.vectorBucketName=n}async createIndex(e){return(()=>super.createIndex)().call(this,er(er({},e),{},{vectorBucketName:this.vectorBucketName}))}async listIndexes(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(()=>super.listIndexes)().call(this,er(er({},e),{},{vectorBucketName:this.vectorBucketName}))}async getIndex(e){return(()=>super.getIndex)().call(this,this.vectorBucketName,e)}async deleteIndex(e){return(()=>super.deleteIndex)().call(this,this.vectorBucketName,e)}index(e){return new Er(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},Er=class extends kr{constructor(e,t,n,r,a){super(e,t,a),this.vectorBucketName=n,this.indexName=r}async putVectors(e){var t=this;return(()=>super.putVectors)().call(t,er(er({},e),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async getVectors(e){var t=this;return(()=>super.getVectors)().call(t,er(er({},e),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async listVectors(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t=this;return(()=>super.listVectors)().call(t,er(er({},e),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async queryVectors(e){var t=this;return(()=>super.queryVectors)().call(t,er(er({},e),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async deleteVectors(e){var t=this;return(()=>super.deleteVectors)().call(t,er(er({},e),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}},Rr=class extends wr{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},arguments.length>2?arguments[2]:void 0,arguments.length>3?arguments[3]:void 0)}from(e){return new yr(this.url,this.headers,e,this.fetch)}get vectors(){return new jr(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Sr(this.url+"/iceberg",this.headers,this.fetch)}};const Cr="2.97.0",Tr=3e4,Ir=9e4,Or={"X-Client-Info":"gotrue-js/".concat(Cr)},Pr="X-Supabase-Api-Version",Ar={timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"},Lr=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class Dr extends Error{constructor(e,t,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=n}}function zr(e){return"object"===typeof e&&null!==e&&"__isAuthError"in e}class Ur extends Dr{constructor(e,t,n){super(e,t,n),this.name="AuthApiError",this.status=t,this.code=n}}class Mr extends Dr{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Fr extends Dr{constructor(e,t,n,r){super(e,n,r),this.name=t,this.status=n}}class Br extends Fr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function qr(e){return zr(e)&&"AuthSessionMissingError"===e.name}class Wr extends Fr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Hr extends Fr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Vr extends Fr{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Gr extends Fr{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Kr extends Fr{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Jr extends Fr{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function $r(e){return zr(e)&&"AuthRetryableFetchError"===e.name}class Qr extends Fr{constructor(e,t,n){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=n}}class Yr extends Fr{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Xr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Zr=" \t\n\r=".split(""),ea=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Zr.length;t+=1)e[Zr[t].charCodeAt(0)]=-2;for(let t=0;t<Xr.length;t+=1)e[Xr[t].charCodeAt(0)]=t;return e})();function ta(e,t,n){if(null!==e)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;n(Xr[e]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;n(Xr[e]),t.queuedBits-=6}}function na(e,t,n){const r=ea[e];if(!(r>-1)){if(-2===r)return;throw new Error('Invalid Base64-URL character "'.concat(String.fromCharCode(e),'"'))}for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8}function ra(e){const t=[],n=e=>{t.push(String.fromCodePoint(e))},r={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},s=e=>{!function(e,t,n){if(0===t.utf8seq){if(e<=127)return void n(e);for(let n=1;n<6;n+=1)if(0===(e>>7-n&1)){t.utf8seq=n;break}if(2===t.utf8seq)t.codepoint=31&e;else if(3===t.utf8seq)t.codepoint=15&e;else{if(4!==t.utf8seq)throw new Error("Invalid UTF-8 sequence");t.codepoint=7&e}t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|63&e,t.utf8seq-=1,0===t.utf8seq&&n(t.codepoint)}}(e,r,n)};for(let i=0;i<e.length;i+=1)na(e.charCodeAt(i),a,s);return t.join("")}function aa(e,t){if(!(e<=127)){if(e<=2047)return t(192|e>>6),void t(128|63&e);if(e<=65535)return t(224|e>>12),t(128|e>>6&63),void t(128|63&e);if(e<=1114111)return t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),void t(128|63&e);throw new Error("Unrecognized Unicode codepoint: ".concat(e.toString(16)))}t(e)}function sa(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const t=1024*(r-55296)&65535;r=65536+(e.charCodeAt(n+1)-56320&65535|t),n+=1}aa(r,t)}}function ia(e){const t=[],n={queue:0,queuedBits:0},r=e=>{t.push(e)};for(let a=0;a<e.length;a+=1)na(e.charCodeAt(a),n,r);return new Uint8Array(t)}function oa(e){const t=[],n={queue:0,queuedBits:0},r=e=>{t.push(e)};return e.forEach(e=>ta(e,n,r)),ta(null,n,r),t.join("")}const la=()=>"undefined"!==typeof window&&"undefined"!==typeof document,ca={tested:!1,writable:!1},ua=()=>{if(!la())return!1;try{if("object"!==typeof globalThis.localStorage)return!1}catch(hl){return!1}if(ca.tested)return ca.writable;const e="lswt-".concat(Math.random()).concat(Math.random());try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ca.tested=!0,ca.writable=!0}catch(hl){ca.tested=!0,ca.writable=!1}return ca.writable};const da=e=>e?function(){return e(...arguments)}:function(){return fetch(...arguments)},ha=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},pa=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch(r){return n}},fa=async(e,t)=>{await e.removeItem(t)};class ma{constructor(){this.promise=new ma.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}function ga(e){const t=e.split(".");if(3!==t.length)throw new Yr("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Lr.test(t[n]))throw new Yr("JWT not in base64url format");return{header:JSON.parse(ra(t[0])),payload:JSON.parse(ra(t[1])),signature:ia(t[2]),raw:{header:t[0],payload:t[1]}}}function va(e){return("0"+e.toString(16)).substr(-2)}async function ya(e){if(!("undefined"!==typeof crypto&&"undefined"!==typeof crypto.subtle&&"undefined"!==typeof TextEncoder))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const t=await async function(e){const t=(new TextEncoder).encode(e),n=await crypto.subtle.digest("SHA-256",t),r=new Uint8Array(n);return Array.from(r).map(e=>String.fromCharCode(e)).join("")}(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ba(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=function(){const e=new Uint32Array(56);if("undefined"===typeof crypto){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length;let n="";for(let r=0;r<56;r++)n+=e.charAt(Math.floor(Math.random()*t));return n}return crypto.getRandomValues(e),Array.from(e,va).join("")}();let a=r;n&&(a+="/PASSWORD_RECOVERY"),await ha(e,"".concat(t,"-code-verifier"),a);const s=await ya(r);return[s,r===s?"plain":"s256"]}ma.promiseConstructor=Promise;const wa=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;const Sa=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function xa(e){if(!Sa.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ka(){return new Proxy({},{get:(e,t)=>{if("__isUserNotAvailableProxy"===t)return!0;if("symbol"===typeof t){const e=t.toString();if("Symbol(Symbol.toPrimitive)"===e||"Symbol(Symbol.toStringTag)"===e||"Symbol(util.inspect.custom)"===e)return}throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "'.concat(t,'" property of the session object is not supported. Please use getUser() instead.'))},set:(e,t)=>{throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "'.concat(t,'" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.'))},deleteProperty:(e,t)=>{throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "'.concat(t,'" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.'))}})}function _a(e){return JSON.parse(JSON.stringify(e))}const ja=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Na=[502,503,504];async function Ea(e){var t,n;if(!("object"===typeof(n=e)&&null!==n&&"status"in n&&"ok"in n&&"json"in n&&"function"===typeof n.json))throw new Jr(ja(e),0);if(Na.includes(e.status))throw new Jr(ja(e),e.status);let r,a;try{r=await e.json()}catch(hl){throw new Mr(ja(hl),hl)}const s=function(e){const t=e.headers.get(Pr);if(!t)return null;if(!t.match(wa))return null;try{return new Date("".concat(t,"T00:00:00.0Z"))}catch(hl){return null}}(e);if(s&&s.getTime()>=Ar.timestamp&&"object"===typeof r&&r&&"string"===typeof r.code?a=r.code:"object"===typeof r&&r&&"string"===typeof r.error_code&&(a=r.error_code),a){if("weak_password"===a)throw new Qr(ja(r),e.status,(null===(t=r.weak_password)||void 0===t?void 0:t.reasons)||[]);if("session_not_found"===a)throw new Br}else if("object"===typeof r&&r&&"object"===typeof r.weak_password&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((e,t)=>e&&"string"===typeof t,!0))throw new Qr(ja(r),e.status,r.weak_password.reasons);throw new Ur(ja(r),e.status||500,a)}async function Ra(e,t,n,r){var a;const s=Object.assign({},null===r||void 0===r?void 0:r.headers);s[Pr]||(s[Pr]=Ar.name),(null===r||void 0===r?void 0:r.jwt)&&(s.Authorization="Bearer ".concat(r.jwt));const i=null!==(a=null===r||void 0===r?void 0:r.query)&&void 0!==a?a:{};(null===r||void 0===r?void 0:r.redirectTo)&&(i.redirect_to=r.redirectTo);const o=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",l=await async function(e,t,n,r,a,s){const i=((e,t,n,r)=>{const a={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"===e?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null===t||void 0===t?void 0:t.headers),a.body=JSON.stringify(r),Object.assign(Object.assign({},a),n))})(t,r,a,s);let o;try{o=await e(n,Object.assign({},i))}catch(hl){throw console.error(hl),new Jr(ja(hl),0)}o.ok||await Ea(o);if(null===r||void 0===r?void 0:r.noResolveJson)return o;try{return await o.json()}catch(hl){await Ea(hl)}}(e,t,n+o,{headers:s,noResolveJson:null===r||void 0===r?void 0:r.noResolveJson},{},null===r||void 0===r?void 0:r.body);return(null===r||void 0===r?void 0:r.xform)?null===r||void 0===r?void 0:r.xform(l):{data:Object.assign({},l),error:null}}function Ca(e){var t;let n=null;var r;(function(e){return e.access_token&&e.refresh_token&&e.expires_in})(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=(r=e.expires_in,Math.round(Date.now()/1e3)+r)));return{data:{session:n,user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function Ta(e){const t=Ca(e);return!t.error&&e.weak_password&&"object"===typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"===typeof e.weak_password.message&&e.weak_password.reasons.reduce((e,t)=>e&&"string"===typeof t,!0)&&(t.data.weak_password=e.weak_password),t}function Ia(e){var t;return{data:{user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function Oa(e){return{data:e,error:null}}function Pa(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:a,verification_type:s}=e,i=Lt(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:t,email_otp:n,hashed_token:r,redirect_to:a,verification_type:s},user:Object.assign({},i)},error:null}}function Aa(e){return e}const La=["global","local","others"];class Da{constructor(e){let{url:t="",headers:n={},fetch:r}=e;this.url=t,this.headers=n,this.fetch=da(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:La[0];if(La.indexOf(t)<0)throw new Error("@supabase/auth-js: Parameter scope must be one of ".concat(La.join(", ")));try{return await Ra(this.fetch,"POST","".concat(this.url,"/logout?scope=").concat(t),{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(zr(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await Ra(this.fetch,"POST","".concat(this.url,"/invite"),{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Ia})}catch(n){if(zr(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:t}=e,n=Lt(e,["options"]),r=Object.assign(Object.assign({},n),t);return"newEmail"in n&&(r.new_email=null===n||void 0===n?void 0:n.newEmail,delete r.newEmail),await Ra(this.fetch,"POST","".concat(this.url,"/admin/generate_link"),{body:r,headers:this.headers,xform:Pa,redirectTo:null===t||void 0===t?void 0:t.redirectTo})}catch(t){if(zr(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await Ra(this.fetch,"POST","".concat(this.url,"/admin/users"),{body:e,headers:this.headers,xform:Ia})}catch(t){if(zr(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,n,r,a,s,i,o;try{const l={nextPage:null,lastPage:0,total:0},c=await Ra(this.fetch,"GET","".concat(this.url,"/admin/users"),{headers:this.headers,noResolveJson:!0,query:{page:null!==(n=null===(t=null===e||void 0===e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==n?n:"",per_page:null!==(a=null===(r=null===e||void 0===e?void 0:e.perPage)||void 0===r?void 0:r.toString())&&void 0!==a?a:""},xform:Aa});if(c.error)throw c.error;const u=await c.json(),d=null!==(s=c.headers.get("x-total-count"))&&void 0!==s?s:0,h=null!==(o=null===(i=c.headers.get("link"))||void 0===i?void 0:i.split(","))&&void 0!==o?o:[];return h.length>0&&(h.forEach(e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),n=JSON.parse(e.split(";")[1].split("=")[1]);l["".concat(n,"Page")]=t}),l.total=parseInt(d)),{data:Object.assign(Object.assign({},u),l),error:null}}catch(l){if(zr(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){xa(e);try{return await Ra(this.fetch,"GET","".concat(this.url,"/admin/users/").concat(e),{headers:this.headers,xform:Ia})}catch(t){if(zr(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){xa(e);try{return await Ra(this.fetch,"PUT","".concat(this.url,"/admin/users/").concat(e),{body:t,headers:this.headers,xform:Ia})}catch(n){if(zr(n))return{data:{user:null},error:n};throw n}}async deleteUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];xa(e);try{return await Ra(this.fetch,"DELETE","".concat(this.url,"/admin/users/").concat(e),{headers:this.headers,body:{should_soft_delete:t},xform:Ia})}catch(n){if(zr(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){xa(e.userId);try{const{data:t,error:n}=await Ra(this.fetch,"GET","".concat(this.url,"/admin/users/").concat(e.userId,"/factors"),{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:n}}catch(t){if(zr(t))return{data:null,error:t};throw t}}async _deleteFactor(e){xa(e.userId),xa(e.id);try{return{data:await Ra(this.fetch,"DELETE","".concat(this.url,"/admin/users/").concat(e.userId,"/factors/").concat(e.id),{headers:this.headers}),error:null}}catch(t){if(zr(t))return{data:null,error:t};throw t}}async _listOAuthClients(e){var t,n,r,a,s,i,o;try{const l={nextPage:null,lastPage:0,total:0},c=await Ra(this.fetch,"GET","".concat(this.url,"/admin/oauth/clients"),{headers:this.headers,noResolveJson:!0,query:{page:null!==(n=null===(t=null===e||void 0===e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==n?n:"",per_page:null!==(a=null===(r=null===e||void 0===e?void 0:e.perPage)||void 0===r?void 0:r.toString())&&void 0!==a?a:""},xform:Aa});if(c.error)throw c.error;const u=await c.json(),d=null!==(s=c.headers.get("x-total-count"))&&void 0!==s?s:0,h=null!==(o=null===(i=c.headers.get("link"))||void 0===i?void 0:i.split(","))&&void 0!==o?o:[];return h.length>0&&(h.forEach(e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),n=JSON.parse(e.split(";")[1].split("=")[1]);l["".concat(n,"Page")]=t}),l.total=parseInt(d)),{data:Object.assign(Object.assign({},u),l),error:null}}catch(l){if(zr(l))return{data:{clients:[]},error:l};throw l}}async _createOAuthClient(e){try{return await Ra(this.fetch,"POST","".concat(this.url,"/admin/oauth/clients"),{body:e,headers:this.headers,xform:e=>({data:e,error:null})})}catch(t){if(zr(t))return{data:null,error:t};throw t}}async _getOAuthClient(e){try{return await Ra(this.fetch,"GET","".concat(this.url,"/admin/oauth/clients/").concat(e),{headers:this.headers,xform:e=>({data:e,error:null})})}catch(t){if(zr(t))return{data:null,error:t};throw t}}async _updateOAuthClient(e,t){try{return await Ra(this.fetch,"PUT","".concat(this.url,"/admin/oauth/clients/").concat(e),{body:t,headers:this.headers,xform:e=>({data:e,error:null})})}catch(n){if(zr(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await Ra(this.fetch,"DELETE","".concat(this.url,"/admin/oauth/clients/").concat(e),{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(t){if(zr(t))return{data:null,error:t};throw t}}async _regenerateOAuthClientSecret(e){try{return await Ra(this.fetch,"POST","".concat(this.url,"/admin/oauth/clients/").concat(e,"/regenerate_secret"),{headers:this.headers,xform:e=>({data:e,error:null})})}catch(t){if(zr(t))return{data:null,error:t};throw t}}}function za(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Ua=!!(globalThis&&ua()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"));class Ma extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Fa extends Ma{}async function Ba(e,t,n){Ua&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;t>0&&setTimeout(()=>{r.abort(),Ua&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve();try{return await globalThis.navigator.locks.request(e,0===t?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async r=>{if(!r){if(0===t)throw Ua&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Fa('Acquiring an exclusive Navigator LockManager lock "'.concat(e,'" immediately failed'));if(Ua)try{const e=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(e,null,"  "))}catch(hl){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",hl)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}Ua&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,r.name);try{return await n()}finally{Ua&&console.log("@supabase/gotrue-js: navigatorLock: released",e,r.name)}})}catch(hl){if("AbortError"===(null===hl||void 0===hl?void 0:hl.name))throw new Fa('Acquiring an exclusive Navigator LockManager lock "'.concat(e,'" timed out waiting ').concat(t,"ms"));throw hl}}function qa(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error('@supabase/auth-js: Address "'.concat(e,'" is invalid.'));return e.toLowerCase()}function Wa(e){const t=(new TextEncoder).encode(e);return"0x"+Array.from(t,e=>e.toString(16).padStart(2,"0")).join("")}class Ha extends Error{constructor(e){let{message:t,code:n,cause:r,name:a}=e;var s;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=null!==(s=null!==a&&void 0!==a?a:r instanceof Error?r.name:void 0)&&void 0!==s?s:"Unknown Error",this.code=n}}class Va extends Ha{constructor(e,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:e}),this.name="WebAuthnUnknownError",this.originalError=t}}function Ga(e){let{error:t,options:n}=e;var r,a,s;const{publicKey:i}=n;if(!i)throw Error("options was missing required publicKey property");if("AbortError"===t.name){if(n.signal instanceof AbortSignal)return new Ha({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if("ConstraintError"===t.name){if(!0===(null===(r=i.authenticatorSelection)||void 0===r?void 0:r.requireResidentKey))return new Ha({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if("conditional"===n.mediation&&"required"===(null===(a=i.authenticatorSelection)||void 0===a?void 0:a.userVerification))return new Ha({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if("required"===(null===(s=i.authenticatorSelection)||void 0===s?void 0:s.userVerification))return new Ha({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if("InvalidStateError"===t.name)return new Ha({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if("NotAllowedError"===t.name)return new Ha({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if("NotSupportedError"===t.name){return 0===i.pubKeyCredParams.filter(e=>"public-key"===e.type).length?new Ha({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Ha({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t})}if("SecurityError"===t.name){const e=window.location.hostname;if(!Za(e))return new Ha({message:"".concat(window.location.hostname," is an invalid domain"),code:"ERROR_INVALID_DOMAIN",cause:t});if(i.rp.id!==e)return new Ha({message:'The RP ID "'.concat(i.rp.id,'" is invalid for this domain'),code:"ERROR_INVALID_RP_ID",cause:t})}else if("TypeError"===t.name){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Ha({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if("UnknownError"===t.name)return new Ha({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Ha({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function Ka(e){let{error:t,options:n}=e;const{publicKey:r}=n;if(!r)throw Error("options was missing required publicKey property");if("AbortError"===t.name){if(n.signal instanceof AbortSignal)return new Ha({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if("NotAllowedError"===t.name)return new Ha({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if("SecurityError"===t.name){const e=window.location.hostname;if(!Za(e))return new Ha({message:"".concat(window.location.hostname," is an invalid domain"),code:"ERROR_INVALID_DOMAIN",cause:t});if(r.rpId!==e)return new Ha({message:'The RP ID "'.concat(r.rpId,'" is invalid for this domain'),code:"ERROR_INVALID_RP_ID",cause:t})}else if("UnknownError"===t.name)return new Ha({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Ha({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}const Ja=new class{createNewAbortSignal(){if(this.controller){const e=new Error("Cancelling existing WebAuthn API call for new one");e.name="AbortError",this.controller.abort(e)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}};function $a(e){if(!e)throw new Error("Credential creation options are required");if("undefined"!==typeof PublicKeyCredential&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&"function"===typeof PublicKeyCredential.parseCreationOptionsFromJSON)return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,a=Lt(e,["challenge","user","excludeCredentials"]),s=ia(t).buffer,i=Object.assign(Object.assign({},n),{id:ia(n.id).buffer}),o=Object.assign(Object.assign({},a),{challenge:s,user:i});if(r&&r.length>0){o.excludeCredentials=new Array(r.length);for(let e=0;e<r.length;e++){const t=r[e];o.excludeCredentials[e]=Object.assign(Object.assign({},t),{id:ia(t.id).buffer,type:t.type||"public-key",transports:t.transports})}}return o}function Qa(e){if(!e)throw new Error("Credential request options are required");if("undefined"!==typeof PublicKeyCredential&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&"function"===typeof PublicKeyCredential.parseRequestOptionsFromJSON)return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=Lt(e,["challenge","allowCredentials"]),a=ia(t).buffer,s=Object.assign(Object.assign({},r),{challenge:a});if(n&&n.length>0){s.allowCredentials=new Array(n.length);for(let e=0;e<n.length;e++){const t=n[e];s.allowCredentials[e]=Object.assign(Object.assign({},t),{id:ia(t.id).buffer,type:t.type||"public-key",transports:t.transports})}}return s}function Ya(e){var t;if("toJSON"in e&&"function"===typeof e.toJSON)return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:oa(new Uint8Array(e.response.attestationObject)),clientDataJSON:oa(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:null!==(t=n.authenticatorAttachment)&&void 0!==t?t:void 0}}function Xa(e){var t;if("toJSON"in e&&"function"===typeof e.toJSON)return e.toJSON();const n=e,r=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:oa(new Uint8Array(a.authenticatorData)),clientDataJSON:oa(new Uint8Array(a.clientDataJSON)),signature:oa(new Uint8Array(a.signature)),userHandle:a.userHandle?oa(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:null!==(t=n.authenticatorAttachment)&&void 0!==t?t:void 0}}function Za(e){return"localhost"===e||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function es(){var e,t;return!!(la()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&"function"===typeof(null===(e=null===navigator||void 0===navigator?void 0:navigator.credentials)||void 0===e?void 0:e.create)&&"function"===typeof(null===(t=null===navigator||void 0===navigator?void 0:navigator.credentials)||void 0===t?void 0:t.get))}const ts={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},ns={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function rs(){const e=e=>null!==e&&"object"===typeof e&&!Array.isArray(e),t=e=>e instanceof ArrayBuffer||ArrayBuffer.isView(e),n={};for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];for(const i of a)if(i)for(const r in i){const a=i[r];if(void 0!==a)if(Array.isArray(a))n[r]=a;else if(t(a))n[r]=a;else if(e(a)){const t=n[r];e(t)?n[r]=rs(t,a):n[r]=rs(a)}else n[r]=a}return n}class as{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge(e,t){let{factorId:n,webauthn:r,friendlyName:a,signal:s}=e;var i;try{const{data:e,error:o}=await this.client.mfa.challenge({factorId:n,webauthn:r});if(!e)return{data:null,error:o};const l=null!==s&&void 0!==s?s:Ja.createNewAbortSignal();if("create"===e.webauthn.type){const{user:t}=e.webauthn.credential_options.publicKey;if(!t.name){const e=a;if(e)t.name="".concat(t.id,":").concat(e);else{const e=(await this.client.getUser()).data.user,n=(null===(i=null===e||void 0===e?void 0:e.user_metadata)||void 0===i?void 0:i.name)||(null===e||void 0===e?void 0:e.email)||(null===e||void 0===e?void 0:e.id)||"User";t.name="".concat(t.id,":").concat(n)}}t.displayName||(t.displayName=t.name)}switch(e.webauthn.type){case"create":{const r=function(e,t){return rs(ts,e,t||{})}(e.webauthn.credential_options.publicKey,null===t||void 0===t?void 0:t.create),{data:a,error:s}=await async function(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Va("Browser returned unexpected credential type",t)}:{data:null,error:new Va("Empty credential response",t)}}catch(t){return{data:null,error:Ga({error:t,options:e})}}}({publicKey:r,signal:l});return a?{data:{factorId:n,challengeId:e.id,webauthn:{type:e.webauthn.type,credential_response:a}},error:null}:{data:null,error:s}}case"request":{const r=function(e,t){return rs(ns,e,t||{})}(e.webauthn.credential_options.publicKey,null===t||void 0===t?void 0:t.request),{data:a,error:s}=await async function(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Va("Browser returned unexpected credential type",t)}:{data:null,error:new Va("Empty credential response",t)}}catch(t){return{data:null,error:Ka({error:t,options:e})}}}(Object.assign(Object.assign({},e.webauthn.credential_options),{publicKey:r,signal:l}));return a?{data:{factorId:n,challengeId:e.id,webauthn:{type:e.webauthn.type,credential_response:a}},error:null}:{data:null,error:s}}}}catch(o){return zr(o)?{data:null,error:o}:{data:null,error:new Mr("Unexpected error in challenge",o)}}}async _verify(e){let{challengeId:t,factorId:n,webauthn:r}=e;return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate(e,t){let{factorId:n,webauthn:{rpId:r=("undefined"!==typeof window?window.location.hostname:void 0),rpOrigins:a=("undefined"!==typeof window?[window.location.origin]:void 0),signal:s}={}}=e;if(!r)return{data:null,error:new Dr("rpId is required for WebAuthn authentication")};try{if(!es())return{data:null,error:new Mr("Browser does not support WebAuthn",null)};const{data:e,error:i}=await this.challenge({factorId:n,webauthn:{rpId:r,rpOrigins:a},signal:s},{request:t});if(!e)return{data:null,error:i};const{webauthn:o}=e;return this._verify({factorId:n,challengeId:e.challengeId,webauthn:{type:o.type,rpId:r,rpOrigins:a,credential_response:o.credential_response}})}catch(i){return zr(i)?{data:null,error:i}:{data:null,error:new Mr("Unexpected error in authenticate",i)}}}async _register(e,t){let{friendlyName:n,webauthn:{rpId:r=("undefined"!==typeof window?window.location.hostname:void 0),rpOrigins:a=("undefined"!==typeof window?[window.location.origin]:void 0),signal:s}={}}=e;if(!r)return{data:null,error:new Dr("rpId is required for WebAuthn registration")};try{if(!es())return{data:null,error:new Mr("Browser does not support WebAuthn",null)};const{data:e,error:i}=await this._enroll({friendlyName:n});if(!e)return await this.client.mfa.listFactors().then(e=>{var t;return null===(t=e.data)||void 0===t?void 0:t.all.find(e=>"webauthn"===e.factor_type&&e.friendly_name===n&&"unverified"!==e.status)}).then(e=>e?this.client.mfa.unenroll({factorId:null===e||void 0===e?void 0:e.id}):void 0),{data:null,error:i};const{data:o,error:l}=await this._challenge({factorId:e.id,friendlyName:e.friendly_name,webauthn:{rpId:r,rpOrigins:a},signal:s},{create:t});return o?this._verify({factorId:e.id,challengeId:o.challengeId,webauthn:{rpId:r,rpOrigins:a,type:o.webauthn.type,credential_response:o.webauthn.credential_response}}):{data:null,error:l}}catch(i){return zr(i)?{data:null,error:i}:{data:null,error:new Mr("Unexpected error in register",i)}}}}!function(){if("object"!==typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(hl){"undefined"!==typeof self&&(self.globalThis=self)}}();const ss={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Or,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4,skipAutoInitialize:!1};async function is(e,t,n){return await n()}const os={};class ls{get jwks(){var e,t;return null!==(t=null===(e=os[this.storageKey])||void 0===e?void 0:e.jwks)&&void 0!==t?t:{keys:[]}}set jwks(e){os[this.storageKey]=Object.assign(Object.assign({},os[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return null!==(t=null===(e=os[this.storageKey])||void 0===e?void 0:e.cachedAt)&&void 0!==t?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){os[this.storageKey]=Object.assign(Object.assign({},os[this.storageKey]),{cachedAt:e})}constructor(e){var t,n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},ss),e);if(this.storageKey=a.storageKey,this.instanceID=null!==(t=ls.nextInstanceID[this.storageKey])&&void 0!==t?t:0,ls.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,"function"===typeof a.debug&&(this.logger=a.debug),this.instanceID>0&&la()){const e="".concat(this._logPrefix()," Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");console.warn(e),this.logDebugMessages&&console.trace(e)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new Da({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=da(a.fetch),this.lock=a.lock||is,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,this.lockAcquireTimeout=a.lockAcquireTimeout,a.lock?this.lock=a.lock:this.persistSession&&la()&&(null===(n=null===globalThis||void 0===globalThis?void 0:globalThis.navigator)||void 0===n?void 0:n.locks)?this.lock=Ba:this.lock=is,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new as(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:ua()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=za(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=za(this.memoryStorage)),la()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(hl){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",hl)}null===(r=this.broadcastChannel)||void 0===r||r.addEventListener("message",async e=>{this._debug("received broadcast notification from other tab or client",e);try{await this._notifyAllSubscribers(e.data.event,e.data.session,!1)}catch(t){this._debug("#broadcastChannel","error",t)}})}a.skipAutoInitialize||this.initialize().catch(e=>{this._debug("#initialize()","error",e)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return"GoTrueClient@"+"".concat(this.storageKey,":").concat(this.instanceID," (").concat(Cr,") ").concat((new Date).toISOString())}_debug(){if(this.logDebugMessages){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logger(this._logPrefix(),...t)}return this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))()),await this.initializePromise}async _initialize(){var e;try{let t={},n="none";if(la()&&(t=function(e){const t={},n=new URL(e);if(n.hash&&"#"===n.hash[0])try{new URLSearchParams(n.hash.substring(1)).forEach((e,n)=>{t[n]=e})}catch(hl){}return n.searchParams.forEach((e,n)=>{t[n]=e}),t}(window.location.href),this._isImplicitGrantCallback(t)?n="implicit":await this._isPKCECallback(t)&&(n="pkce")),la()&&this.detectSessionInUrl&&"none"!==n){const{data:r,error:a}=await this._getSessionFromURL(t,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),function(e){return zr(e)&&"AuthImplicitGrantRedirectError"===e.name}(a)){const t=null===(e=a.details)||void 0===e?void 0:e.code;if("identity_already_exists"===t||"identity_not_found"===t||"single_identity_not_deletable"===t)return{error:a}}return{error:a}}const{session:s,redirectType:i}=r;return this._debug("#_initialize()","detected session in URL",s,"redirect type",i),await this._saveSession(s),setTimeout(async()=>{"recovery"===i?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return zr(t)?this._returnResult({error:t}):this._returnResult({error:new Mr("Unexpected error during initialization",t)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,n,r;try{const a=await Ra(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,body:{data:null!==(n=null===(t=null===e||void 0===e?void 0:e.options)||void 0===t?void 0:t.data)&&void 0!==n?n:{},gotrue_meta_security:{captcha_token:null===(r=null===e||void 0===e?void 0:e.options)||void 0===r?void 0:r.captchaToken}},xform:Ca}),{data:s,error:i}=a;if(i||!s)return this._returnResult({data:{user:null,session:null},error:i});const o=s.session,l=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",o)),this._returnResult({data:{user:l,session:o},error:null})}catch(a){if(zr(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(e){var t,n,r;try{let a;if("email"in e){const{email:n,password:r,options:s}=e;let i=null,o=null;"pkce"===this.flowType&&([i,o]=await ba(this.storage,this.storageKey)),a=await Ra(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,redirectTo:null===s||void 0===s?void 0:s.emailRedirectTo,body:{email:n,password:r,data:null!==(t=null===s||void 0===s?void 0:s.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:null===s||void 0===s?void 0:s.captchaToken},code_challenge:i,code_challenge_method:o},xform:Ca})}else{if(!("phone"in e))throw new Hr("You must provide either an email or phone number and a password");{const{phone:t,password:s,options:i}=e;a=await Ra(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,body:{phone:t,password:s,data:null!==(n=null===i||void 0===i?void 0:i.data)&&void 0!==n?n:{},channel:null!==(r=null===i||void 0===i?void 0:i.channel)&&void 0!==r?r:"sms",gotrue_meta_security:{captcha_token:null===i||void 0===i?void 0:i.captchaToken}},xform:Ca})}}const{data:s,error:i}=a;if(i||!s)return await fa(this.storage,"".concat(this.storageKey,"-code-verifier")),this._returnResult({data:{user:null,session:null},error:i});const o=s.session,l=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",o)),this._returnResult({data:{user:l,session:o},error:null})}catch(a){if(await fa(this.storage,"".concat(this.storageKey,"-code-verifier")),zr(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(e){try{let t;if("email"in e){const{email:n,password:r,options:a}=e;t=await Ra(this.fetch,"POST","".concat(this.url,"/token?grant_type=password"),{headers:this.headers,body:{email:n,password:r,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}},xform:Ta})}else{if(!("phone"in e))throw new Hr("You must provide either an email or phone number and a password");{const{phone:n,password:r,options:a}=e;t=await Ra(this.fetch,"POST","".concat(this.url,"/token?grant_type=password"),{headers:this.headers,body:{phone:n,password:r,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}},xform:Ta})}}const{data:n,error:r}=t;if(r)return this._returnResult({data:{user:null,session:null},error:r});if(!n||!n.session||!n.user){const e=new Wr;return this._returnResult({data:{user:null,session:null},error:e})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:r})}catch(t){if(zr(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOAuth(e){var t,n,r,a;return await this._handleProviderSignIn(e.provider,{redirectTo:null===(t=e.options)||void 0===t?void 0:t.redirectTo,scopes:null===(n=e.options)||void 0===n?void 0:n.scopes,queryParams:null===(r=e.options)||void 0===r?void 0:r.queryParams,skipBrowserRedirect:null===(a=e.options)||void 0===a?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;switch(t){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error('@supabase/auth-js: Unsupported chain "'.concat(t,'"'))}}async signInWithEthereum(e){var t,n,r,a,s,i,o,l,c,u,d;let h,p;if("message"in e)h=e.message,p=e.signature;else{const{chain:u,wallet:d,statement:f,options:m}=e;let g;if(la())if("object"===typeof d)g=d;else{const e=window;if(!("ethereum"in e)||"object"!==typeof e.ethereum||!("request"in e.ethereum)||"function"!==typeof e.ethereum.request)throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.");g=e.ethereum}else{if("object"!==typeof d||!(null===m||void 0===m?void 0:m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");g=d}const v=new URL(null!==(t=null===m||void 0===m?void 0:m.url)&&void 0!==t?t:window.location.href),y=await g.request({method:"eth_requestAccounts"}).then(e=>e).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!y||0===y.length)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const b=qa(y[0]);let w=null===(n=null===m||void 0===m?void 0:m.signInWithEthereum)||void 0===n?void 0:n.chainId;if(!w){const e=await g.request({method:"eth_chainId"});w=parseInt(e,16)}h=function(e){var t;const{chainId:n,domain:r,expirationTime:a,issuedAt:s=new Date,nonce:i,notBefore:o,requestId:l,resources:c,scheme:u,uri:d,version:h}=e;if(!Number.isInteger(n))throw new Error('@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: '.concat(n));if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(i&&i.length<8)throw new Error('@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: '.concat(i));if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if("1"!==h)throw new Error("@supabase/auth-js: Invalid SIWE message field \"version\". Version must be '1'. Provided value: ".concat(h));if(null===(t=e.statement)||void 0===t?void 0:t.includes("\n"))throw new Error("@supabase/auth-js: Invalid SIWE message field \"statement\". Statement must not include '\\n'. Provided value: ".concat(e.statement));const p=qa(e.address),f=u?"".concat(u,"://").concat(r):r,m=e.statement?"".concat(e.statement,"\n"):"",g="".concat(f," wants you to sign in with your Ethereum account:\n").concat(p,"\n\n").concat(m);let v="URI: ".concat(d,"\nVersion: ").concat(h,"\nChain ID: ").concat(n).concat(i?"\nNonce: ".concat(i):"","\nIssued At: ").concat(s.toISOString());if(a&&(v+="\nExpiration Time: ".concat(a.toISOString())),o&&(v+="\nNot Before: ".concat(o.toISOString())),l&&(v+="\nRequest ID: ".concat(l)),c){let e="\nResources:";for(const t of c){if(!t||"string"!==typeof t)throw new Error('@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: '.concat(t));e+="\n- ".concat(t)}v+=e}return"".concat(g,"\n").concat(v)}({domain:v.host,address:b,statement:f,uri:v.href,version:"1",chainId:w,nonce:null===(r=null===m||void 0===m?void 0:m.signInWithEthereum)||void 0===r?void 0:r.nonce,issuedAt:null!==(s=null===(a=null===m||void 0===m?void 0:m.signInWithEthereum)||void 0===a?void 0:a.issuedAt)&&void 0!==s?s:new Date,expirationTime:null===(i=null===m||void 0===m?void 0:m.signInWithEthereum)||void 0===i?void 0:i.expirationTime,notBefore:null===(o=null===m||void 0===m?void 0:m.signInWithEthereum)||void 0===o?void 0:o.notBefore,requestId:null===(l=null===m||void 0===m?void 0:m.signInWithEthereum)||void 0===l?void 0:l.requestId,resources:null===(c=null===m||void 0===m?void 0:m.signInWithEthereum)||void 0===c?void 0:c.resources}),p=await g.request({method:"personal_sign",params:[Wa(h),b]})}try{const{data:t,error:n}=await Ra(this.fetch,"POST","".concat(this.url,"/token?grant_type=web3"),{headers:this.headers,body:Object.assign({chain:"ethereum",message:h,signature:p},(null===(u=e.options)||void 0===u?void 0:u.captchaToken)?{gotrue_meta_security:{captcha_token:null===(d=e.options)||void 0===d?void 0:d.captchaToken}}:null),xform:Ca});if(n)throw n;if(!t||!t.session||!t.user){const e=new Wr;return this._returnResult({data:{user:null,session:null},error:e})}return t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),this._returnResult({data:Object.assign({},t),error:n})}catch(f){if(zr(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async signInWithSolana(e){var t,n,r,a,s,i,o,l,c,u,d,h;let p,f;if("message"in e)p=e.message,f=e.signature;else{const{chain:d,wallet:h,statement:m,options:g}=e;let v;if(la())if("object"===typeof h)v=h;else{const e=window;if(!("solana"in e)||"object"!==typeof e.solana||!("signIn"in e.solana&&"function"===typeof e.solana.signIn||"signMessage"in e.solana&&"function"===typeof e.solana.signMessage))throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.");v=e.solana}else{if("object"!==typeof h||!(null===g||void 0===g?void 0:g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");v=h}const y=new URL(null!==(t=null===g||void 0===g?void 0:g.url)&&void 0!==t?t:window.location.href);if("signIn"in v&&v.signIn){const e=await v.signIn(Object.assign(Object.assign(Object.assign({issuedAt:(new Date).toISOString()},null===g||void 0===g?void 0:g.signInWithSolana),{version:"1",domain:y.host,uri:y.href}),m?{statement:m}:null));let t;if(Array.isArray(e)&&e[0]&&"object"===typeof e[0])t=e[0];else{if(!(e&&"object"===typeof e&&"signedMessage"in e&&"signature"in e))throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");t=e}if(!("signedMessage"in t&&"signature"in t&&("string"===typeof t.signedMessage||t.signedMessage instanceof Uint8Array)&&t.signature instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields");p="string"===typeof t.signedMessage?t.signedMessage:(new TextDecoder).decode(t.signedMessage),f=t.signature}else{if(!("signMessage"in v)||"function"!==typeof v.signMessage||!("publicKey"in v)||"object"!==typeof v||!v.publicKey||!("toBase58"in v.publicKey)||"function"!==typeof v.publicKey.toBase58)throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=["".concat(y.host," wants you to sign in with your Solana account:"),v.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1","URI: ".concat(y.href),"Issued At: ".concat(null!==(r=null===(n=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===n?void 0:n.issuedAt)&&void 0!==r?r:(new Date).toISOString()),...(null===(a=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===a?void 0:a.notBefore)?["Not Before: ".concat(g.signInWithSolana.notBefore)]:[],...(null===(s=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===s?void 0:s.expirationTime)?["Expiration Time: ".concat(g.signInWithSolana.expirationTime)]:[],...(null===(i=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===i?void 0:i.chainId)?["Chain ID: ".concat(g.signInWithSolana.chainId)]:[],...(null===(o=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===o?void 0:o.nonce)?["Nonce: ".concat(g.signInWithSolana.nonce)]:[],...(null===(l=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===l?void 0:l.requestId)?["Request ID: ".concat(g.signInWithSolana.requestId)]:[],...(null===(u=null===(c=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===c?void 0:c.resources)||void 0===u?void 0:u.length)?["Resources",...g.signInWithSolana.resources.map(e=>"- ".concat(e))]:[]].join("\n");const e=await v.signMessage((new TextEncoder).encode(p),"utf8");if(!e||!(e instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");f=e}}try{const{data:t,error:n}=await Ra(this.fetch,"POST","".concat(this.url,"/token?grant_type=web3"),{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:oa(f)},(null===(d=e.options)||void 0===d?void 0:d.captchaToken)?{gotrue_meta_security:{captcha_token:null===(h=e.options)||void 0===h?void 0:h.captchaToken}}:null),xform:Ca});if(n)throw n;if(!t||!t.session||!t.user){const e=new Wr;return this._returnResult({data:{user:null,session:null},error:e})}return t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),this._returnResult({data:Object.assign({},t),error:n})}catch(m){if(zr(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async _exchangeCodeForSession(e){const t=await pa(this.storage,"".concat(this.storageKey,"-code-verifier")),[n,r]=(null!==t&&void 0!==t?t:"").split("/");try{if(!n&&"pkce"===this.flowType)throw new Kr;const{data:t,error:a}=await Ra(this.fetch,"POST","".concat(this.url,"/token?grant_type=pkce"),{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Ca});if(await fa(this.storage,"".concat(this.storageKey,"-code-verifier")),a)throw a;if(!t||!t.session||!t.user){const e=new Wr;return this._returnResult({data:{user:null,session:null,redirectType:null},error:e})}return t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),this._returnResult({data:Object.assign(Object.assign({},t),{redirectType:null!==r&&void 0!==r?r:null}),error:a})}catch(a){if(await fa(this.storage,"".concat(this.storageKey,"-code-verifier")),zr(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(e){try{const{options:t,provider:n,token:r,access_token:a,nonce:s}=e,i=await Ra(this.fetch,"POST","".concat(this.url,"/token?grant_type=id_token"),{headers:this.headers,body:{provider:n,id_token:r,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:null===t||void 0===t?void 0:t.captchaToken}},xform:Ca}),{data:o,error:l}=i;if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!o||!o.session||!o.user){const e=new Wr;return this._returnResult({data:{user:null,session:null},error:e})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:o,error:l})}catch(t){if(zr(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOtp(e){var t,n,r,a,s;try{if("email"in e){const{email:r,options:a}=e;let s=null,i=null;"pkce"===this.flowType&&([s,i]=await ba(this.storage,this.storageKey));const{error:o}=await Ra(this.fetch,"POST","".concat(this.url,"/otp"),{headers:this.headers,body:{email:r,data:null!==(t=null===a||void 0===a?void 0:a.data)&&void 0!==t?t:{},create_user:null===(n=null===a||void 0===a?void 0:a.shouldCreateUser)||void 0===n||n,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken},code_challenge:s,code_challenge_method:i},redirectTo:null===a||void 0===a?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}if("phone"in e){const{phone:t,options:n}=e,{data:i,error:o}=await Ra(this.fetch,"POST","".concat(this.url,"/otp"),{headers:this.headers,body:{phone:t,data:null!==(r=null===n||void 0===n?void 0:n.data)&&void 0!==r?r:{},create_user:null===(a=null===n||void 0===n?void 0:n.shouldCreateUser)||void 0===a||a,gotrue_meta_security:{captcha_token:null===n||void 0===n?void 0:n.captchaToken},channel:null!==(s=null===n||void 0===n?void 0:n.channel)&&void 0!==s?s:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:null===i||void 0===i?void 0:i.message_id},error:o})}throw new Hr("You must provide either an email or phone number.")}catch(i){if(await fa(this.storage,"".concat(this.storageKey,"-code-verifier")),zr(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async verifyOtp(e){var t,n;try{let r,a;"options"in e&&(r=null===(t=e.options)||void 0===t?void 0:t.redirectTo,a=null===(n=e.options)||void 0===n?void 0:n.captchaToken);const{data:s,error:i}=await Ra(this.fetch,"POST","".concat(this.url,"/verify"),{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:r,xform:Ca});if(i)throw i;if(!s){throw new Error("An error occurred on token verification.")}const o=s.session,l=s.user;return(null===o||void 0===o?void 0:o.access_token)&&(await this._saveSession(o),await this._notifyAllSubscribers("recovery"==e.type?"PASSWORD_RECOVERY":"SIGNED_IN",o)),this._returnResult({data:{user:l,session:o},error:null})}catch(r){if(zr(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithSSO(e){var t,n,r,a,s;try{let i=null,o=null;"pkce"===this.flowType&&([i,o]=await ba(this.storage,this.storageKey));const l=await Ra(this.fetch,"POST","".concat(this.url,"/sso"),{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!==(n=null===(t=e.options)||void 0===t?void 0:t.redirectTo)&&void 0!==n?n:void 0}),(null===(r=null===e||void 0===e?void 0:e.options)||void 0===r?void 0:r.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Oa});return(null===(a=l.data)||void 0===a?void 0:a.url)&&la()&&!(null===(s=e.options)||void 0===s?void 0:s.skipBrowserRedirect)&&window.location.assign(l.data.url),this._returnResult(l)}catch(i){if(await fa(this.storage,"".concat(this.storageKey,"-code-verifier")),zr(i))return this._returnResult({data:null,error:i});throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:n}=e;if(n)throw n;if(!t)throw new Br;const{error:r}=await Ra(this.fetch,"GET","".concat(this.url,"/reauthenticate"),{headers:this.headers,jwt:t.access_token});return this._returnResult({data:{user:null,session:null},error:r})})}catch(e){if(zr(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const t="".concat(this.url,"/resend");if("email"in e){const{email:n,type:r,options:a}=e,{error:s}=await Ra(this.fetch,"POST",t,{headers:this.headers,body:{email:n,type:r,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}},redirectTo:null===a||void 0===a?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:s})}if("phone"in e){const{phone:n,type:r,options:a}=e,{data:s,error:i}=await Ra(this.fetch,"POST",t,{headers:this.headers,body:{phone:n,type:r,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:null===s||void 0===s?void 0:s.message_id},error:i})}throw new Hr("You must provide either an email or phone number and a type")}catch(t){if(zr(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async getSession(){await this.initializePromise;return await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async e=>e))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await n}catch(hl){}})()),n}return await this.lock("lock:".concat(this.storageKey),e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const e=t();for(this.pendingInLock.push((async()=>{try{await e}catch(hl){}})()),await e;this.pendingInLock.length;){const e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let e=null;const t=await pa(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),null!==t&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=!!e.expires_at&&1e3*e.expires_at-Date.now()<Ir;if(this._debug("#__loadSession()","session has".concat(n?"":" not"," expired"),"expires_at",e.expires_at),!n){if(this.userStorage){const t=await pa(this.userStorage,this.storageKey+"-user");(null===t||void 0===t?void 0:t.user)?e.user=t.user:e.user=ka()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const t={value:this.suppressGetSessionWarning};e.user=function(e,t){return new Proxy(e,{get:(e,n,r)=>{if("__isInsecureUserWarningProxy"===n)return!0;if("symbol"===typeof n){const t=n.toString();if("Symbol(Symbol.toPrimitive)"===t||"Symbol(Symbol.toStringTag)"===t||"Symbol(util.inspect.custom)"===t||"Symbol(nodejs.util.inspect.custom)"===t)return Reflect.get(e,n,r)}return t.value||"string"!==typeof n||(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(e,n,r)}})}(e.user,t),t.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:r,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:r},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const t=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return t.data.user&&(this.suppressGetSessionWarning=!0),t}async _getUser(e){try{return e?await Ra(this.fetch,"GET","".concat(this.url,"/user"),{headers:this.headers,jwt:e,xform:Ia}):await this._useSession(async e=>{var t,n,r;const{data:a,error:s}=e;if(s)throw s;return(null===(t=a.session)||void 0===t?void 0:t.access_token)||this.hasCustomAuthorizationHeader?await Ra(this.fetch,"GET","".concat(this.url,"/user"),{headers:this.headers,jwt:null!==(r=null===(n=a.session)||void 0===n?void 0:n.access_token)&&void 0!==r?r:void 0,xform:Ia}):{data:{user:null},error:new Br}})}catch(t){if(zr(t))return qr(t)&&(await this._removeSession(),await fa(this.storage,"".concat(this.storageKey,"-code-verifier"))),this._returnResult({data:{user:null},error:t});throw t}}async updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,t))}async _updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await this._useSession(async n=>{const{data:r,error:a}=n;if(a)throw a;if(!r.session)throw new Br;const s=r.session;let i=null,o=null;"pkce"===this.flowType&&null!=e.email&&([i,o]=await ba(this.storage,this.storageKey));const{data:l,error:c}=await Ra(this.fetch,"PUT","".concat(this.url,"/user"),{headers:this.headers,redirectTo:null===t||void 0===t?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:i,code_challenge_method:o}),jwt:s.access_token,xform:Ia});if(c)throw c;return s.user=l.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),this._returnResult({data:{user:s.user},error:null})})}catch(n){if(await fa(this.storage,"".concat(this.storageKey,"-code-verifier")),zr(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Br;const t=Date.now()/1e3;let n=t,r=!0,a=null;const{payload:s}=ga(e.access_token);if(s.exp&&(n=s.exp,r=n<=t),r){const{data:t,error:n}=await this._callRefreshToken(e.refresh_token);if(n)return this._returnResult({data:{user:null,session:null},error:n});if(!t)return{data:{user:null,session:null},error:null};a=t}else{const{data:r,error:s}=await this._getUser(e.access_token);if(s)return this._returnResult({data:{user:null,session:null},error:s});a={access_token:e.access_token,refresh_token:e.refresh_token,user:r.user,token_type:"bearer",expires_in:n-t,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(t){if(zr(t))return this._returnResult({data:{session:null,user:null},error:t});throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var n;if(!e){const{data:r,error:a}=t;if(a)throw a;e=null!==(n=r.session)&&void 0!==n?n:void 0}if(!(null===e||void 0===e?void 0:e.refresh_token))throw new Br;const{data:r,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):r?this._returnResult({data:{user:r.user,session:r},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(t){if(zr(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async _getSessionFromURL(e,t){try{if(!la())throw new Vr("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Vr(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if("pkce"===this.flowType)throw new Gr("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===this.flowType)throw new Vr("Not a valid implicit grant flow url.")}if("pkce"===t){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Gr("No code detected.");const{data:t,error:n}=await this._exchangeCodeForSession(e.code);if(n)throw n;const r=new URL(window.location.href);return r.searchParams.delete("code"),window.history.replaceState(window.history.state,"",r.toString()),{data:{session:t.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:r,access_token:a,refresh_token:s,expires_in:i,expires_at:o,token_type:l}=e;if(!a||!i||!s||!l)throw new Vr("No session defined in URL");const c=Math.round(Date.now()/1e3),u=parseInt(i);let d=c+u;o&&(d=parseInt(o));const h=d-c;1e3*h<=Tr&&console.warn("@supabase/gotrue-js: Session as retrieved from URL expires in ".concat(h,"s, should have been closer to ").concat(u,"s"));const p=d-u;c-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,d,c):c-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,d,c);const{data:f,error:m}=await this._getUser(a);if(m)throw m;const g={provider_token:n,provider_refresh_token:r,access_token:a,expires_in:u,expires_at:d,refresh_token:s,token_type:l,user:f.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:g,redirectType:e.type},error:null})}catch(n){if(zr(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return"function"===typeof this.detectSessionInUrl?this.detectSessionInUrl(new URL(window.location.href),e):Boolean(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await pa(this.storage,"".concat(this.storageKey,"-code-verifier"));return!(!e.code||!t)}async signOut(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut(){let{scope:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this._useSession(async t=>{var n;const{data:r,error:a}=t;if(a&&!qr(a))return this._returnResult({error:a});const s=null===(n=r.session)||void 0===n?void 0:n.access_token;if(s){const{error:t}=await this.admin.signOut(s,e);if(t&&(!function(e){return zr(e)&&"AuthApiError"===e.name}(t)||404!==t.status&&401!==t.status&&403!==t.status)&&!qr(t))return this._returnResult({error:t})}return"others"!==e&&(await this._removeSession(),await fa(this.storage,"".concat(this.storageKey,"-code-verifier"))),this._returnResult({error:null})})}onAuthStateChange(e){const t=Symbol("auth-callback"),n={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,n),(async()=>{await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(t)})})(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async t=>{var n,r;try{const{data:{session:r},error:a}=t;if(a)throw a;await(null===(n=this.stateChangeEmitters.get(e))||void 0===n?void 0:n.callback("INITIAL_SESSION",r)),this._debug("INITIAL_SESSION","callback id",e,"session",r)}catch(a){await(null===(r=this.stateChangeEmitters.get(e))||void 0===r?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null,r=null;"pkce"===this.flowType&&([n,r]=await ba(this.storage,this.storageKey,!0));try{return await Ra(this.fetch,"POST","".concat(this.url,"/recover"),{body:{email:e,code_challenge:n,code_challenge_method:r,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(a){if(await fa(this.storage,"".concat(this.storageKey,"-code-verifier")),zr(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var e;try{const{data:t,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:null!==(e=t.user.identities)&&void 0!==e?e:[]},error:null})}catch(t){if(zr(t))return this._returnResult({data:null,error:t});throw t}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var t;try{const{data:n,error:r}=await this._useSession(async t=>{var n,r,a,s,i;const{data:o,error:l}=t;if(l)throw l;const c=await this._getUrlForProvider("".concat(this.url,"/user/identities/authorize"),e.provider,{redirectTo:null===(n=e.options)||void 0===n?void 0:n.redirectTo,scopes:null===(r=e.options)||void 0===r?void 0:r.scopes,queryParams:null===(a=e.options)||void 0===a?void 0:a.queryParams,skipBrowserRedirect:!0});return await Ra(this.fetch,"GET",c,{headers:this.headers,jwt:null!==(i=null===(s=o.session)||void 0===s?void 0:s.access_token)&&void 0!==i?i:void 0})});if(r)throw r;return la()&&!(null===(t=e.options)||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(null===n||void 0===n?void 0:n.url),this._returnResult({data:{provider:e.provider,url:null===n||void 0===n?void 0:n.url},error:null})}catch(n){if(zr(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async t=>{var n;try{const{error:r,data:{session:a}}=t;if(r)throw r;const{options:s,provider:i,token:o,access_token:l,nonce:c}=e,u=await Ra(this.fetch,"POST","".concat(this.url,"/token?grant_type=id_token"),{headers:this.headers,jwt:null!==(n=null===a||void 0===a?void 0:a.access_token)&&void 0!==n?n:void 0,body:{provider:i,id_token:o,access_token:l,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:null===s||void 0===s?void 0:s.captchaToken}},xform:Ca}),{data:d,error:h}=u;return h?this._returnResult({data:{user:null,session:null},error:h}):d&&d.session&&d.user?(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("USER_UPDATED",d.session)),this._returnResult({data:d,error:h})):this._returnResult({data:{user:null,session:null},error:new Wr})}catch(r){if(await fa(this.storage,"".concat(this.storageKey,"-code-verifier")),zr(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}async unlinkIdentity(e){try{return await this._useSession(async t=>{var n,r;const{data:a,error:s}=t;if(s)throw s;return await Ra(this.fetch,"DELETE","".concat(this.url,"/user/identities/").concat(e.identity_id),{headers:this.headers,jwt:null!==(r=null===(n=a.session)||void 0===n?void 0:n.access_token)&&void 0!==r?r:void 0})})}catch(t){if(zr(t))return this._returnResult({data:null,error:t});throw t}}async _refreshAccessToken(e){const t="#_refreshAccessToken(".concat(e.substring(0,5),"...)");this._debug(t,"begin");try{const a=Date.now();return await(n=async n=>(n>0&&await async function(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}(200*Math.pow(2,n-1)),this._debug(t,"refreshing attempt",n),await Ra(this.fetch,"POST","".concat(this.url,"/token?grant_type=refresh_token"),{body:{refresh_token:e},headers:this.headers,xform:Ca})),r=(e,t)=>{const n=200*Math.pow(2,e);return t&&$r(t)&&Date.now()+n-a<Tr},new Promise((e,t)=>{(async()=>{for(let a=0;a<1/0;a++)try{const t=await n(a);if(!r(a,null,t))return void e(t)}catch(hl){if(!r(a,hl))return void t(hl)}})()}))}catch(a){if(this._debug(t,"error",a),zr(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}finally{this._debug(t,"end")}var n,r}_isValidSession(e){return"object"===typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const n=await this._getUrlForProvider("".concat(this.url,"/authorize"),e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",n),la()&&!t.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await pa(this.storage,this.storageKey);if(a&&this.userStorage){let t=await pa(this.userStorage,this.storageKey+"-user");this.storage.isServer||!Object.is(this.storage,this.userStorage)||t||(t={user:a.user},await ha(this.userStorage,this.storageKey+"-user",t)),a.user=null!==(e=null===t||void 0===t?void 0:t.user)&&void 0!==e?e:ka()}else if(a&&!a.user&&!a.user){const e=await pa(this.storage,this.storageKey+"-user");e&&(null===e||void 0===e?void 0:e.user)?(a.user=e.user,await fa(this.storage,this.storageKey+"-user"),await ha(this.storage,this.storageKey,a)):a.user=ka()}if(this._debug(n,"session from storage",a),!this._isValidSession(a))return this._debug(n,"session is not valid"),void(null!==a&&await this._removeSession());const s=1e3*(null!==(t=a.expires_at)&&void 0!==t?t:1/0)-Date.now()<Ir;if(this._debug(n,"session has".concat(s?"":" not"," expired with margin of ").concat(Ir,"s")),s){if(this.autoRefreshToken&&a.refresh_token){const{error:e}=await this._callRefreshToken(a.refresh_token);e&&(console.error(e),$r(e)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",e),await this._removeSession()))}}else if(a.user&&!0===a.user.__isUserNotAvailableProxy)try{const{data:e,error:t}=await this._getUser(a.access_token);!t&&(null===e||void 0===e?void 0:e.user)?(a.user=e.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(r){console.error("Error getting user data:",r),this._debug(n,"error getting user data, skipping SIGNED_IN notification",r)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){return this._debug(n,"error",a),void console.error(a)}finally{this._debug(n,"end")}}async _callRefreshToken(e){var t,n;if(!e)throw new Br;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r="#_callRefreshToken(".concat(e.substring(0,5),"...)");this._debug(r,"begin");try{this.refreshingDeferred=new ma;const{data:t,error:n}=await this._refreshAccessToken(e);if(n)throw n;if(!t.session)throw new Br;await this._saveSession(t.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);const r={data:t.session,error:null};return this.refreshingDeferred.resolve(r),r}catch(a){if(this._debug(r,"error",a),zr(a)){const e={data:null,error:a};return $r(a)||await this._removeSession(),null===(t=this.refreshingDeferred)||void 0===t||t.resolve(e),e}throw null===(n=this.refreshingDeferred)||void 0===n||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r="#_notifyAllSubscribers(".concat(e,")");this._debug(r,"begin",t,"broadcast = ".concat(n));try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:t});const r=[],a=Array.from(this.stateChangeEmitters.values()).map(async n=>{try{await n.callback(e,t)}catch(hl){r.push(hl)}});if(await Promise.all(a),r.length>0){for(let e=0;e<r.length;e+=1)console.error(r[e]);throw r[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await fa(this.storage,"".concat(this.storageKey,"-code-verifier"));const t=Object.assign({},e),n=t.user&&!0===t.user.__isUserNotAvailableProxy;if(this.userStorage){!n&&t.user&&await ha(this.userStorage,this.storageKey+"-user",{user:t.user});const e=Object.assign({},t);delete e.user;const r=_a(e);await ha(this.storage,this.storageKey,r)}else{const e=_a(t);await ha(this.storage,this.storageKey,e)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await fa(this.storage,this.storageKey),await fa(this.storage,this.storageKey+"-code-verifier"),await fa(this.storage,this.storageKey+"-user"),this.userStorage&&await fa(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&la()&&(null===window||void 0===window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(hl){console.error("removing visibilitychange callback failed",hl)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Tr);this.autoRefreshTicker=e,e&&"object"===typeof e&&"function"===typeof e.unref?e.unref():"undefined"!==typeof Deno&&"function"===typeof Deno.unrefTimer&&Deno.unrefTimer(e);const t=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=t,t&&"object"===typeof t&&"function"===typeof t.unref?t.unref():"undefined"!==typeof Deno&&"function"===typeof Deno.unrefTimer&&Deno.unrefTimer(t)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const t=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,t&&clearTimeout(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:n}}=t;if(!n||!n.refresh_token||!n.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");const r=Math.floor((1e3*n.expires_at-e)/Tr);this._debug("#_autoRefreshTokenTick()","access token expires in ".concat(r," ticks, a tick lasts ").concat(Tr,"ms, refresh threshold is ").concat(3," ticks")),r<=3&&await this._callRefreshToken(n.refresh_token)})}catch(hl){console.error("Auto refresh tick failed with error. This is likely a transient error.",hl)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(hl){if(!(hl.isAcquireTimeout||hl instanceof Ma))throw hl;this._debug("auto refresh token tick lock not available")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!la()||!(null===window||void 0===window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(e){this._debug("#visibilityChangedCallback","error",e)}},null===window||void 0===window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t="#_onVisibilityChanged(".concat(e,")");this._debug(t,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{"visible"===document.visibilityState?await this._recoverAndRefresh():this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")}))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,n){const r=["provider=".concat(encodeURIComponent(t))];if((null===n||void 0===n?void 0:n.redirectTo)&&r.push("redirect_to=".concat(encodeURIComponent(n.redirectTo))),(null===n||void 0===n?void 0:n.scopes)&&r.push("scopes=".concat(encodeURIComponent(n.scopes))),"pkce"===this.flowType){const[e,t]=await ba(this.storage,this.storageKey),n=new URLSearchParams({code_challenge:"".concat(encodeURIComponent(e)),code_challenge_method:"".concat(encodeURIComponent(t))});r.push(n.toString())}if(null===n||void 0===n?void 0:n.queryParams){const e=new URLSearchParams(n.queryParams);r.push(e.toString())}return(null===n||void 0===n?void 0:n.skipBrowserRedirect)&&r.push("skip_http_redirect=".concat(n.skipBrowserRedirect)),"".concat(e,"?").concat(r.join("&"))}async _unenroll(e){try{return await this._useSession(async t=>{var n;const{data:r,error:a}=t;return a?this._returnResult({data:null,error:a}):await Ra(this.fetch,"DELETE","".concat(this.url,"/factors/").concat(e.factorId),{headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token})})}catch(t){if(zr(t))return this._returnResult({data:null,error:t});throw t}}async _enroll(e){try{return await this._useSession(async t=>{var n,r;const{data:a,error:s}=t;if(s)return this._returnResult({data:null,error:s});const i=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},"phone"===e.factorType?{phone:e.phone}:"totp"===e.factorType?{issuer:e.issuer}:{}),{data:o,error:l}=await Ra(this.fetch,"POST","".concat(this.url,"/factors"),{body:i,headers:this.headers,jwt:null===(n=null===a||void 0===a?void 0:a.session)||void 0===n?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):("totp"===e.factorType&&"totp"===o.type&&(null===(r=null===o||void 0===o?void 0:o.totp)||void 0===r?void 0:r.qr_code)&&(o.totp.qr_code="data:image/svg+xml;utf-8,".concat(o.totp.qr_code)),this._returnResult({data:o,error:null}))})}catch(t){if(zr(t))return this._returnResult({data:null,error:t});throw t}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async t=>{var n;const{data:r,error:a}=t;if(a)return this._returnResult({data:null,error:a});const s=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:"create"===e.webauthn.type?Ya(e.webauthn.credential_response):Xa(e.webauthn.credential_response)})}:{code:e.code}),{data:i,error:o}=await Ra(this.fetch,"POST","".concat(this.url,"/factors/").concat(e.factorId,"/verify"),{body:s,headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token});return o?this._returnResult({data:null,error:o}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),this._returnResult({data:i,error:o}))})}catch(t){if(zr(t))return this._returnResult({data:null,error:t});throw t}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async t=>{var n;const{data:r,error:a}=t;if(a)return this._returnResult({data:null,error:a});const s=await Ra(this.fetch,"POST","".concat(this.url,"/factors/").concat(e.factorId,"/challenge"),{body:e,headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token});if(s.error)return s;const{data:i}=s;if("webauthn"!==i.type)return{data:i,error:null};switch(i.webauthn.type){case"create":return{data:Object.assign(Object.assign({},i),{webauthn:Object.assign(Object.assign({},i.webauthn),{credential_options:Object.assign(Object.assign({},i.webauthn.credential_options),{publicKey:$a(i.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},i),{webauthn:Object.assign(Object.assign({},i.webauthn),{credential_options:Object.assign(Object.assign({},i.webauthn.credential_options),{publicKey:Qa(i.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(t){if(zr(t))return this._returnResult({data:null,error:t});throw t}})}async _challengeAndVerify(e){const{data:t,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){var e;const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r={all:[],phone:[],totp:[],webauthn:[]};for(const a of null!==(e=null===t||void 0===t?void 0:t.factors)&&void 0!==e?e:[])r.all.push(a),"verified"===a.status&&r[a.factor_type].push(a);return{data:r,error:null}}async _getAuthenticatorAssuranceLevel(e){var t,n,r,a;if(e)try{const{payload:r}=ga(e);let a=null;r.aal&&(a=r.aal);let s=a;const{data:{user:i},error:o}=await this.getUser(e);if(o)return this._returnResult({data:null,error:o});(null!==(n=null===(t=null===i||void 0===i?void 0:i.factors)||void 0===t?void 0:t.filter(e=>"verified"===e.status))&&void 0!==n?n:[]).length>0&&(s="aal2");return{data:{currentLevel:a,nextLevel:s,currentAuthenticationMethods:r.amr||[]},error:null}}catch(u){if(zr(u))return this._returnResult({data:null,error:u});throw u}const{data:{session:s},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=ga(s.access_token);let l=null;o.aal&&(l=o.aal);let c=l;(null!==(a=null===(r=s.user.factors)||void 0===r?void 0:r.filter(e=>"verified"===e.status))&&void 0!==a?a:[]).length>0&&(c="aal2");return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:o.amr||[]},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await Ra(this.fetch,"GET","".concat(this.url,"/oauth/authorizations/").concat(e),{headers:this.headers,jwt:n.access_token,xform:e=>({data:e,error:null})}):this._returnResult({data:null,error:new Br})})}catch(t){if(zr(t))return this._returnResult({data:null,error:t});throw t}}async _approveAuthorization(e,t){try{return await this._useSession(async n=>{const{data:{session:r},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!r)return this._returnResult({data:null,error:new Br});const s=await Ra(this.fetch,"POST","".concat(this.url,"/oauth/authorizations/").concat(e,"/consent"),{headers:this.headers,jwt:r.access_token,body:{action:"approve"},xform:e=>({data:e,error:null})});return s.data&&s.data.redirect_url&&la()&&!(null===t||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(n){if(zr(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,t){try{return await this._useSession(async n=>{const{data:{session:r},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!r)return this._returnResult({data:null,error:new Br});const s=await Ra(this.fetch,"POST","".concat(this.url,"/oauth/authorizations/").concat(e,"/consent"),{headers:this.headers,jwt:r.access_token,body:{action:"deny"},xform:e=>({data:e,error:null})});return s.data&&s.data.redirect_url&&la()&&!(null===t||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(n){if(zr(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:t},error:n}=e;return n?this._returnResult({data:null,error:n}):t?await Ra(this.fetch,"GET","".concat(this.url,"/user/oauth/grants"),{headers:this.headers,jwt:t.access_token,xform:e=>({data:e,error:null})}):this._returnResult({data:null,error:new Br})})}catch(e){if(zr(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?(await Ra(this.fetch,"DELETE","".concat(this.url,"/user/oauth/grants"),{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Br})})}catch(t){if(zr(t))return this._returnResult({data:null,error:t});throw t}}async fetchJwk(e){let t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{keys:[]}).keys.find(t=>t.kid===e);if(t)return t;const n=Date.now();if(t=this.jwks.keys.find(t=>t.kid===e),t&&this.jwks_cached_at+6e5>n)return t;const{data:r,error:a}=await Ra(this.fetch,"GET","".concat(this.url,"/.well-known/jwks.json"),{headers:this.headers});if(a)throw a;return r.keys&&0!==r.keys.length?(this.jwks=r,this.jwks_cached_at=n,t=r.keys.find(t=>t.kid===e),t||null):null}async getClaims(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{let n=e;if(!n){const{data:e,error:t}=await this.getSession();if(t||!e.session)return this._returnResult({data:null,error:t});n=e.session.access_token}const{header:r,payload:a,signature:s,raw:{header:i,payload:o}}=ga(n);(null===t||void 0===t?void 0:t.allowExpired)||function(e){if(!e)throw new Error("Missing exp claim");if(e<=Math.floor(Date.now()/1e3))throw new Error("JWT has expired")}(a.exp);const l=r.alg&&!r.alg.startsWith("HS")&&r.kid&&"crypto"in globalThis&&"subtle"in globalThis.crypto?await this.fetchJwk(r.kid,(null===t||void 0===t?void 0:t.keys)?{keys:t.keys}:null===t||void 0===t?void 0:t.jwks):null;if(!l){const{error:e}=await this.getUser(n);if(e)throw e;return{data:{claims:a,header:r,signature:s},error:null}}const c=function(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}(r.alg),u=await crypto.subtle.importKey("jwk",l,c,!0,["verify"]);if(!await crypto.subtle.verify(c,u,s,function(e){const t=[];return sa(e,e=>t.push(e)),new Uint8Array(t)}("".concat(i,".").concat(o))))throw new Yr("Invalid JWT signature");return{data:{claims:a,header:r,signature:s},error:null}}catch(n){if(zr(n))return this._returnResult({data:null,error:n});throw n}}}ls.nextInstanceID={};const cs=ls;let us="";us="undefined"!==typeof Deno?"deno":"undefined"!==typeof document?"web":"undefined"!==typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";const ds={headers:{"X-Client-Info":"supabase-js-".concat(us,"/").concat("2.97.0")}},hs={schema:"public"},ps={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},fs={};function ms(e){return(ms="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gs(e){var t=function(e,t){if("object"!=ms(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ms(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ms(t)?t:t+""}function vs(e,t,n){return(t=gs(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function bs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ys(Object(n),!0).forEach(function(t){vs(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const ws=(e,t,n)=>{const r=(e=>e?function(){return e(...arguments)}:function(){return fetch(...arguments)})(n),a=Headers;return async(n,s)=>{var i;const o=null!==(i=await t())&&void 0!==i?i:e;let l=new a(null===s||void 0===s?void 0:s.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization","Bearer ".concat(o)),r(n,bs(bs({},s),{},{headers:l}))}};var Ss=class extends cs{constructor(e){super(e)}},xs=class{constructor(e,t,n){var r,a;this.supabaseUrl=e,this.supabaseKey=t;const s=function(e){const t=null===e||void 0===e?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(function(e){return e.endsWith("/")?e:e+"/"}(t))}catch(n){throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const i="sb-".concat(s.hostname.split(".")[0],"-auth-token"),o=function(e,t){var n,r;const{db:a,auth:s,realtime:i,global:o}=e,{db:l,auth:c,realtime:u,global:d}=t,h={db:bs(bs({},l),a),auth:bs(bs({},c),s),realtime:bs(bs({},u),i),storage:{},global:bs(bs(bs({},d),o),{},{headers:bs(bs({},null!==(n=null===d||void 0===d?void 0:d.headers)&&void 0!==n?n:{}),null!==(r=null===o||void 0===o?void 0:o.headers)&&void 0!==r?r:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}(null!==n&&void 0!==n?n:{},{db:hs,realtime:fs,auth:bs(bs({},ps),{},{storageKey:i}),global:ds});var l;(this.storageKey=null!==(r=o.auth.storageKey)&&void 0!==r?r:"",this.headers=null!==(a=o.global.headers)&&void 0!==a?a:{},o.accessToken)?(this.accessToken=o.accessToken,this.auth=new Proxy({},{get:(e,t)=>{throw new Error("@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.".concat(String(t)," is not possible"))}})):this.auth=this._initSupabaseAuthClient(null!==(l=o.auth)&&void 0!==l?l:{},this.headers,o.global.fetch);this.fetch=ws(t,this._getAccessToken.bind(this),o.global.fetch),this.realtime=this._initRealtimeClient(bs({headers:this.headers,accessToken:this._getAccessToken.bind(this)},o.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(e=>this.realtime.setAuth(e)).catch(e=>console.warn("Failed to set initial Realtime auth token:",e)),this.rest=new en(new URL("rest/v1",s).href,{headers:this.headers,schema:o.db.schema,fetch:this.fetch,timeout:o.db.timeout,urlLengthLimit:o.db.urlLengthLimit}),this.storage=new Rr(this.storageUrl.href,this.headers,this.fetch,null===n||void 0===n?void 0:n.storage),o.accessToken||this._listenForAuthEvents()}get functions(){return new qt(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{head:!1,get:!1,count:void 0};return this.rest.rpc(e,t,n)}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,t,n=this;if(n.accessToken)return await n.accessToken();const{data:r}=await n.auth.getSession();return null!==(e=null===(t=r.session)||void 0===t?void 0:t.access_token)&&void 0!==e?e:n.supabaseKey}_initSupabaseAuthClient(e,t,n){let{autoRefreshToken:r,persistSession:a,detectSessionInUrl:s,storage:i,userStorage:o,storageKey:l,flowType:c,lock:u,debug:d,throwOnError:h}=e;const p={Authorization:"Bearer ".concat(this.supabaseKey),apikey:"".concat(this.supabaseKey)};return new Ss({url:this.authUrl.href,headers:bs(bs({},p),t),storageKey:l,autoRefreshToken:r,persistSession:a,detectSessionInUrl:s,storage:i,userStorage:o,flowType:c,lock:u,debug:d,throwOnError:h,fetch:n,hasCustomAuthorizationHeader:Object.keys(this.headers).some(e=>"authorization"===e.toLowerCase())})}_initRealtimeClient(e){return new zn(this.realtimeUrl.href,bs(bs({},e),{},{params:bs(bs({},{apikey:this.supabaseKey}),null===e||void 0===e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",null===t||void 0===t?void 0:t.access_token)})}_handleTokenChanged(e,t,n){"TOKEN_REFRESHED"!==e&&"SIGNED_IN"!==e||this.changedAccessToken===n?"SIGNED_OUT"===e&&(this.realtime.setAuth(),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0):(this.changedAccessToken=n,this.realtime.setAuth(n))}};(function(){if("undefined"!==typeof window)return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(void 0===t||null===t)return!1;const n=t.match(/^v(\d+)\./);return!!n&&parseInt(n[1],10)<=18})()&&console.warn("\u26a0\ufe0f  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const ks="https://qomrbwbhrcpttepbywfj.supabase.co",_s="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFvbXJid2JocmNwdHRlcGJ5d2ZqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzE2OTI0MjAsImV4cCI6MjA4NzI2ODQyMH0.aX1SwVXxdOeaLcCpmwwo9m8lpBwnVpg7xxcZee46DCg",js=ks&&_s?new xs(ks,_s,Ns):null;var Ns;const Es=Boolean(js);let Rs="idle",Cs=[];function Ts(){return Rs}function Is(e){return Cs.push(e),()=>{Cs=Cs.filter(t=>t!==e)}}function Os(e){Rs=e,Cs.forEach(t=>t(e))}async function Ps(e){if(!js||!e)return;const t=Us(localStorage.getItem("exercises"),[]);if(0===t.length)return;const n=t.map(t=>({id:String(t.id),user_id:e,name:t.name,muscle_group:t.muscleGroup,type:t.type||"Strength"})),{error:r}=await js.from("exercises").upsert(n,{onConflict:"id,user_id"});r&&console.error("[sync] pushExercises:",r)}async function As(e){if(!js||!e)return;const t=Us(localStorage.getItem("workoutPlans"),[]);if(0===t.length)return;const n=t.map(t=>({id:String(t.id),user_id:e,name:t.name,exercises:t.exercises||[]})),{error:r}=await js.from("workout_plans").upsert(n,{onConflict:"id,user_id"});r&&console.error("[sync] pushPlans:",r)}async function Ls(e){if(!js||!e)return;const t=Us(localStorage.getItem("exerciseLogs"),{}),n=[];for(const[s,i]of Object.entries(t))for(const t of i)t.remoteId||n.push({user_id:e,exercise_id:String(s),date:t.date,sets:t.sets,best_set:t.bestSet||null,total_reps:t.totalReps||0,total_volume:t.totalVolume||0});if(0===n.length)return;const{data:r,error:a}=await js.from("exercise_logs").insert(n).select();if(a)console.error("[sync] pushLogs:",a);else if(r){const e=Us(localStorage.getItem("exerciseLogs"),{});for(const t of r){const n=e[t.exercise_id];if(!n)continue;const r=n.find(e=>e.date===t.date&&!e.remoteId);r&&(r.remoteId=t.id)}localStorage.setItem("exerciseLogs",JSON.stringify(e))}}async function Ds(e){if(!js||!e)return;const t={},n=localStorage.getItem("currentPlanId");n&&(t.currentPlanId=n);const r=localStorage.getItem("timerAutoStart");null!==r&&(t.timerAutoStart="true"===r);const a=Us(localStorage.getItem("timerRestDefaults"),null);a&&Object.keys(a).length>0&&(t.timerRestDefaults=a);const{error:s}=await js.from("user_settings").upsert({user_id:e,settings:t},{onConflict:"user_id"});s&&console.error("[sync] pushSettings:",s)}async function zs(e,t){if(!js||!t)return;const{error:n}=await js.from("workout_plans").upsert({id:String(e.id),user_id:t,name:e.name,exercises:e.exercises||[]},{onConflict:"id,user_id"});n&&console.error("[sync] pushPlan:",n)}function Us(e,t){try{return e?JSON.parse(e):t}catch(n){return t}}function Ms(e,t){const n=new Map;for(const r of e)n.set(String(r.id),r);for(const r of t)n.set(String(r.id),r);return Array.from(n.values())}var Fs=n(579);const Bs=(0,r.createContext)(null);function qs(e){let{children:t}=e;const[n,a]=(0,r.useState)(null),[s,i]=(0,r.useState)(!0),[o,l]=(0,r.useState)(!1),[c,u]=(0,r.useState)(null),[h,p]=(0,r.useState)(Ts());(0,r.useEffect)(()=>Is(e=>{p(e),l("syncing"===e),u("error"===e?"Sync failed":null)}),[]);const f=(0,r.useCallback)(async e=>{if(js&&e){l(!0),u(null);try{await async function(e){if(js&&e){Os("syncing");try{const[t,n,r,a,s]=await Promise.all([js.from("exercises").select("*").eq("user_id",e),js.from("workout_plans").select("*").eq("user_id",e),js.from("exercise_logs").select("*").eq("user_id",e),js.from("user_settings").select("*").eq("user_id",e).maybeSingle(),js.from("workout_timer_state").select("*").eq("user_id",e).maybeSingle()]);if(t.error)throw t.error;if(n.error)throw n.error;if(r.error)throw r.error;if(a.error)throw a.error;if(s.error&&console.warn("[sync] timer state pull failed:",s.error),t.data&&t.data.length>0){const e=t.data.map(e=>({id:e.id,name:e.name,muscleGroup:e.muscle_group,type:e.type||"Strength"})),n=Ms(Us(localStorage.getItem("exercises"),[]),e);localStorage.setItem("exercises",JSON.stringify(n))}if(n.data&&n.data.length>0){const e=n.data.map(e=>({id:e.id,name:e.name,exercises:e.exercises||[],createdAt:e.created_at})),t=Ms(Us(localStorage.getItem("workoutPlans"),[]),e);localStorage.setItem("workoutPlans",JSON.stringify(t))}if(r.data&&r.data.length>0){const e=Us(localStorage.getItem("exerciseLogs"),{}),t={};for(const a of r.data){const e=a.exercise_id;t[e]||(t[e]=[]),t[e].push({date:a.date,sets:a.sets||[],bestSet:a.best_set||null,totalReps:a.total_reps||0,totalVolume:a.total_volume||0,remoteId:a.id})}const n=d({},e);for(const[r,a]of Object.entries(t)){const e=n[r]||[],t=new Set(e.map(e=>e.date));for(const n of a)t.has(n.date)||e.push(n);n[r]=e}localStorage.setItem("exerciseLogs",JSON.stringify(n))}if(a.data&&a.data.settings){const e=a.data.settings;e.currentPlanId&&localStorage.setItem("currentPlanId",e.currentPlanId),void 0!==e.timerAutoStart&&localStorage.setItem("timerAutoStart",e.timerAutoStart?"true":"false"),e.timerRestDefaults&&localStorage.setItem("timerRestDefaults",JSON.stringify(e.timerRestDefaults))}if(s.data&&s.data.state){const e=Us(localStorage.getItem("workoutTimerState"),null),t=s.data.state;e&&"idle"!==e.phase||localStorage.setItem("workoutTimerState",JSON.stringify(t))}Os("idle")}catch(t){throw console.error("[sync] pullAll failed:",t),Os("error"),t}}}(e),await async function(e){if(js&&e){Os("syncing");try{await Promise.all([Ps(e),As(e),Ls(e),Ds(e)]),Os("idle")}catch(t){console.error("[sync] pushAll failed:",t),Os("error")}}}(e)}catch(t){console.error("[AuthContext] syncData error:",t),u(t.message||"Sync failed")}finally{l(!1)}}},[]);(0,r.useEffect)(()=>{if(!Es)return void i(!1);js.auth.getSession().then(e=>{var t;let{data:{session:n}}=e;const r=null!==(t=null===n||void 0===n?void 0:n.user)&&void 0!==t?t:null;a(r),r&&f(r.id),i(!1)});const{data:{subscription:e}}=js.auth.onAuthStateChange((e,t)=>{var n;const r=null!==(n=null===t||void 0===t?void 0:t.user)&&void 0!==n?n:null;a(r),r&&f(r.id)});return()=>e.unsubscribe()},[f]);const m={user:n,loading:s,syncing:o,syncError:c,syncStatus:h,signOut:(0,r.useCallback)(async()=>{js&&await js.auth.signOut(),a(null)},[]),syncData:f,isConfigured:Es};return(0,Fs.jsx)(Bs.Provider,{value:m,children:t})}function Ws(){const e=(0,r.useContext)(Bs);if(!e)throw new Error("useAuth must be used within AuthProvider");return e}function Hs(e){const t=Math.floor(Math.max(0,e)/1e3),n=Math.floor(t/60),r=t%60;return"".concat(n,":").concat(r.toString().padStart(2,"0"))}const Vs="timerRestDefaults",Gs="timerAutoStart";function Ks(e){try{const t=JSON.parse(localStorage.getItem(Vs)||"{}");return"number"===typeof t[e]?t[e]:90}catch(t){return 90}}function Js(){try{return"true"===localStorage.getItem(Gs)}catch(e){return!1}}const $s="workoutTimerState",Qs=18e5,Ys="idle",Xs="exercising",Zs="resting",ei="alert";function ti(){try{localStorage.removeItem($s)}catch(e){}}function ni(e){return e&&e.exerciseStartedAt?e.phase===Xs?Date.now()-e.exerciseStartedAt-(e.pausedDuration||0):e.exerciseElapsedFrozen||0:0}function ri(e){return e&&e.restEndAt&&(e.phase===Zs||e.phase===ei)?Math.max(0,e.restEndAt-Date.now()):0}function ai(){const e=function(){try{const e=localStorage.getItem($s);return e?JSON.parse(e):null}catch(e){return null}}();if(e&&e.phase!==Ys){if(e.exerciseStartedAt){if(Date.now()-e.exerciseStartedAt-(e.pausedDuration||0)>Qs)return ti(),si()}return(e.phase===Zs||e.phase===ei)&&e.restEndAt&&Date.now()>=e.restEndAt?(ti(),si()):e}return si()}function si(){return{phase:Ys,exerciseId:null,exerciseStartedAt:null,pausedDuration:0,exerciseElapsedFrozen:0,restEndAt:null,restDurationMs:0}}function ii(e,t){switch(t.type){case"START_EXERCISE":return d(d({},e),{},{phase:Xs,exerciseId:t.exerciseId,exerciseStartedAt:Date.now(),pausedDuration:0,exerciseElapsedFrozen:0,restEndAt:null});case"START_REST":{const n=t.durationMs,r=ni(e);return d(d({},e),{},{phase:Zs,exerciseElapsedFrozen:r,exerciseStartedAt:null,pausedDuration:0,restEndAt:Date.now()+n,restDurationMs:n})}case"ENTER_ALERT":return d(d({},e),{},{phase:ei});case"REST_ENDED":return t.autoStart?d(d({},e),{},{phase:Xs,exerciseStartedAt:Date.now(),pausedDuration:0,exerciseElapsedFrozen:0,restEndAt:null}):d(d({},si()),{},{exerciseId:e.exerciseId,restDurationMs:e.restDurationMs});case"RESET":return si();case"SET_EXERCISE_ID":return d(d({},e),{},{exerciseId:t.exerciseId});case"SET_REST_DURATION":return d(d({},e),{},{restDurationMs:t.durationMs});case"RESTORE":return t.state;default:return e}}const oi=(0,r.createContext)(null);function li(e){let{children:t}=e;const[n,a]=(0,r.useReducer)(ii,null,ai),[s,i]=r.useState("0:00"),[o,l]=r.useState("0:00"),[c,u]=r.useState(0),d=(0,r.useRef)(n),h=(0,r.useRef)(null),p=(0,r.useRef)(null),f=(0,r.useRef)(!1);(0,r.useEffect)(()=>{d.current=n},[n]),(0,r.useEffect)(()=>{n.phase===Ys?ti():function(e){try{localStorage.setItem($s,JSON.stringify(e))}catch(t){}}(n)},[n]);const m=(0,r.useCallback)(e=>{js&&js.auth.getUser().then(t=>{var n;let{data:r}=t;const a=null===r||void 0===r||null===(n=r.user)||void 0===n?void 0:n.id;a&&js.from("workout_timer_state").upsert({user_id:a,state:e.phase===Ys?null:e,updated_at:(new Date).toISOString()},{onConflict:"user_id"}).then(e=>{let{error:t}=e;t&&console.warn("[TimerContext] Supabase sync failed:",t)})})},[]),g=(0,r.useRef)(n.phase);(0,r.useEffect)(()=>{n.phase!==g.current&&(g.current=n.phase,m(n))},[n,m]);const v=(0,r.useCallback)(()=>{if(p.current)return;u(0);let e=0;p.current=setInterval(()=>{e=(e+1)%3,u(e)},400)},[]),y=(0,r.useCallback)(()=>{p.current&&(clearInterval(p.current),p.current=null),u(0)},[]),b=(0,r.useCallback)(()=>{const e=d.current;if(e){if(e.phase===Xs){const t=ni(e);if(i(Hs(t)),t>=Qs)return a({type:"RESET"}),void y()}if(e.phase===Zs||e.phase===ei){const t=ri(e);if(l(Hs(t)),e.phase===Zs&&t<=5e3&&t>0&&(a({type:"ENTER_ALERT"}),v()),t<=0&&!f.current){f.current=!0,y(),function(){try{navigator.vibrate&&navigator.vibrate([200,100,200,100,400])}catch(hl){}}(),function(){try{const e=new(window.AudioContext||window.webkitAudioContext),t=e.createOscillator(),n=e.createGain();t.connect(n),n.connect(e.destination),t.type="sine",t.frequency.setValueAtTime(880,e.currentTime),t.frequency.exponentialRampToValueAtTime(440,e.currentTime+.3),n.gain.setValueAtTime(.6,e.currentTime),n.gain.exponentialRampToValueAtTime(.001,e.currentTime+.6),t.start(e.currentTime),t.stop(e.currentTime+.6),[.7,1.4].forEach(t=>{const n=e.createOscillator(),r=e.createGain();n.connect(r),r.connect(e.destination),n.type="sine",n.frequency.setValueAtTime(880,e.currentTime+t),n.frequency.exponentialRampToValueAtTime(440,e.currentTime+t+.3),r.gain.setValueAtTime(.6,e.currentTime+t),r.gain.exponentialRampToValueAtTime(.001,e.currentTime+t+.6),n.start(e.currentTime+t),n.stop(e.currentTime+t+.6)}),setTimeout(()=>e.close(),2200)}catch(hl){}}();const e=Js();a({type:"REST_ENDED",autoStart:e})}}}},[v,y]);(0,r.useEffect)(()=>(n.phase!==Ys?(f.current=!1,h.current||(h.current=setInterval(b,100)),b()):(h.current&&(clearInterval(h.current),h.current=null),y(),i("0:00"),l("0:00")),n.phase===ei&&v(),()=>{}),[n.phase,b,y,v]),(0,r.useEffect)(()=>()=>{h.current&&clearInterval(h.current),p.current&&clearInterval(p.current)},[]);const w=(0,r.useCallback)(e=>{var t;y(),a({type:"START_EXERCISE",exerciseId:e||(null===(t=d.current)||void 0===t?void 0:t.exerciseId)})},[y]),S=(0,r.useCallback)(e=>{var t;const n=e||(null===(t=d.current)||void 0===t?void 0:t.restDurationMs)||9e4;a({type:"START_REST",durationMs:n})},[]),x=(0,r.useCallback)(()=>{y(),a({type:"RESET"})},[y]),k=(0,r.useCallback)(e=>{a({type:"SET_EXERCISE_ID",exerciseId:e})},[]),_=(0,r.useCallback)(e=>{a({type:"SET_REST_DURATION",durationMs:e})},[]),j=(0,r.useCallback)(()=>{y(),a({type:"RESET"}),ti(),m(si())},[y,m]),N={phase:n.phase,exerciseId:n.exerciseId,isIdle:n.phase===Ys,isExercising:n.phase===Xs,isResting:n.phase===Zs||n.phase===ei,isAlert:n.phase===ei,isRunning:n.phase!==Ys,exerciseDisplay:s,restDisplay:o,flashIdx:c,exerciseElapsedMs:ni(n),restRemainingMs:ri(n),restDurationMs:n.restDurationMs,startExercise:w,startRest:S,reset:x,setExerciseId:k,setRestDuration:_,stopAll:j};return(0,Fs.jsx)(oi.Provider,{value:N,children:t})}function ci(){const e=(0,r.useContext)(oi);if(!e)throw new Error("useTimer must be used within TimerProvider");return e}const ui=(0,r.createContext)(null),di="coach_profile",hi="coach_metadata",pi="coach_cardio";function fi(){return{onboardingComplete:!1,experience:null,daysPerWeek:null,sessionDuration:null,goal:null,equipment:null,injuries:[],planId:null,progression:"conservative",weekNumber:1,startDate:null,encouragementStyle:"balanced",feedbackFrequency:"normal"}}function mi(){return{bestOverloadLever:{},restPreferences:{},plateauRisk:{},progressionConfidence:50,allOutAllowed:!1,injuryFlags:{},fatigueScore:0,lastSessionDate:null,totalSessions:0}}function gi(){return{weeklyLogs:[],weeklyTarget:150}}function vi(e,t){try{const n=localStorage.getItem(e);return n?d(d({},t()),JSON.parse(n)):t()}catch(n){return t()}}function yi(e,t){try{localStorage.setItem(e,JSON.stringify(t))}catch(n){}}function bi(){return{profile:vi(di,fi),metadata:vi(hi,mi),cardio:vi(pi,gi),coachActive:!1}}function wi(e,t){switch(t.type){case"SET_PROFILE":return d(d({},e),{},{profile:d(d({},e.profile),t.payload)});case"SET_METADATA":return d(d({},e),{},{metadata:d(d({},e.metadata),t.payload)});case"SET_CARDIO":return d(d({},e),{},{cardio:d(d({},e.cardio),t.payload)});case"ADD_CARDIO_LOG":{const n=[...e.cardio.weeklyLogs,t.payload];return d(d({},e),{},{cardio:d(d({},e.cardio),{},{weeklyLogs:n})})}case"ACTIVATE_COACH":return d(d({},e),{},{coachActive:!0});case"DEACTIVATE_COACH":return d(d({},e),{},{coachActive:!1});case"RESET_COACH":return{profile:{onboardingComplete:!1,experience:null,daysPerWeek:null,sessionDuration:null,goal:null,equipment:null,injuries:[],planId:null,progression:"conservative",weekNumber:1,startDate:null,encouragementStyle:"balanced",feedbackFrequency:"normal"},metadata:{bestOverloadLever:{},restPreferences:{},plateauRisk:{},progressionConfidence:50,allOutAllowed:!1,injuryFlags:{},fatigueScore:0,lastSessionDate:null,totalSessions:0},cardio:{weeklyLogs:[],weeklyTarget:150},coachActive:!1};default:return e}}function Si(e){let{children:t}=e;const[n,a]=(0,r.useReducer)(wi,null,bi);(0,r.useEffect)(()=>{yi(di,n.profile)},[n.profile]),(0,r.useEffect)(()=>{yi(hi,n.metadata)},[n.metadata]),(0,r.useEffect)(()=>{yi(pi,n.cardio)},[n.cardio]);const s=(0,r.useCallback)(e=>{a({type:"SET_PROFILE",payload:e})},[]),i=(0,r.useCallback)(e=>{a({type:"SET_METADATA",payload:e})},[]),o=(0,r.useCallback)(e=>{a({type:"SET_PROFILE",payload:d(d({},e),{},{onboardingComplete:!0,startDate:(new Date).toISOString(),weekNumber:1})})},[]),l=(0,r.useCallback)(()=>{a({type:"ACTIVATE_COACH"})},[]),c=(0,r.useCallback)(()=>{a({type:"DEACTIVATE_COACH"})},[]),u=(0,r.useCallback)(e=>{a({type:"ADD_CARDIO_LOG",payload:d(d({},e),{},{date:(new Date).toISOString()})})},[]),h=(0,r.useCallback)(()=>{a({type:"RESET_COACH"}),localStorage.removeItem(di),localStorage.removeItem(hi),localStorage.removeItem(pi)},[]),p=n.profile.onboardingComplete,f=n.profile.startDate?Math.floor((Date.now()-new Date(n.profile.startDate).getTime())/6048e5)+1:0,m=n.metadata.allOutAllowed&&f>=4,g=new Date;g.setDate(g.getDate()-g.getDay()),g.setHours(0,0,0,0);const v=n.cardio.weeklyLogs.filter(e=>new Date(e.date)>=g).reduce((e,t)=>e+("walk"===t.type?.5*t.minutes:t.minutes),0);const y={profile:n.profile,metadata:n.metadata,cardio:n.cardio,coachActive:n.coachActive,isOnboarded:p,weeksActive:f,canUseAllOut:m,weeklyCardioMinutes:v,cardioTarget:n.cardio.weeklyTarget,targetRIR:"conservative"===n.profile.progression?f<=1?"6-10":f<=2?"5":f<=3?"3-4":f<=4?"2-3":f<=8?"1-2":"0":f<=1?"3-4":f<=2?"2-3":f<=3?"1-2":"0",updateProfile:s,updateMetadata:i,completeOnboarding:o,activateCoach:l,deactivateCoach:c,addCardioLog:u,resetCoach:h};return(0,Fs.jsx)(ui.Provider,{value:y,children:t})}function xi(){const e=(0,r.useContext)(ui);if(!e)throw new Error("useCoach must be used within CoachProvider");return e}const ki=[{to:"/",label:"Dashboard",icon:"\ud83c\udfe0",end:!0},{to:"/workouts",label:"Workouts",icon:"\ud83c\udfcb\ufe0f",end:!1},{to:"/coach",label:"Coach",icon:"\ud83e\udde0",end:!1},{to:"/exercises",label:"Exercises",icon:"\ud83d\udccb",end:!1},{to:"/profile",label:"Profile",icon:"\ud83d\udc64",end:!1}];function _i(){try{const e=JSON.parse(localStorage.getItem("exerciseLogs")||"{}"),t=(new Date).toDateString();let n=0;for(const r of Object.values(e))for(const e of r)new Date(e.date).toDateString()===t&&(n+=e.totalVolume||0);return n}catch(e){return 0}}function ji(){const[e,t]=(0,r.useState)(_i);return(0,r.useEffect)(()=>{function e(){t(_i())}return window.addEventListener("storage",e),window.addEventListener("exerciseLogged",e),()=>{window.removeEventListener("storage",e),window.removeEventListener("exerciseLogged",e)}},[]),(0,Fs.jsx)("nav",{className:"bottom-nav",children:ki.map(t=>{return(0,Fs.jsxs)(Rt,{to:t.to,end:t.end,className:e=>{let{isActive:t}=e;return"nav-tab ".concat(t?"active":"")},children:[(0,Fs.jsx)("span",{className:"nav-icon",children:t.icon}),(0,Fs.jsx)("span",{className:"nav-label",children:t.label}),"/exercises"===t.to&&e>0&&(0,Fs.jsx)("span",{className:"nav-badge",children:(n=e,n>=1e3?"".concat((n/1e3).toFixed(1),"t"):"".concat(n,"kg"))})]},t.to);var n})})}function Ni(){const[e,t]=(0,r.useState)("signin"),[n,a]=(0,r.useState)(""),[s,i]=(0,r.useState)(""),[o,l]=(0,r.useState)(null),[c,u]=(0,r.useState)(null),[d,h]=(0,r.useState)(!1);return(0,Fs.jsx)("div",{className:"auth-screen",children:(0,Fs.jsxs)("div",{className:"auth-card",children:[(0,Fs.jsx)("div",{className:"auth-logo",children:"\ud83d\udcaa"}),(0,Fs.jsx)("h1",{className:"auth-title",children:"RepTrack"}),(0,Fs.jsx)("p",{className:"auth-subtitle",children:"signin"===e?"Sign in to sync your training data":"Create an account"}),(0,Fs.jsxs)("form",{className:"auth-form",onSubmit:async function(t){t.preventDefault(),l(null),u(null),h(!0);try{if("signup"===e){const{error:e}=await js.auth.signUp({email:n,password:s});if(e)throw e;u("Check your email for a confirmation link.")}else{const{error:e}=await js.auth.signInWithPassword({email:n,password:s});if(e)throw e}}catch(r){l(r.message||"Something went wrong")}finally{h(!1)}},children:[(0,Fs.jsxs)("div",{className:"auth-field",children:[(0,Fs.jsx)("label",{className:"auth-label",htmlFor:"auth-email",children:"Email"}),(0,Fs.jsx)("input",{id:"auth-email",className:"auth-input",type:"email",autoComplete:"email",placeholder:"you@example.com",value:n,onChange:e=>a(e.target.value),required:!0})]}),(0,Fs.jsxs)("div",{className:"auth-field",children:[(0,Fs.jsx)("label",{className:"auth-label",htmlFor:"auth-password",children:"Password"}),(0,Fs.jsx)("input",{id:"auth-password",className:"auth-input",type:"password",autoComplete:"signup"===e?"new-password":"current-password",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",value:s,onChange:e=>i(e.target.value),minLength:6,required:!0})]}),o&&(0,Fs.jsx)("div",{className:"auth-error",children:o}),c&&(0,Fs.jsx)("div",{className:"auth-info",children:c}),(0,Fs.jsx)("button",{className:"auth-submit",type:"submit",disabled:d,children:d?"Please wait\u2026":"signin"===e?"Sign In":"Create Account"})]}),(0,Fs.jsx)("button",{className:"auth-toggle",onClick:()=>{t(e=>"signin"===e?"signup":"signin"),l(null),u(null)},children:"signin"===e?"Don't have an account? Sign up":"Already have an account? Sign in"})]})})}function Ei(e){let{onSkip:t}=e;const[n,a]=(0,r.useState)(!1);return(0,Fs.jsx)("div",{className:"auth-screen",children:(0,Fs.jsxs)("div",{className:"auth-card",children:[(0,Fs.jsx)("div",{className:"auth-logo",children:"\ud83d\udcaa"}),(0,Fs.jsx)("h1",{className:"auth-title",children:"RepTrack"}),(0,Fs.jsx)("p",{className:"auth-subtitle",children:"Cloud sync is not configured"}),n?(0,Fs.jsxs)(Fs.Fragment,{children:[(0,Fs.jsxs)("div",{className:"setup-steps",children:[(0,Fs.jsxs)("p",{children:[(0,Fs.jsx)("strong",{children:"1."})," Create a free project at ",(0,Fs.jsx)("a",{href:"https://supabase.com",target:"_blank",rel:"noreferrer",children:"supabase.com"})]}),(0,Fs.jsxs)("p",{children:[(0,Fs.jsx)("strong",{children:"2."})," Run ",(0,Fs.jsx)("code",{children:"supabase/schema.sql"})," in the SQL editor"]}),(0,Fs.jsxs)("p",{children:[(0,Fs.jsx)("strong",{children:"3."})," Create ",(0,Fs.jsx)("code",{children:".env"})," in the project root:"]}),(0,Fs.jsx)("pre",{className:"setup-code",children:"REACT_APP_SUPABASE_URL=https://xxxx.supabase.co\nREACT_APP_SUPABASE_ANON_KEY=eyJ..."}),(0,Fs.jsxs)("p",{children:[(0,Fs.jsx)("strong",{children:"4."})," Restart with ",(0,Fs.jsx)("code",{children:"npm start"})]}),(0,Fs.jsxs)("p",{children:[(0,Fs.jsx)("strong",{children:"5."})," For GitHub Pages deploy, add these as repository secrets / Actions env vars and rebuild."]})]}),(0,Fs.jsx)("button",{className:"auth-toggle",onClick:t,children:"Continue without sync \u2192"}),(0,Fs.jsx)("button",{className:"auth-toggle",style:{marginTop:4},onClick:()=>a(!1),children:"\u2190 Back"})]}):(0,Fs.jsxs)(Fs.Fragment,{children:[(0,Fs.jsxs)("p",{className:"setup-info",children:["The app works fully offline. To enable cross-device sync via Supabase, add your credentials to ",(0,Fs.jsx)("code",{children:".env"}),"."]}),(0,Fs.jsx)("button",{className:"auth-submit",onClick:()=>a(!0),children:"How to set up sync"}),(0,Fs.jsx)("button",{className:"auth-toggle",onClick:t,children:"Continue without sync \u2192"})]})]})})}function Ri(){return(0,Fs.jsxs)("div",{className:"page",children:[(0,Fs.jsx)("h2",{className:"page-heading",children:"Good evening \ud83d\udc4b"}),(0,Fs.jsx)("p",{className:"page-sub",children:"Ready to crush it today?"}),(0,Fs.jsxs)("div",{className:"card",children:[(0,Fs.jsx)("div",{className:"card-label",children:"Today's goal"}),(0,Fs.jsx)("div",{className:"card-value",children:"Upper Body"})]}),(0,Fs.jsxs)("div",{className:"card",children:[(0,Fs.jsx)("div",{className:"card-label",children:"Streak"}),(0,Fs.jsx)("div",{className:"card-value",children:"\ud83d\udd25 5 days"})]}),(0,Fs.jsxs)("div",{className:"card",children:[(0,Fs.jsx)("div",{className:"card-label",children:"Last workout"}),(0,Fs.jsx)("div",{className:"card-value",children:"Yesterday \u2014 Legs"})]})]})}function Ci(){return(0,Fs.jsxs)("div",{className:"page",children:[(0,Fs.jsx)("h2",{className:"page-heading",children:"Dashboard"}),(0,Fs.jsx)("p",{className:"page-sub",children:"Overview of your training progress"}),(0,Fs.jsxs)("div",{className:"stats-grid",children:[(0,Fs.jsxs)("div",{className:"stat-card",children:[(0,Fs.jsx)("span",{className:"stat-value",children:"\u2014"}),(0,Fs.jsx)("span",{className:"stat-label",children:"Workouts This Week"})]}),(0,Fs.jsxs)("div",{className:"stat-card",children:[(0,Fs.jsx)("span",{className:"stat-value",children:"\u2014"}),(0,Fs.jsx)("span",{className:"stat-label",children:"Current Streak"})]}),(0,Fs.jsxs)("div",{className:"stat-card",children:[(0,Fs.jsx)("span",{className:"stat-value",children:"\u2014"}),(0,Fs.jsx)("span",{className:"stat-label",children:"Total Volume"})]}),(0,Fs.jsxs)("div",{className:"stat-card",children:[(0,Fs.jsx)("span",{className:"stat-value",children:"\u2014"}),(0,Fs.jsx)("span",{className:"stat-label",children:"Avg Session Time"})]})]})]})}const Ti=[{name:"Bench Press",sets:4,reps:"8\u201310"},{name:"Pull-ups",sets:3,reps:"6\u20138"},{name:"Shoulder Press",sets:3,reps:"10\u201312"},{name:"Tricep Dips",sets:3,reps:"12"}];function Ii(){return(0,Fs.jsxs)("div",{className:"page",children:[(0,Fs.jsx)("h2",{className:"page-heading",children:"Today's Workout \ud83d\udcaa"}),(0,Fs.jsx)("p",{className:"page-sub",children:"Upper Body \u2014 Est. 45 min"}),(0,Fs.jsx)("div",{className:"exercise-list",children:Ti.map((e,t)=>(0,Fs.jsxs)("div",{className:"exercise-card",children:[(0,Fs.jsx)("div",{className:"exercise-name",children:e.name}),(0,Fs.jsxs)("div",{className:"exercise-meta",children:[e.sets," sets \xd7 ",e.reps," reps"]})]},t))}),(0,Fs.jsx)("button",{className:"btn-primary",children:"Start Workout"})]})}const Oi={Chest:"\ud83c\udfcb\ufe0f",Back:"\ud83d\udd19",Legs:"\ud83e\uddb5",Shoulders:"\ud83d\ude46",Arms:"\ud83d\udcaa",Core:"\ud83e\uddd8",default:"\u26a1"};function Pi(e){return Oi[e]||Oi.default}const Ai="legs-biceps-day",Li="upper-body-day",Di={id:Ai,name:"Legs & Biceps Day",createdAt:(new Date).toISOString(),exercises:[{exerciseId:"e-slps",prescribedSets:5,prescribedReps:16},{exerciseId:"e-hs",prescribedSets:4,prescribedReps:12},{exerciseId:"e-le",prescribedSets:3,prescribedReps:20},{exerciseId:"e-cu",prescribedSets:3,prescribedReps:15},{exerciseId:"e-llc",prescribedSets:3,prescribedReps:20},{exerciseId:"e-ic",prescribedSets:3,prescribedReps:15},{exerciseId:"e-crlp",prescribedSets:3,prescribedReps:20},{exerciseId:"e-rdl",prescribedSets:3,prescribedReps:12},{exerciseId:"e-pc",prescribedSets:3,prescribedReps:12},{exerciseId:"e-hc",prescribedSets:2,prescribedReps:12},{exerciseId:"e-scr",prescribedSets:3,prescribedReps:20}]},zi={id:Li,name:"Upper Body Day",createdAt:(new Date).toISOString(),exercises:[{exerciseId:"ub-cp",prescribedSets:5,prescribedReps:15},{exerciseId:"ub-lpwog",prescribedSets:5,prescribedReps:15},{exerciseId:"ub-ibpsm",prescribedSets:3,prescribedReps:12},{exerciseId:"ub-cubw",prescribedSets:3,prescribedReps:12},{exerciseId:"ub-sp",prescribedSets:3,prescribedReps:12},{exerciseId:"ub-csrwng",prescribedSets:3,prescribedReps:12},{exerciseId:"ub-lr",prescribedSets:3,prescribedReps:20},{exerciseId:"ub-rbwg",prescribedSets:3,prescribedReps:20},{exerciseId:"ub-bwg",prescribedSets:3,prescribedReps:15},{exerciseId:"ub-plc",prescribedSets:3,prescribedReps:15},{exerciseId:"ub-plbd",prescribedSets:2,prescribedReps:15},{exerciseId:"ub-scc",prescribedSets:3,prescribedReps:12},{exerciseId:"ub-tp",prescribedSets:2,prescribedReps:12},{exerciseId:"ub-otxr",prescribedSets:2,prescribedReps:15}]},Ui=[{id:"e-slps",name:"Single Leg Press Sideways",muscleGroup:"Legs",type:"Strength"},{id:"e-hs",name:"Hack Squats",muscleGroup:"Legs",type:"Strength"},{id:"e-le",name:"Leg Extensions",muscleGroup:"Legs",type:"Strength"},{id:"e-cu",name:"Curls",muscleGroup:"Arms",type:"Strength"},{id:"e-llc",name:"Lying Leg Curls",muscleGroup:"Legs",type:"Strength"},{id:"e-ic",name:"Incline Curls",muscleGroup:"Arms",type:"Strength"},{id:"e-crlp",name:"Calf Raises on Leg Press",muscleGroup:"Legs",type:"Strength"},{id:"e-rdl",name:"Romanian Deadlifts",muscleGroup:"Legs",type:"Strength"},{id:"e-pc",name:"Preacher Curls",muscleGroup:"Arms",type:"Strength"},{id:"e-hc",name:"Hammer Curls",muscleGroup:"Arms",type:"Strength"},{id:"e-scr",name:"Seated Calf Raises",muscleGroup:"Legs",type:"Strength"},{id:"ub-cp",name:"Chest Press",muscleGroup:"Chest",type:"Strength"},{id:"ub-lpwog",name:"Lat Pulldowns with Wide Overhand Grip",muscleGroup:"Back",type:"Strength"},{id:"ub-ibpsm",name:"Incline Bench Press (Smith machine)",muscleGroup:"Chest",type:"Strength"},{id:"ub-cubw",name:"Chin-Ups (Bodyweight)",muscleGroup:"Back",type:"Strength"},{id:"ub-sp",name:"Shoulder Press",muscleGroup:"Shoulders",type:"Strength"},{id:"ub-csrwng",name:"Chest-Supported Rows Wide Neutral Grip",muscleGroup:"Back",type:"Strength"},{id:"ub-lr",name:"Lateral Raises",muscleGroup:"Shoulders",type:"Strength"},{id:"ub-rbwg",name:"Reverse Butterfly with Wide Grip",muscleGroup:"Back",type:"Strength"},{id:"ub-bwg",name:"Butterfly with Wide Grip",muscleGroup:"Chest",type:"Strength"},{id:"ub-plc",name:"Pullovers (Cable)",muscleGroup:"Back",type:"Strength"},{id:"ub-plbd",name:"Pullovers on Bench (Dumbbells)",muscleGroup:"Back",type:"Strength"},{id:"ub-scc",name:"Skull Crushers (Cable)",muscleGroup:"Arms",type:"Strength"},{id:"ub-tp",name:"Triceps Pushdowns",muscleGroup:"Arms",type:"Strength"},{id:"ub-otxr",name:"Overhead Triceps Extensions with Rope",muscleGroup:"Arms",type:"Strength"}];function Mi(){try{const e=localStorage.getItem("workoutPlans"),t=e?JSON.parse(e):[];let n=!1;if(t.find(e=>e.id===Ai)||(t.unshift(Di),n=!0),!t.find(e=>e.id===Li)){const e=t.findIndex(e=>e.id===Ai);t.splice(e+1,0,zi),n=!0}return n&&localStorage.setItem("workoutPlans",JSON.stringify(t)),t}catch(e){return[Di,zi]}}function Fi(e){localStorage.setItem("workoutPlans",JSON.stringify(e))}function Bi(){return localStorage.getItem("currentPlanId")||Ai}function qi(e){localStorage.setItem("currentPlanId",e)}function Wi(){try{const e=localStorage.getItem("activeWorkoutSession");return e?JSON.parse(e):null}catch(e){return null}}function Hi(e){e?localStorage.setItem("activeWorkoutSession",JSON.stringify(e)):localStorage.removeItem("activeWorkoutSession")}function Vi(){try{const e=localStorage.getItem("exercises"),t=e?JSON.parse(e):[];let n=!1;for(const r of Ui)t.find(e=>e.id===r.id)||(t.push(r),n=!0);return n&&localStorage.setItem("exercises",JSON.stringify(t)),t}catch(e){return localStorage.setItem("exercises",JSON.stringify(Ui)),Ui}}function Gi(e){if(!e)return"";const t=Math.floor((Date.now()-new Date(e).getTime())/1e3),n=Math.floor(t/60),r=t%60;return"".concat(n,":").concat(String(r).padStart(2,"0"))}function Ki(e){let{planEx:t,exercise:n,onSave:a,onClose:s}=e;const[i,o]=(0,r.useState)(String(t.prescribedSets)),[l,c]=(0,r.useState)(String(t.prescribedReps));return(0,Fs.jsx)("div",{className:"workout-modal-overlay",onClick:s,children:(0,Fs.jsxs)("div",{className:"workout-modal",onClick:e=>e.stopPropagation(),children:[(0,Fs.jsxs)("div",{children:[(0,Fs.jsx)("h3",{className:"workout-modal__title",children:(null===n||void 0===n?void 0:n.name)||"Exercise"}),(0,Fs.jsxs)("p",{className:"workout-modal__sub",children:[null===n||void 0===n?void 0:n.muscleGroup," \xb7 Edit prescription"]})]}),(0,Fs.jsx)("div",{className:"prescription-editor",children:(0,Fs.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr auto 1fr",gap:8,alignItems:"end"},children:[(0,Fs.jsxs)("div",{children:[(0,Fs.jsx)("div",{className:"prescription-label",children:"Sets"}),(0,Fs.jsx)("input",{className:"prescription-input",type:"number",min:"1",max:"20",value:i,onChange:e=>o(e.target.value),autoFocus:!0})]}),(0,Fs.jsx)("div",{className:"prescription-x",children:"\xd7"}),(0,Fs.jsxs)("div",{children:[(0,Fs.jsx)("div",{className:"prescription-label",children:"Reps"}),(0,Fs.jsx)("input",{className:"prescription-input",type:"number",min:"1",max:"200",value:l,onChange:e=>c(e.target.value)})]})]})}),(0,Fs.jsxs)("div",{className:"workout-modal__actions",children:[(0,Fs.jsx)("button",{className:"btn-primary",onClick:function(){const e=Math.max(1,parseInt(i,10)||1),t=Math.max(1,parseInt(l,10)||1);a(e,t)},children:"Save"}),(0,Fs.jsx)("button",{className:"btn-secondary",onClick:s,children:"Cancel"})]})]})})}function Ji(e){let{allExercises:t,planExerciseIds:n,onAdd:a,onClose:s}=e;const[i,o]=(0,r.useState)(""),l=t.filter(e=>{const t=i.toLowerCase();return e.name.toLowerCase().includes(t)}),c=t.some(e=>e.name.toLowerCase()===i.toLowerCase()),u=i.length>1&&!c;return(0,Fs.jsx)("div",{className:"workout-modal-overlay",onClick:s,children:(0,Fs.jsxs)("div",{className:"workout-modal",onClick:e=>e.stopPropagation(),children:[(0,Fs.jsxs)("div",{children:[(0,Fs.jsx)("h3",{className:"workout-modal__title",children:"Add Exercise"}),(0,Fs.jsx)("p",{className:"workout-modal__sub",children:"Search or create a new one"})]}),(0,Fs.jsx)("input",{className:"exercise-search-input",placeholder:"Search exercises\u2026",value:i,onChange:e=>o(e.target.value),autoFocus:!0}),(0,Fs.jsxs)("div",{className:"exercise-search-results",children:[l.map(e=>{const t=n.includes(e.id);return(0,Fs.jsxs)("div",{className:"exercise-search-row",onClick:()=>!t&&function(e){n.includes(e.id)||a(e)}(e),style:t?{opacity:.4,cursor:"not-allowed"}:{},children:[(0,Fs.jsx)("span",{style:{fontSize:20},children:Pi(e.muscleGroup)}),(0,Fs.jsx)("span",{className:"exercise-search-name",children:e.name}),(0,Fs.jsx)("span",{className:"exercise-search-meta",children:e.muscleGroup}),t&&(0,Fs.jsx)("span",{style:{fontSize:11,color:"#9999b3"},children:"Added"})]},e.id)}),u&&(0,Fs.jsxs)("div",{className:"exercise-search-row create-new",onClick:function(){const e=i.trim();if(!e)return;const t={id:"ex-".concat(Date.now()),name:e,muscleGroup:"Legs",type:"Strength"};a(t,!0)},children:['+ Create "',i,'"']}),0===l.length&&!u&&(0,Fs.jsx)("p",{style:{color:"#9999b3",fontSize:13,textAlign:"center",padding:"12px 0"},children:"No exercises found"})]}),(0,Fs.jsx)("button",{className:"btn-secondary",onClick:s,children:"Cancel"})]})})}function $i(e){let{onSave:t,onClose:n}=e;const[a,s]=(0,r.useState)("");function i(){const e=a.trim();e&&t(e)}return(0,Fs.jsx)("div",{className:"workout-modal-overlay",onClick:n,children:(0,Fs.jsxs)("div",{className:"workout-modal",onClick:e=>e.stopPropagation(),children:[(0,Fs.jsxs)("div",{children:[(0,Fs.jsx)("h3",{className:"workout-modal__title",children:"New Plan"}),(0,Fs.jsx)("p",{className:"workout-modal__sub",children:"Give your workout plan a name"})]}),(0,Fs.jsx)("input",{className:"plan-name-input",placeholder:"e.g. Push Day, Full Body\u2026",value:a,onChange:e=>s(e.target.value),onKeyDown:e=>"Enter"===e.key&&i(),autoFocus:!0}),(0,Fs.jsxs)("div",{className:"workout-modal__actions",children:[(0,Fs.jsx)("button",{className:"btn-primary",onClick:i,disabled:!a.trim(),children:"Create Plan"}),(0,Fs.jsx)("button",{className:"btn-secondary",onClick:n,children:"Cancel"})]})]})})}function Qi(){const e=_e(),{user:t}=Ws(),n=ci(),[a,s]=(0,r.useState)(Mi),[i,o]=(0,r.useState)(Vi),[l,c]=(0,r.useState)(Bi),[u,h]=(0,r.useState)(Wi),[p,f]=(0,r.useState)(""),[m,g]=(0,r.useState)(null),[v,y]=(0,r.useState)(!1),[b,w]=(0,r.useState)(!1),[S,x]=(0,r.useState)(!1),k=a.find(e=>e.id===l)||a[0];(0,r.useEffect)(()=>{if(!u)return;const e=setInterval(()=>{f(Gi(u.startedAt))},1e3);return f(Gi(u.startedAt)),()=>clearInterval(e)},[u]);const _=(0,r.useCallback)(e=>i.find(t=>t.id===e),[i]),j=k?k.exercises.map(e=>e.exerciseId):[],N=k?k.exercises.reduce((e,t)=>e+t.prescribedSets,0):0,E=u&&u.planId===(null===k||void 0===k?void 0:k.id);return(0,Fs.jsxs)("div",{className:"page",children:[(0,Fs.jsx)("h2",{className:"page-heading",children:"Workouts"}),(0,Fs.jsx)("p",{className:"page-sub",children:"Plan your training days"}),u&&(0,Fs.jsxs)("div",{className:"active-session-banner",onClick:()=>e("/workout/".concat(u.planId)),style:{cursor:"pointer"},children:[(0,Fs.jsx)("div",{className:"active-dot"}),(0,Fs.jsxs)("div",{children:[(0,Fs.jsx)("div",{style:{fontWeight:800},children:u.planName}),(0,Fs.jsxs)("div",{style:{fontSize:12,fontWeight:500,opacity:.85},children:["Session active \xb7 ",p," \xb7 Tap to resume"]})]}),(0,Fs.jsx)("button",{className:"end-session-btn",onClick:e=>{e.stopPropagation(),n.stopAll(),h(null),Hi(null),f("")},children:"End"})]}),(0,Fs.jsxs)("div",{children:[(0,Fs.jsx)("div",{className:"workouts-section-title",style:{marginBottom:6},children:"Workout Plan"}),(0,Fs.jsxs)("div",{className:"plan-picker-row",children:[(0,Fs.jsx)("select",{className:"plan-picker-select",value:l,onChange:e=>{return n=e.target.value,c(n),qi(n),x(!1),void(t&&Ds(t.id).catch(console.warn));var n},children:a.map(e=>(0,Fs.jsx)("option",{value:e.id,children:e.name},e.id))}),(0,Fs.jsx)("button",{className:"new-plan-btn",onClick:()=>w(!0),children:"+ New"})]})]}),k&&(0,Fs.jsxs)("div",{className:"plan-header",children:[(0,Fs.jsx)("div",{className:"plan-header__label",children:"Today's Plan"}),(0,Fs.jsx)("div",{className:"plan-header__name",children:k.name}),(0,Fs.jsxs)("div",{className:"plan-header__meta",children:[k.exercises.length," exercises \xb7 ",N," total sets"]}),(0,Fs.jsxs)("div",{className:"plan-header__actions",children:[(0,Fs.jsx)("button",{className:"plan-start-btn".concat(E?" active":""),onClick:function(){if(u&&u.planId===k.id)return void e("/workout/".concat(k.id));const t={planId:k.id,planName:k.name,startedAt:(new Date).toISOString()};h(t),Hi(t),e("/workout/".concat(k.id))},children:E?"\ud83d\udfe2 In Progress":"\u25b6 Start"}),(0,Fs.jsx)("button",{className:"plan-edit-btn",onClick:()=>x(e=>!e),children:S?"\u2713 Done":"\u270f\ufe0f Edit"})]})]}),k&&k.exercises.length>0&&(0,Fs.jsxs)("div",{children:[(0,Fs.jsx)("div",{className:"workouts-section-title",style:{marginBottom:6},children:"Exercises"}),(0,Fs.jsx)("div",{className:"plan-exercise-list",children:k.exercises.map((e,n)=>{const r=_(e.exerciseId);return r?(0,Fs.jsxs)("div",{className:"plan-exercise-row",onClick:()=>g(n),children:[S&&(0,Fs.jsx)("span",{className:"plan-drag-handle",children:"\u22ee\u22ee"}),(0,Fs.jsx)("div",{className:"plan-exercise-thumb",children:Pi(r.muscleGroup)}),(0,Fs.jsxs)("div",{className:"plan-exercise-info",children:[(0,Fs.jsx)("div",{className:"plan-exercise-name",children:r.name}),(0,Fs.jsxs)("div",{className:"plan-exercise-label",children:[r.muscleGroup," \xb7 ",r.type]})]}),(0,Fs.jsxs)("div",{className:"plan-exercise-prescription",children:[e.prescribedSets,"\xd7",e.prescribedReps]}),S&&(0,Fs.jsx)("button",{className:"plan-exercise-remove",onClick:e=>{e.stopPropagation(),function(e){const n=a.map(t=>t.id!==l?t:d(d({},t),{},{exercises:t.exercises.filter((t,n)=>n!==e)}));s(n),Fi(n);const r=n.find(e=>e.id===l);t&&r&&zs(r,t.id).catch(console.warn)}(n)},title:"Remove from plan",style:{opacity:1},children:"\u2715"})]},"".concat(e.exerciseId,"-").concat(n)):null})})]}),k&&0===k.exercises.length&&(0,Fs.jsx)("p",{style:{color:"#9999b3",fontSize:14,textAlign:"center",padding:"16px 0"},children:"No exercises yet. Add some below!"}),k&&(0,Fs.jsxs)("button",{className:"plan-add-exercise-btn",onClick:()=>y(!0),children:[(0,Fs.jsx)("span",{children:"\uff0b"}),(0,Fs.jsx)("span",{children:"Add Exercise"})]}),!k&&(0,Fs.jsx)("p",{style:{color:"#9999b3",fontSize:14,textAlign:"center"},children:"No plans yet. Create one!"}),null!==m&&k&&(()=>{const e=k.exercises[m],n=e?_(e.exerciseId):null;return e?(0,Fs.jsx)(Ki,{planEx:e,exercise:n,onSave:(e,n)=>function(e,n,r){const i=a.map(t=>{if(t.id!==l)return t;const a=t.exercises.map((t,a)=>a===e?d(d({},t),{},{prescribedSets:n,prescribedReps:r}):t);return d(d({},t),{},{exercises:a})});s(i),Fi(i),g(null);const o=i.find(e=>e.id===l);t&&o&&zs(o,t.id).catch(console.warn)}(m,e,n),onClose:()=>g(null)}):null})(),v&&(0,Fs.jsx)(Ji,{allExercises:i,planExerciseIds:j,onAdd:function(e,n){if(n){const n=[...i,e];o(n),function(e){localStorage.setItem("exercises",JSON.stringify(e))}(n),t&&async function(e,t){if(!js||!t)return;const{error:n}=await js.from("exercises").upsert({id:String(e.id),user_id:t,name:e.name,muscle_group:e.muscleGroup,type:e.type||"Strength"},{onConflict:"id,user_id"});n&&console.error("[sync] pushExercise:",n)}(e,t.id).catch(console.warn)}const r={exerciseId:e.id,prescribedSets:3,prescribedReps:10},c=a.map(e=>e.id!==l?e:d(d({},e),{},{exercises:[...e.exercises,r]}));s(c),Fi(c),y(!1);const u=c.find(e=>e.id===l);t&&u&&zs(u,t.id).catch(console.warn)},onClose:()=>y(!1)}),b&&(0,Fs.jsx)($i,{onSave:function(e){const n={id:"plan-".concat(Date.now()),name:e,createdAt:(new Date).toISOString(),exercises:[]},r=[...a,n];s(r),Fi(r),c(n.id),qi(n.id),w(!1),x(!0),t&&zs(n,t.id).catch(console.warn)},onClose:()=>w(!1)})]})}const Yi=["#ffffff","#00cc44","#000000"];function Xi(e){let{exerciseId:t}=e;const n=ci(),[a,s]=(0,r.useState)(()=>Ks(t)),[i,o]=(0,r.useState)(Js);function l(e){const r=Math.max(5,Math.min(600,Number(e)||90));s(r),function(e,t){try{const n=JSON.parse(localStorage.getItem(Vs)||"{}");n[e]=t,localStorage.setItem(Vs,JSON.stringify(n))}catch(n){}}(t,r),n.setRestDuration(1e3*r)}(0,r.useEffect)(()=>{if(t){n.setExerciseId(t);const e=Ks(t);s(e),n.setRestDuration(1e3*e)}},[t]);const c=n.isAlert?Yi[n.flashIdx]:"transparent",u=n.isAlert?"#000000"===c?"#ffffff":"#000000":"#e05555";return(0,Fs.jsxs)("div",{className:"set-timer ".concat(n.isAlert?"set-timer--alert":""),children:[n.isAlert&&(0,Fs.jsx)("div",{className:"timer-flash-overlay",style:{backgroundColor:c},"aria-hidden":"true"}),(0,Fs.jsxs)("div",{className:"timer-block timer-block--exercise ".concat(n.isExercising?"timer-block--active":""),children:[(0,Fs.jsx)("div",{className:"timer-label",children:"Exercise Timer"}),(0,Fs.jsx)("div",{className:"timer-display timer-display--exercise",children:n.isExercising?n.exerciseDisplay:Hs(n.exerciseElapsedMs)})]}),(0,Fs.jsxs)("div",{className:"timer-block timer-block--rest ".concat(n.isResting?"timer-block--active":""," ").concat(n.isAlert?"timer-block--alert":""),children:[(0,Fs.jsx)("div",{className:"timer-label",children:"Rest Timer"}),(0,Fs.jsx)("div",{className:"timer-display timer-display--rest",style:n.isAlert?{color:u,position:"relative",zIndex:2}:{},children:n.isResting?n.restDisplay:Hs(1e3*a)}),n.isAlert&&(0,Fs.jsx)("div",{className:"timer-alert-label",style:{color:u,position:"relative",zIndex:2},children:"GET READY!"})]}),(0,Fs.jsxs)("div",{className:"timer-controls",children:[(0,Fs.jsx)("button",{className:"timer-btn timer-btn--start ".concat(n.isExercising?"timer-btn--active":""),onClick:function(){n.startExercise(t)},title:n.isExercising?"Already exercising":n.isResting?"Cancel rest & start":"Start exercise timer",children:n.isExercising?"\u25b6 Running":n.isResting?"\u25b6 Start (cancel rest)":"\u25b6 Start"}),(0,Fs.jsx)("button",{className:"timer-btn timer-btn--rest ".concat(n.isResting?"timer-btn--active":""),onClick:function(){n.isResting||n.startRest(1e3*a)},disabled:n.isResting,title:n.isResting?"Already resting":"Stop exercise & start rest",children:n.isResting?"\ud83d\udca4 Resting\u2026":"\ud83d\udca4 Rest"}),!n.isIdle&&(0,Fs.jsx)("button",{className:"timer-btn timer-btn--stop",onClick:function(){n.reset()},title:"Stop & reset",children:"\u2715 Reset"})]}),(0,Fs.jsxs)("div",{className:"timer-settings",children:[(0,Fs.jsxs)("div",{className:"timer-setting-row",children:[(0,Fs.jsx)("label",{className:"timer-setting-label",htmlFor:"rest-seconds",children:"Rest duration (s)"}),(0,Fs.jsx)("input",{id:"rest-seconds",className:"timer-setting-input",type:"number",min:"5",max:"600",step:"5",value:a,onChange:e=>l(e.target.value),disabled:n.isResting})]}),(0,Fs.jsxs)("div",{className:"timer-setting-row",children:[(0,Fs.jsx)("label",{className:"timer-setting-label",htmlFor:"auto-start-toggle",children:"Auto-start after rest"}),(0,Fs.jsx)("button",{id:"auto-start-toggle",className:"timer-toggle ".concat(i?"timer-toggle--on":""),onClick:function(){const e=!i;o(e),function(e){try{localStorage.setItem(Gs,e?"true":"false")}catch(t){}}(e)},role:"switch","aria-checked":i,children:(0,Fs.jsx)("span",{className:"timer-toggle-knob"})})]})]})]})}function Zi(e){let{records:t}=e;return t.maxWeight||t.maxReps||t.maxVolume?(0,Fs.jsxs)("div",{className:"record-badges",children:[t.maxWeight>0&&(0,Fs.jsxs)("div",{className:"record-chip",children:[(0,Fs.jsx)("span",{className:"record-icon",children:"\ud83c\udfcb\ufe0f"}),(0,Fs.jsx)("span",{className:"record-label",children:"Best Weight"}),(0,Fs.jsxs)("span",{className:"record-value",children:[t.maxWeight," kg"]})]}),t.maxReps>0&&(0,Fs.jsxs)("div",{className:"record-chip",children:[(0,Fs.jsx)("span",{className:"record-icon",children:"\ud83d\udd01"}),(0,Fs.jsx)("span",{className:"record-label",children:"Most Reps"}),(0,Fs.jsx)("span",{className:"record-value",children:t.maxReps})]}),t.maxVolume>0&&(0,Fs.jsxs)("div",{className:"record-chip",children:[(0,Fs.jsx)("span",{className:"record-icon",children:"\ud83d\udcc8"}),(0,Fs.jsx)("span",{className:"record-label",children:"Best Volume"}),(0,Fs.jsxs)("span",{className:"record-value",children:[t.maxVolume.toLocaleString()," kg"]})]})]}):null}function eo(e){let{sessions:t}=e;if(!t||t.length<2)return(0,Fs.jsx)("div",{className:"graph-placeholder",children:"Log at least 2 sessions to see your progress graph"});const n=120,r={top:10,right:14,bottom:28,left:40},a=320-r.left-r.right,s=n-r.top-r.bottom,i=t.map(e=>e.totalVolume||0),o=Math.min(...i),l=Math.max(...i),c=l-o||1,u=e=>r.left+e/(t.length-1)*a,d=e=>r.top+s-(e-o)/c*s,h=t.map((e,t)=>({x:u(t),y:d(e.totalVolume||0),session:e})),p=h.map((e,t)=>"".concat(0===t?"M":"L").concat(e.x.toFixed(1),",").concat(e.y.toFixed(1))).join(" "),f="".concat(p," L").concat(h[h.length-1].x.toFixed(1),",").concat((r.top+s).toFixed(1)," L").concat(r.left.toFixed(1),",").concat((r.top+s).toFixed(1)," Z"),m=[o,o+c/2,l],g=e=>e>=1e3?"".concat((e/1e3).toFixed(1),"t"):"".concat(Math.round(e)),v=e=>new Date(e).toLocaleDateString("nl-NL",{day:"numeric",month:"short"});return(0,Fs.jsx)("div",{className:"graph-wrap",children:(0,Fs.jsxs)("svg",{viewBox:"0 0 ".concat(320," ").concat(n),className:"volume-graph",children:[(0,Fs.jsx)("defs",{children:(0,Fs.jsxs)("linearGradient",{id:"volGrad",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,Fs.jsx)("stop",{offset:"0%",stopColor:"#4c4cff",stopOpacity:"0.25"}),(0,Fs.jsx)("stop",{offset:"100%",stopColor:"#4c4cff",stopOpacity:"0.02"})]})}),m.map((e,t)=>(0,Fs.jsx)("line",{x1:r.left,y1:d(e),x2:r.left+a,y2:d(e),stroke:"#e0e0f0",strokeWidth:"1",strokeDasharray:"3 3"},t)),(0,Fs.jsx)("path",{d:f,fill:"url(#volGrad)"}),(0,Fs.jsx)("path",{d:p,fill:"none",stroke:"#4c4cff",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round"}),h.map((e,t)=>(0,Fs.jsx)("circle",{cx:e.x,cy:e.y,r:"3.5",fill:"#4c4cff",stroke:"#fff",strokeWidth:"1.5"},t)),m.map((e,t)=>(0,Fs.jsx)("text",{x:r.left-4,y:d(e)+4,textAnchor:"end",fontSize:"9",fill:"#9999b3",children:g(e)},t)),(0,Fs.jsx)("text",{x:r.left,y:116,textAnchor:"middle",fontSize:"9",fill:"#9999b3",children:v(t[0].date)}),(0,Fs.jsx)("text",{x:r.left+a,y:116,textAnchor:"middle",fontSize:"9",fill:"#9999b3",children:v(t[t.length-1].date)}),(0,Fs.jsx)("line",{x1:r.left,y1:r.top+s,x2:r.left+a,y2:r.top+s,stroke:"#d0d0e8",strokeWidth:"1"})]})})}const to=[{id:1,name:"Bench Press",muscleGroup:"Chest",type:"Strength"},{id:2,name:"Squat",muscleGroup:"Legs",type:"Strength"},{id:3,name:"Deadlift",muscleGroup:"Back",type:"Strength"},{id:4,name:"Overhead Press",muscleGroup:"Shoulders",type:"Strength"},{id:5,name:"Bicep Curl",muscleGroup:"Arms",type:"Strength"},{id:6,name:"Pull-ups",muscleGroup:"Back",type:"Strength"},{id:7,name:"Tricep Dips",muscleGroup:"Arms",type:"Strength"},{id:8,name:"Plank",muscleGroup:"Core",type:"Strength"}];function no(){try{const e=localStorage.getItem("exercises");return e?JSON.parse(e):to}catch(e){return to}}function ro(){try{const e=localStorage.getItem("exerciseLogs");return e?JSON.parse(e):{}}catch(e){return{}}}function ao(e){localStorage.setItem("exerciseLogs",JSON.stringify(e))}function so(e){return{totalReps:e.reduce((e,t)=>e+(Number(t.reps)||0),0),totalVolume:e.reduce((e,t)=>e+(Number(t.reps)||0)*(Number(t.weight)||0),0)}}function io(e){if(!e||0===e.length)return{maxWeight:null,maxReps:null,maxVolume:null};let t=0,n=0,r=0;return e.forEach(e=>{e.sets.forEach(e=>{const r=Number(e.weight)||0,a=Number(e.reps)||0;r>t&&(t=r),a>n&&(n=a)}),(e.totalVolume||0)>r&&(r=e.totalVolume||0)}),{maxWeight:t,maxReps:n,maxVolume:r}}function oo(e,t){const n=e[t];return n?[...n].sort((e,t)=>new Date(e.date)-new Date(t.date)):[]}function lo(e,t){const n=e[t];return n?[...n].sort((e,t)=>new Date(t.date)-new Date(e.date)):[]}async function co(e,t,n){return async function(e,t,n){if(!js||!n)return null;const{data:r,error:a}=await js.from("exercise_logs").insert({user_id:n,exercise_id:String(e),date:t.date,sets:t.sets,best_set:t.bestSet||null,total_reps:t.totalReps||0,total_volume:t.totalVolume||0}).select().single();return a?(console.error("[sync] pushSession:",a),null):(null===r||void 0===r?void 0:r.id)||null}(e,t,n)}function uo(e,t,n){const r=ro(),a=r[e]||[],s=a.find(e=>e.date===t),i=d(d({},r),{},{[e]:a.filter(e=>e.date!==t)});return ao(i),n&&null!==s&&void 0!==s&&s.remoteId&&async function(e){if(!js||!e)return;const{error:t}=await js.from("exercise_logs").delete().eq("id",e);t&&console.error("[sync] deleteRemoteSession:",t)}(s.remoteId).catch(e=>console.warn("[sync] deleteSession failed:",e)),i}function ho(e,t){const n=ro(),{[e]:r}=n,a=i(n,[e].map(l));ao(a);const s=no().filter(t=>String(t.id)!==String(e));return function(e){localStorage.setItem("exercises",JSON.stringify(e))}(s),t&&async function(e,t){if(!js||!t)return;const{error:n}=await js.from("exercise_logs").delete().eq("exercise_id",String(e)).eq("user_id",t);n&&console.error("[sync] deleteRemoteExercise logs:",n);const{error:r}=await js.from("exercises").delete().eq("id",String(e)).eq("user_id",t);r&&console.error("[sync] deleteRemoteExercise:",r)}(e,t).catch(e=>console.warn("[sync] deleteExercise failed:",e)),{updatedExercises:s,updatedLogs:a}}const po={hypertrophy:{light:{min:30,max:60},moderate:{min:60,max:120},hard:{min:120,max:240},"all-out":{min:120,max:240}},strength:{light:{min:60,max:120},moderate:{min:120,max:180},hard:{min:180,max:300},"all-out":{min:180,max:300}},superset:{min:15,max:90}};function fo(e,t,n){if(!n||0===n.length)return{type:"first",levers:[],message:null};const r=Number(t.weight)||0,a=Number(t.reps)||0,s=t.intensity||"moderate",i=null!=t.rir?Number(t.rir):null,o=n.reduce((e,t)=>(Number(t.weight)||0)*(1+(Number(t.reps)||0)/30)>(Number(e.weight)||0)*(1+(Number(e.reps)||0)/30)?t:e,n[0]),l=Number(o.weight)||0,c=Number(o.reps)||0,u=null!=o.rir?Number(o.rir):null,d=[];r>l?d.push({lever:"weight",direction:"up",from:l,to:r}):r<l&&d.push({lever:"weight",direction:"down",from:l,to:r}),a>c?d.push({lever:"reps",direction:"up",from:c,to:a}):a<c&&d.push({lever:"reps",direction:"down",from:c,to:a}),null!==i&&null!==u&&(i<u?d.push({lever:"rir",direction:"up",from:u,to:i}):i>u&&d.push({lever:"rir",direction:"down",from:u,to:i}));const h=d.filter(e=>"up"===e.direction),p=d.filter(e=>"down"===e.direction);let f;if(h.length>0&&0===p.length)f="improved";else if(p.length>0&&0===h.length)f="regressed";else if(h.length>0&&p.length>0){const e=r*(1+a/30),t=l*(1+c/30);f=e>t?"improved":e<t?"regressed":"maintained"}else f="maintained";return{type:f,levers:d,prevBest:o,currIntensity:s}}function mo(e,t){var n;const r=ro()[e];if(!r||0===r.length)return[];const a=[...r].sort((e,t)=>new Date(t.date)-new Date(e.date));if(t){const e=new Date(t).getTime(),n=a.find(t=>new Date(t.date).getTime()<e);return n?n.sets:[]}return(null===(n=a[0])||void 0===n?void 0:n.sets)||[]}const go={improved:{soft:["Nice work! You improved \u2014 that's what matters.","Great effort, keep it up! Consistency is paying off.","You're making progress! This is why showing up matters."],balanced:["Harder than last time. That's the goal, every session.","Better than last time. Effort overrides everything else.","Progress detected. Stay consistent \u2014 this is a marathon, not a sprint."],tough:["Good. Harder than last time. Now do it again.","Improvement noted. This is the standard. Maintain it.","That's progress. You showed up and delivered."],aggressive:["HARDER THAN LAST TIME. That's EXACTLY right!","You showed up and delivered. THAT is how you build a physique.","Progress. Real progress. Effort overrides variety \u2014 keep pushing."]},maintained:{soft:["Consistent performance \u2014 that's valuable. You showed up.","Same as before, and that's okay. This is a marathon, not a sprint.","Staying steady is still showing up. Progress comes in waves."],balanced:["Maintained. Try to push one lever next set \u2014 add a rep, slow the tempo.","Holding steady. Zoom out \u2014 monthly progress matters more than daily.","Same performance. Can you add a rep or slow the eccentric?"],tough:["Same as last time. Harder than last time is the rule. Find a lever.","No improvement. Find a way to progress \u2014 reps, tempo, anything.","Maintenance is temporary. You didn't show up to stay the same."],aggressive:["Same numbers. HARDER than last time. That's the rule. Push.","Where's the progress? Add a rep, slow the negative, cut rest. Move.","Not good enough. Effort overrides variety \u2014 find a way to improve."]},regressed:{soft:["A bit below last time. No worries \u2014 bad days happen. Just show up.","Slight dip. Focus on form and try again. This is a marathon, not a sprint.","Not every session is a PR. Rest, recover, come back stronger."],balanced:["Below last session. Could be fatigue. Keep the weight, aim for reps.","Regression \u2014 it happens. Hold weight steady, rebuild. Zoom out.","Off day. Don't drop weight yet. Train smarter, not just harder."],tough:["Down from last time. Check sleep, food, stress. Fix what's outside the gym.","Regression. Are you sleeping and eating enough? Be honest with yourself.","Weaker today. It happens. But figure out why \u2014 train smarter."],aggressive:["Weaker than last time. Figure out why. Sleep, food, stress \u2014 fix it.","Down numbers. This is not acceptable long term. Address recovery NOW.","Not the direction we want. Train smarter, not just harder. Fix the basics."]},first:{soft:["First time logging this exercise! Great start. Just showing up is the hardest part."],balanced:["First set logged. This is your baseline. Now beat it \u2014 harder than last time."],tough:["Baseline set. The only direction from here is up. Beat this next time."],aggressive:["Starting point locked in. Only up from here. HARDER THAN LAST TIME."]}};const vo=[{lever:"reps",label:"Add 1-2 reps per set"},{lever:"technique",label:"Improve technique \u2014 control every rep"},{lever:"weight",label:"Increase weight by 2.5kg"},{lever:"volume",label:"Add one more working set"},{lever:"rest",label:"Reduce rest time by 15-30s"},{lever:"rir",label:"Push closer to failure (lower RIR)"},{lever:"rom",label:"Increase range of motion"},{lever:"tempo",label:"Slow the eccentric (3s down)"},{lever:"pause",label:"Add a pause at peak contraction"},{lever:"partials",label:"Add partial reps after failure (advanced)"}];function yo(e,t,n){return"all-out"!==e||n&&t>=4}function bo(e){if("number"===typeof e){const t=Math.floor(e/60),n=e%60;return 0===n?"".concat(t," min"):"".concat(t,":").concat(String(n).padStart(2,"0"))}const t=e=>{const t=Math.floor(e/60),n=e%60;return 0===n?"".concat(t):"".concat(t,":").concat(String(n).padStart(2,"0"))};return e.min===e.max?"".concat(t(e.min)," min"):"".concat(t(e.min),"-").concat(t(e.max)," min")}function wo(e){let{exerciseId:t,currentSet:n,previousSets:a,goal:s,targetReps:i,encouragementStyle:o,feedbackFrequency:l,metadata:c}=e;const u=(0,r.useMemo)(()=>fo(0,n,a),[t,n,a]);if(!n||!n.reps&&!n.weight)return null;const d=function(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"balanced";const r=(null===(t=go[e.type])||void 0===t?void 0:t[n])||go.maintained.balanced;return r[Math.floor(Math.random()*r.length)]}(u,o||"balanced"),h=function(e,t,n){const{type:r,prevBest:a}=e;if(!a)return"Aim for ".concat(n||"10-12"," reps at a comfortable weight.");const s=Number(a.weight)||0,i=Number(a.reps)||0;switch(r){case"improved":return"Keep ".concat(s,"kg, aim for ").concat(n||"".concat(i,"-").concat(i+2)," reps. You're on track.");case"maintained":return"strength"===t?"Try adding 1-2 reps at ".concat(s,"kg, or add 2.5kg and aim for ").concat(Math.max(i-2,1)," reps."):"Try one more rep at ".concat(s,"kg, or slow the eccentric for more TUT.");case"regressed":return"Hold at ".concat(s,"kg. Focus on form, aim for ").concat(i," reps. No shame in rebuilding.");default:return"Aim for ".concat(n||"10-12"," reps. Start conservative.")}}(u,s,i),p=function(e){return"strength"===e?"Controlled down, explosive up":"2s down, squeeze at peak, 1s up"}(s),f="maintained"===u.type||"regressed"===u.type?function(e,t){var n;const r=null===t||void 0===t||null===(n=t.bestOverloadLever)||void 0===n?void 0:n[e];if(r){const e=vo.find(e=>e.lever===r);if(e)return e}return vo[0]}(t,c):null,m="minimal"===l,g="detailed"===l,v={improved:"coach-fb--improved",regressed:"coach-fb--regressed",maintained:"coach-fb--maintained",first:"coach-fb--first"}[u.type]||"coach-fb--maintained",y={improved:"+",regressed:"-",maintained:"=",first:"*"}[u.type]||"=";return(0,Fs.jsxs)("div",{className:"coach-feedback ".concat(v),children:[(0,Fs.jsxs)("div",{className:"coach-fb-header",children:[(0,Fs.jsx)("span",{className:"coach-fb-status",children:y}),(0,Fs.jsx)("span",{className:"coach-fb-message",children:d})]}),!m&&u.levers&&u.levers.length>0&&(0,Fs.jsx)("div",{className:"coach-fb-levers",children:u.levers.map((e,t)=>(0,Fs.jsxs)("span",{className:"coach-fb-lever coach-fb-lever--".concat(e.direction),children:[e.lever,": ",e.from," ","up"===e.direction?">":"<"," ",e.to]},t))}),!m&&(0,Fs.jsx)("div",{className:"coach-fb-guidance",children:h}),!m&&f&&(0,Fs.jsxs)("div",{className:"coach-fb-suggestion",children:["Try: ",f.label]}),g&&(0,Fs.jsxs)("div",{className:"coach-fb-tempo",children:["Tempo: ",p]})]})}function So(e){let{goal:t,intensity:n,isSuperset:r}=e;if(!n||!t)return null;const a=function(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return po.superset;const n=po[e]||po.hypertrophy;return n[t]||n.moderate}(t,n,r);let s=null;return r?s="Supersets \u2014 move quickly between exercises, rest after the pair.":"hard"===n||"all-out"===n?s="Take what you need. Don't rush into a compound movement tired.":"light"===n&&(s="Quick rest \u2014 this is warm-up pace."),(0,Fs.jsxs)("div",{className:"rest-advisor",children:[(0,Fs.jsx)("span",{className:"rest-advisor-icon",children:"\u23f1"}),(0,Fs.jsxs)("div",{className:"rest-advisor-body",children:[(0,Fs.jsxs)("span",{className:"rest-advisor-text",children:["Rest ~",bo(a)]}),(0,Fs.jsxs)("span",{className:"rest-advisor-context",children:[n," / ",t]}),s&&(0,Fs.jsx)("span",{className:"rest-advisor-hint",children:s})]})]})}const xo="f7ce3aa8",ko="f7ce3aa87cd2c1f1beca38e3edda6829dc5604a3",_o="2026-02-25T19:46:40.684Z",jo=_o?new Date(_o):null,No=jo instanceof Date&&!Number.isNaN(jo.getTime()),Eo=ko?ko.slice(0,8):xo,Ro=xo;function Co(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Build";if(!Eo)return"Local build";const t=No?jo.toLocaleDateString("nl-NL",{day:"numeric",month:"short"}):null,n=t?" \xb7 ".concat(t):"";return"".concat(e," ").concat(Eo).concat(n)}function To(e){let{exercise:t,onClose:n,onSaved:a,logs:s}=e;const{user:i}=Ws(),o=xi(),[l,c]=(0,r.useState)("log"),[u,h]=(0,r.useState)([{reps:"",weight:""}]),[p,f]=(0,r.useState)(null),[m,g]=(0,r.useState)(null),[v,y]=(0,r.useState)("moderate"),[b,w]=(0,r.useState)(""),[S,x]=(0,r.useState)(null),k=(0,r.useRef)(null),_=o.isOnboarded&&o.coachActive,j=(0,r.useMemo)(()=>null!==t&&void 0!==t&&t.id?mo(t.id):[],[null===t||void 0===t?void 0:t.id]);(0,r.useEffect)(()=>{var e;null===(e=k.current)||void 0===e||e.scrollTo({top:0}),c("log"),f(null);let n=[{reps:"",weight:""}];try{const e=localStorage.getItem("activeWorkoutSession");if(e&&null!==t&&void 0!==t&&t.id){const r=JSON.parse(e),a=null!==r&&void 0!==r&&r.startedAt?new Date(r.startedAt):null;if(a){const e=ro(),r=(e[t.id]||[]).filter(e=>new Date(e.date)>=a).sort((e,t)=>new Date(t.date)-new Date(e.date));if(r.length>0){n=[...r[0].sets.map(e=>{var t,n,r,a;return{reps:null!==(t=null===(n=e.reps)||void 0===n?void 0:n.toString())&&void 0!==t?t:"",weight:null!==(r=null===(a=e.weight)||void 0===a?void 0:a.toString())&&void 0!==r?r:""}}),{reps:"",weight:""}]}}}}catch(hl){}h(n)},[null===t||void 0===t?void 0:t.id]);const N=p?new Date(p.date).toLocaleDateString("nl-NL",{weekday:"short",day:"numeric",month:"short",year:"numeric"}):null;function E(e,t,n){h(r=>{const a=[...r];return a[e]=d(d({},a[e]),{},{[t]:n}),a})}function R(){var e;null===(e=k.current)||void 0===e||e.scrollTo({top:0,behavior:"smooth"})}function C(){f(null),h([{reps:"",weight:""}]),c("log"),n()}function T(){g(null)}const I=lo(s,t.id),O=oo(s,t.id),P=I.length>0,A=io(I),L=so(u),D=I[0]||null,z=I.slice(0,5);return(0,Fs.jsxs)("div",{className:"modal-overlay",onClick:C,children:[(0,Fs.jsxs)("div",{className:"modal modal--log",onClick:e=>e.stopPropagation(),children:[(0,Fs.jsxs)("div",{className:"log-sticky-top",children:[(0,Fs.jsxs)("div",{id:"log-timer-top",className:"log-timer-zone",children:[(0,Fs.jsxs)("div",{className:"log-header-text",children:[(0,Fs.jsxs)("div",{className:"log-header-title-row",children:[(0,Fs.jsx)("h3",{className:"modal-title",children:t.name}),(0,Fs.jsx)("span",{className:"build-id-tag build-id-tag--modal",children:Co()})]}),(0,Fs.jsxs)("p",{className:"modal-sub",children:[t.muscleGroup," \xb7 Log your sets"]})]}),(0,Fs.jsx)(Xi,{exerciseId:t.id})]}),(0,Fs.jsx)("div",{className:"log-tabs-wrapper",children:(0,Fs.jsxs)("div",{className:"log-tabs",role:"tablist","aria-label":"Exercise tabs",children:[(0,Fs.jsx)("button",{type:"button",className:"log-tab ".concat("log"===l?"active":""),onClick:()=>c("log"),role:"tab","aria-selected":"log"===l,children:"Log"}),(0,Fs.jsx)("button",{type:"button",className:"log-tab ".concat("overview"===l?"active":""),onClick:()=>c("overview"),role:"tab","aria-selected":"overview"===l,children:"Overview"})]})})]}),(0,Fs.jsx)("div",{className:"log-scroll-body",ref:k,children:"log"===l?(0,Fs.jsxs)(Fs.Fragment,{children:[(0,Fs.jsx)("div",{className:"modal-divider"}),p&&(0,Fs.jsxs)("div",{className:"editing-banner",children:["Editing session: ",N]}),(0,Fs.jsxs)("div",{className:"sets-header",children:[(0,Fs.jsx)("span",{children:"Set"}),(0,Fs.jsx)("span",{children:"Reps"}),(0,Fs.jsx)("span",{children:"Weight (kg)"}),(0,Fs.jsx)("span",{})]}),u.map((e,t)=>(0,Fs.jsxs)("div",{className:"set-row",children:[(0,Fs.jsx)("span",{className:"set-num",children:t+1}),(0,Fs.jsx)("input",{className:"set-input",type:"number",min:"0",placeholder:"0",value:e.reps,onChange:e=>E(t,"reps",e.target.value)}),(0,Fs.jsx)("input",{className:"set-input",type:"number",min:"0",step:"0.5",placeholder:"0",value:e.weight,onChange:e=>E(t,"weight",e.target.value)}),(0,Fs.jsx)("button",{className:"remove-set-btn",onClick:()=>{return e=t,void h(t=>t.filter((t,n)=>n!==e));var e},disabled:1===u.length,children:"\u2715"})]},t)),(0,Fs.jsx)("button",{className:"add-set-btn",onClick:function(){h(e=>[...e,{reps:"",weight:""}])},children:"+ Add Set"}),(0,Fs.jsxs)("div",{className:"live-totals",children:[(0,Fs.jsxs)("div",{className:"total-pill",children:[(0,Fs.jsx)("span",{className:"total-label",children:"Total Reps"}),(0,Fs.jsx)("span",{className:"total-value",children:L.totalReps})]}),(0,Fs.jsxs)("div",{className:"total-pill",children:[(0,Fs.jsx)("span",{className:"total-label",children:"Total Volume"}),(0,Fs.jsxs)("span",{className:"total-value",children:[L.totalVolume.toLocaleString()," kg"]})]})]}),_&&(0,Fs.jsxs)(Fs.Fragment,{children:[(0,Fs.jsx)("div",{className:"section-label",children:"Intensity"}),(0,Fs.jsx)("div",{className:"intensity-row",children:["light","moderate","hard","all-out"].map(e=>(0,Fs.jsx)("button",{className:"intensity-chip ".concat(v===e?"active":""),onClick:()=>y(e),disabled:!yo(e,o.weeksActive,o.canUseAllOut),children:e},e))}),(0,Fs.jsxs)("div",{className:"rir-input-row",children:[(0,Fs.jsx)("span",{className:"rir-label",children:"RIR (reps in reserve):"}),(0,Fs.jsx)("input",{className:"rir-input",type:"number",min:"0",max:"10",placeholder:o.targetRIR,value:b,onChange:e=>w(e.target.value)})]}),(0,Fs.jsx)(So,{goal:o.profile.goal,intensity:v})]}),_&&S&&(0,Fs.jsx)(wo,{exerciseId:t.id,currentSet:S,previousSets:j,goal:o.profile.goal,targetReps:null,encouragementStyle:o.profile.encouragementStyle,feedbackFrequency:o.profile.feedbackFrequency,metadata:o.metadata}),(0,Fs.jsx)("button",{className:"back-to-top-btn",onClick:R,type:"button",children:"\u2191 Back to timer"})]}):(0,Fs.jsxs)(Fs.Fragment,{children:[(0,Fs.jsx)("div",{className:"modal-divider"}),!P&&(0,Fs.jsx)("p",{className:"insights-no-history",children:"\ud83d\udced No history yet on this device/site \u2014 log a session to see your records and graph."}),P&&(0,Fs.jsxs)(Fs.Fragment,{children:[(0,Fs.jsx)("div",{className:"section-label",children:"Personal Records"}),(0,Fs.jsx)(Zi,{records:A})]}),(0,Fs.jsx)("div",{className:"section-label",children:"Volume Over Time"}),(0,Fs.jsx)(eo,{sessions:O}),P&&D&&(0,Fs.jsxs)(Fs.Fragment,{children:[(0,Fs.jsx)("div",{className:"section-label",children:"Last Session Sets"}),(0,Fs.jsxs)("div",{className:"last-session-sets",children:[(0,Fs.jsxs)("div",{className:"last-session-sets__header",children:[(0,Fs.jsx)("span",{className:"last-session-sets__title",children:"\ud83d\udccb Last session"}),(0,Fs.jsx)("span",{className:"last-session-sets__date",children:new Date(D.date).toLocaleDateString("nl-NL",{weekday:"short",day:"numeric",month:"short"})})]}),(0,Fs.jsxs)("table",{className:"last-session-sets__table",children:[(0,Fs.jsx)("thead",{children:(0,Fs.jsxs)("tr",{children:[(0,Fs.jsx)("th",{children:"Set"}),(0,Fs.jsx)("th",{children:"kg"}),(0,Fs.jsx)("th",{children:"Reps"})]})}),(0,Fs.jsx)("tbody",{children:D.sets.map((e,t)=>(0,Fs.jsxs)("tr",{children:[(0,Fs.jsx)("td",{children:t+1}),(0,Fs.jsx)("td",{children:e.weight||"\u2014"}),(0,Fs.jsx)("td",{children:e.reps||"\u2014"})]},t))})]})]})]}),P&&(0,Fs.jsxs)(Fs.Fragment,{children:[(0,Fs.jsx)("div",{className:"section-label",children:"Recent Sessions"}),(0,Fs.jsx)("div",{className:"history-sessions",children:z.map(e=>(0,Fs.jsxs)("div",{className:"session-card",children:[(0,Fs.jsxs)("div",{className:"session-card-header",children:[(0,Fs.jsx)("div",{className:"session-date",children:new Date(e.date).toLocaleDateString("nl-NL",{weekday:"short",day:"numeric",month:"short",year:"numeric"})}),(0,Fs.jsx)("button",{type:"button",className:"session-edit-btn",onClick:()=>function(e){const t=e.sets.map(e=>{var t,n,r,a;return{reps:null!==(t=null===(n=e.reps)||void 0===n?void 0:n.toString())&&void 0!==t?t:"",weight:null!==(r=null===(a=e.weight)||void 0===a?void 0:a.toString())&&void 0!==r?r:""}}),n=t[t.length-1];(!n||""!==n.reps||""!==n.weight)&&t.push({reps:"",weight:""}),h(t),f(d({},e)),c("log"),R()}(e),children:"Edit"}),(0,Fs.jsx)("button",{type:"button",className:"session-delete-btn",title:"Delete session","aria-label":"Delete session",onClick:t=>{var n;t.stopPropagation(),n=e.date,g(n)},children:"\ud83d\uddd1"})]}),(0,Fs.jsxs)("div",{className:"session-stats",children:[(0,Fs.jsxs)("span",{children:[e.sets.length," sets"]}),(0,Fs.jsxs)("span",{children:[e.totalReps," reps"]}),(0,Fs.jsxs)("span",{children:[e.totalVolume.toLocaleString()," kg vol"]})]}),(0,Fs.jsx)("div",{className:"session-sets-detail",children:e.sets.map((e,t)=>(0,Fs.jsxs)("span",{className:"set-pill",children:[e.reps,"\xd7",e.weight,"kg"]},t))})]},e.date))})]}),(0,Fs.jsx)("button",{className:"btn-secondary",onClick:R,type:"button",children:"Back to top"})]})}),(0,Fs.jsx)("div",{className:"log-actions",children:"log"===l?(0,Fs.jsxs)(Fs.Fragment,{children:[(0,Fs.jsx)("button",{type:"button",className:"btn-primary",onClick:function(){const e=u.filter(e=>""!==e.reps||""!==e.weight);if(0===e.length)return;const n=_?e.map(e=>d(d({},e),{},{intensity:v,rir:""!==b?Number(b):void 0})):e,r=function(e){return e&&0!==e.length?e.reduce((e,t)=>(Number(t.weight)||0)*(1+(Number(t.reps)||0)/30)>(Number(e.weight)||0)*(1+(Number(e.reps)||0)/30)?t:e,e[0]):null}(n),s=d({sets:n,bestSet:r},so(n));_&&n.length>0&&x(n[n.length-1]);const o=ro(),l=o[t.id]||[];let c;if(p){const e=d(d(d({},p),s),{},{date:p.date}),n=l.map(t=>t.date===p.date?e:t);if(c=d(d({},o),{},{[t.id]:n}),i){(p.remoteId?async function(e,t,n,r){if(!js||!r||!e)return null;const{error:a}=await js.from("exercise_logs").update({sets:n.sets,best_set:n.bestSet||null,total_reps:n.totalReps||0,total_volume:n.totalVolume||0}).eq("id",e).eq("user_id",r).eq("exercise_id",String(t));return!a||(console.error("[sync] updateRemoteSession:",a),null)}(p.remoteId,t.id,e,i.id):co(t.id,e,i.id)).catch(e=>console.warn("[Supabase] session sync failed:",e))}}else{const e=d({date:(new Date).toISOString()},s);c=d(d({},o),{},{[t.id]:[...l,e]}),i&&co(t.id,e,i.id).catch(e=>console.warn("[Supabase] session sync failed:",e))}ao(c),window.dispatchEvent(new Event("exerciseLogged")),a&&a(c),C()},disabled:0===L.totalReps&&0===L.totalVolume,children:"Done"}),(0,Fs.jsx)("button",{type:"button",className:"btn-secondary",onClick:C,children:"Cancel"})]}):(0,Fs.jsxs)(Fs.Fragment,{children:[(0,Fs.jsx)("button",{type:"button",className:"btn-secondary",onClick:function(){c("log"),R()},children:"Back to Log"}),(0,Fs.jsx)("button",{type:"button",className:"btn-secondary",onClick:C,children:"Close"})]})})]}),m&&(0,Fs.jsx)("div",{className:"confirm-overlay",onClick:T,children:(0,Fs.jsxs)("div",{className:"confirm-modal",onClick:e=>e.stopPropagation(),children:[(0,Fs.jsx)("div",{className:"confirm-icon",children:"\ud83d\uddd1\ufe0f"}),(0,Fs.jsx)("p",{className:"confirm-message",children:"Delete this session? This cannot be undone."}),(0,Fs.jsxs)("div",{className:"confirm-actions",children:[(0,Fs.jsx)("button",{className:"btn-danger",onClick:function(){if(!m)return;const e=uo(t.id,m,null===i||void 0===i?void 0:i.id);g(null),(null===p||void 0===p?void 0:p.date)===m&&(f(null),h([{reps:"",weight:""}])),window.dispatchEvent(new Event("exerciseLogged")),a&&a(e)},children:"Delete"}),(0,Fs.jsx)("button",{className:"btn-secondary",onClick:T,children:"Cancel"})]})]})})]})}function Io(e){let{exercise:t,logs:n,onClose:a,onOpenLog:s,onLogsChanged:i}=e;const{user:o}=Ws(),[l,c]=(0,r.useState)(null),u=lo(n,t.id),d=oo(n,t.id),h=io(u);function p(){c(null)}const f=lo(n,t.id);return(0,Fs.jsxs)("div",{className:"modal-overlay",onClick:a,children:[(0,Fs.jsxs)("div",{className:"modal modal--tall",onClick:e=>e.stopPropagation(),children:[(0,Fs.jsxs)("div",{className:"detail-header",children:[(0,Fs.jsxs)("div",{children:[(0,Fs.jsx)("h3",{className:"modal-title",children:t.name}),(0,Fs.jsxs)("p",{className:"modal-sub",children:[t.muscleGroup," \xb7 ",f.length," session",1!==f.length?"s":""]})]}),(0,Fs.jsx)("button",{className:"btn-primary btn--sm",onClick:()=>{a(),s&&s(t)},children:"\uff0b Log"})]}),0===f.length?(0,Fs.jsx)("div",{className:"empty-state",children:"No sessions yet. Hit \uff0b Log to record your first one!"}):(0,Fs.jsxs)(Fs.Fragment,{children:[(0,Fs.jsx)("div",{className:"section-label",children:"Personal Records"}),(0,Fs.jsx)(Zi,{records:h}),(0,Fs.jsx)("div",{className:"section-label",children:"Volume Over Time"}),(0,Fs.jsx)(eo,{sessions:d}),(0,Fs.jsx)("div",{className:"section-label",children:"Session History"}),(0,Fs.jsx)("div",{className:"history-sessions",children:f.map((e,t)=>{const n=f[t+1],r=n?e.totalVolume-n.totalVolume:null;return(0,Fs.jsxs)("div",{className:"session-card",children:[(0,Fs.jsxs)("div",{className:"session-card-header",children:[(0,Fs.jsx)("div",{className:"session-date",children:new Date(e.date).toLocaleDateString("nl-NL",{weekday:"short",day:"numeric",month:"short",year:"numeric"})}),(0,Fs.jsx)("button",{className:"session-delete-btn",onClick:t=>function(e,t){e.stopPropagation(),c(t)}(t,e.date),title:"Delete this session","aria-label":"Delete session",children:"\ud83d\uddd1"})]}),(0,Fs.jsxs)("div",{className:"session-stats",children:[(0,Fs.jsxs)("span",{children:[e.sets.length," sets"]}),(0,Fs.jsxs)("span",{children:[e.totalReps," reps"]}),(0,Fs.jsxs)("span",{children:[e.totalVolume.toLocaleString()," kg vol"]}),null!==r&&(0,Fs.jsxs)("span",{className:"overload-badge ".concat(r>=0?"up":"down"),children:[r>=0?"\u25b2":"\u25bc"," ",Math.abs(r).toLocaleString()," kg"]})]}),e.bestSet&&(0,Fs.jsxs)("div",{className:"session-best",children:["Best set: ",(0,Fs.jsxs)("strong",{children:[e.bestSet.reps," reps @ ",e.bestSet.weight," kg"]})]}),(0,Fs.jsx)("div",{className:"session-sets-detail",children:e.sets.map((e,t)=>(0,Fs.jsxs)("span",{className:"set-pill",children:[e.reps,"\xd7",e.weight,"kg"]},t))})]},e.date)})})]}),(0,Fs.jsx)("button",{className:"btn-secondary",onClick:a,children:"Close"})]}),l&&(0,Fs.jsx)("div",{className:"confirm-overlay",onClick:p,children:(0,Fs.jsxs)("div",{className:"confirm-modal",onClick:e=>e.stopPropagation(),children:[(0,Fs.jsx)("div",{className:"confirm-icon",children:"\ud83d\uddd1\ufe0f"}),(0,Fs.jsx)("p",{className:"confirm-message",children:"Delete this session? This cannot be undone."}),(0,Fs.jsxs)("div",{className:"confirm-actions",children:[(0,Fs.jsx)("button",{className:"btn-danger",onClick:function(){const e=uo(t.id,l,null===o||void 0===o?void 0:o.id);c(null),i&&i(e)},children:"Delete"}),(0,Fs.jsx)("button",{className:"btn-secondary",onClick:p,children:"Cancel"})]})]})})]})}const Oo=["All","Chest","Back","Legs","Shoulders","Arms","Core"];function Po(){const{user:e}=Ws(),[t,n]=(0,r.useState)(no),[a,s]=(0,r.useState)(ro),[i,o]=(0,r.useState)("All"),[l,c]=(0,r.useState)(null),[u,d]=(0,r.useState)(!1),[h,p]=(0,r.useState)(""),[f,m]=(0,r.useState)("Chest"),[g,v]=(0,r.useState)(null),[y,b]=(0,r.useState)(null),w="All"===i?t:t.filter(e=>e.muscleGroup===i);function S(e){c(e)}function x(){if(!h.trim())return;const e=[...t,{id:Date.now(),name:h.trim(),muscleGroup:f,type:"Strength"}];n(e),function(e){localStorage.setItem("exercises",JSON.stringify(e))}(e),p(""),d(!1)}function k(){b(null)}const _=t.find(e=>e.id===g),j=t.find(e=>e.id===y),N=y?(a[y]||[]).length:0;return(0,Fs.jsxs)("div",{className:"page",children:[(0,Fs.jsx)("h2",{className:"page-heading",children:"Exercises"}),(0,Fs.jsx)("p",{className:"page-sub",children:"Tap an exercise to view progress \xb7 \uff0b to log a session"}),(0,Fs.jsx)("div",{className:"filter-row",children:Oo.map(e=>(0,Fs.jsx)("button",{className:"filter-chip ".concat(i===e?"active":""),onClick:()=>o(e),children:e},e))}),(0,Fs.jsx)("div",{className:"exercise-list",children:w.map(e=>{const t=function(e){return lo(a,e)[0]||null}(e.id),n=function(e){const t=lo(a,e);if(t.length<2)return null;const n=t[0].totalVolume-t[1].totalVolume;return 0===n?null:{diff:n,up:n>0}}(e.id);return(0,Fs.jsxs)("div",{className:"exercise-card ex-card-row",onClick:()=>v(e.id),children:[(0,Fs.jsxs)("div",{className:"ex-info",children:[(0,Fs.jsx)("div",{className:"exercise-name",children:e.name}),(0,Fs.jsx)("div",{className:"exercise-meta",children:e.muscleGroup}),t&&(0,Fs.jsxs)("div",{className:"ex-last",children:["Last: ",t.totalReps," reps \xb7 ",t.totalVolume.toLocaleString()," kg vol",n&&(0,Fs.jsxs)("span",{className:"overload-badge ".concat(n.up?"up":"down"),children:[n.up?"\u25b2":"\u25bc"," ",Math.abs(n.diff).toLocaleString()," kg"]})]})]}),(0,Fs.jsxs)("div",{className:"ex-actions",onClick:e=>e.stopPropagation(),children:[(0,Fs.jsx)("button",{className:"icon-btn",onClick:()=>S(e),title:"Log session",children:"\uff0b"}),(0,Fs.jsx)("button",{className:"icon-btn icon-btn--danger",onClick:t=>function(e,t){e.stopPropagation(),b(t)}(t,e.id),title:"Delete exercise","aria-label":"Delete exercise",children:"\ud83d\uddd1"})]})]},e.id)})}),u?(0,Fs.jsxs)("div",{className:"add-exercise-form",children:[(0,Fs.jsx)("input",{className:"ex-input",placeholder:"Exercise name",value:h,onChange:e=>p(e.target.value),onKeyDown:e=>"Enter"===e.key&&x(),autoFocus:!0}),(0,Fs.jsx)("select",{className:"ex-select",value:f,onChange:e=>m(e.target.value),children:Oo.filter(e=>"All"!==e).map(e=>(0,Fs.jsx)("option",{children:e},e))}),(0,Fs.jsxs)("div",{className:"add-form-actions",children:[(0,Fs.jsx)("button",{className:"btn-primary",style:{flex:1},onClick:x,children:"Add"}),(0,Fs.jsx)("button",{className:"btn-secondary",style:{flex:1},onClick:()=>d(!1),children:"Cancel"})]})]}):(0,Fs.jsx)("button",{className:"btn-secondary",onClick:()=>d(!0),children:"+ Add Exercise"}),l&&(0,Fs.jsx)(To,{exercise:l,logs:a,onClose:function(){c(null)},onSaved:function(e){s(e)}}),g&&_&&(0,Fs.jsx)(Io,{exercise:_,logs:a,onClose:()=>v(null),onOpenLog:S,onLogsChanged:function(e){s(e)}}),y&&j&&(0,Fs.jsx)("div",{className:"confirm-overlay",onClick:k,children:(0,Fs.jsxs)("div",{className:"confirm-modal",onClick:e=>e.stopPropagation(),children:[(0,Fs.jsx)("div",{className:"confirm-icon",children:"\u26a0\ufe0f"}),(0,Fs.jsxs)("p",{className:"confirm-message",children:["Delete ",(0,Fs.jsx)("strong",{children:j.name}),"?"]}),N>0?(0,Fs.jsxs)("p",{className:"confirm-sub",children:["This will also delete ",N," logged session",1!==N?"s":"",". This cannot be undone."]}):(0,Fs.jsx)("p",{className:"confirm-sub",children:"This cannot be undone."}),(0,Fs.jsxs)("div",{className:"confirm-actions",children:[(0,Fs.jsx)("button",{className:"btn-danger",onClick:function(){if(!y)return;const{updatedExercises:t,updatedLogs:r}=ho(y,null===e||void 0===e?void 0:e.id);n(t),s(r),b(null),g===y&&v(null)},children:"Delete"}),(0,Fs.jsx)("button",{className:"btn-secondary",onClick:k,children:"Cancel"})]})]})})]})}const Ao=[{date:"Feb 20",type:"Upper Body",duration:"52 min",sets:18},{date:"Feb 18",type:"Legs",duration:"44 min",sets:16},{date:"Feb 16",type:"Push",duration:"48 min",sets:15},{date:"Feb 14",type:"Pull",duration:"41 min",sets:14},{date:"Feb 12",type:"Full Body",duration:"60 min",sets:20}];function Lo(){return(0,Fs.jsxs)("div",{className:"page",children:[(0,Fs.jsx)("h2",{className:"page-heading",children:"History \ud83d\udcc5"}),(0,Fs.jsx)("p",{className:"page-sub",children:"Past sessions"}),(0,Fs.jsx)("div",{className:"history-list",children:Ao.map((e,t)=>(0,Fs.jsxs)("div",{className:"history-card",children:[(0,Fs.jsxs)("div",{className:"history-left",children:[(0,Fs.jsx)("div",{className:"history-date",children:e.date}),(0,Fs.jsx)("div",{className:"history-type",children:e.type})]}),(0,Fs.jsxs)("div",{className:"history-right",children:[(0,Fs.jsx)("div",{className:"history-duration",children:e.duration}),(0,Fs.jsxs)("div",{className:"history-sets",children:[e.sets," sets"]})]})]},t))})]})}function Do(){return(0,Fs.jsxs)("div",{className:"page",children:[(0,Fs.jsx)("h2",{className:"page-heading",children:"Progress"}),(0,Fs.jsx)("p",{className:"page-sub",children:"Track your gains over time"}),(0,Fs.jsx)("p",{className:"page-sub",style:{textAlign:"center",marginTop:"2rem"},children:"Charts will appear once you have logged workouts."})]})}async function zo(e){if(!js||!e)return null;const{data:t,error:n}=await js.from("coach_shares").select("*").eq("user_id",e).maybeSingle();if(n)throw n;return t}function Uo(e){return"".concat("https://nina-nekketsu.github.io/reptrack/#/coach/").concat(e)}function Mo(){const{user:e,signOut:t,syncing:n,syncError:a,syncData:s}=Ws(),[i,o]=(0,r.useState)(null),[l,c]=(0,r.useState)(!1),[u,d]=(0,r.useState)(null),[h,p]=(0,r.useState)(!1),f=(0,r.useCallback)(async()=>{if(e&&Es)try{const t=await zo(e.id);o(t)}catch(t){console.error("[Profile] loadShare error:",t)}},[e]);async function m(t){if(e){c(!0),d(null);try{let n;n=t?await async function(e){if(!js||!e)throw new Error("Supabase not configured");if(await zo(e)){const{data:t,error:n}=await js.from("coach_shares").update({enabled:!0}).eq("user_id",e).select().single();if(n)throw n;return t}const{data:t,error:n}=await js.from("coach_shares").insert({user_id:e,enabled:!0}).select().single();if(n)throw n;return t}(e.id):await async function(e){if(!js||!e)throw new Error("Supabase not configured");const{data:t,error:n}=await js.from("coach_shares").update({enabled:!1}).eq("user_id",e).select().single();if(n)throw n;return t}(e.id),o(n)}catch(n){console.error("[Profile] toggle share error:",n),d(n.message||"Something went wrong")}finally{c(!1)}}}(0,r.useEffect)(()=>{f()},[f]);const g=!0===(null===i||void 0===i?void 0:i.enabled),v=null!==i&&void 0!==i&&i.token?Uo(i.token):null;return(0,Fs.jsxs)("div",{className:"page",children:[(0,Fs.jsx)("h2",{className:"page-heading",children:"Profile"}),(0,Fs.jsx)("p",{className:"page-sub",children:"Your settings and account"}),(0,Fs.jsx)("div",{style:{textAlign:"center",marginTop:"2rem"},children:(0,Fs.jsx)("div",{className:"profile-avatar",children:"\ud83d\udcaa"})}),e&&(0,Fs.jsxs)("div",{className:"profile-auth-section",children:[(0,Fs.jsxs)("p",{className:"profile-user-email",children:["Signed in as ",(0,Fs.jsx)("strong",{children:e.email})]}),(0,Fs.jsxs)("div",{className:"profile-sync-status",children:[n&&"\u27f3 Syncing\u2026",!n&&a&&(0,Fs.jsxs)("span",{className:"error",children:["\u26a0 Last sync failed: ",a]}),!n&&!a&&Es&&"\u2713 Cloud sync active"]}),Es&&(0,Fs.jsx)("button",{style:{background:"rgba(124,106,247,0.12)",border:"1.5px solid rgba(124,106,247,0.35)",color:"#a78bfa",borderRadius:12,padding:"0.7rem",fontSize:"0.9rem",fontWeight:600,cursor:"pointer"},onClick:async function(){e&&await s(e.id)},disabled:n,children:n?"Syncing\u2026":"\u27f3 Sync now"}),Es&&(0,Fs.jsxs)("div",{className:"coach-share-section",children:[(0,Fs.jsx)("h3",{className:"coach-share-heading",children:"\ud83d\udd17 Coach sharing"}),(0,Fs.jsx)("p",{className:"coach-share-desc",children:"Generate a private link so your coach can view your logs \u2014 no account needed on their end."}),u&&(0,Fs.jsxs)("div",{className:"coach-share-error",children:["\u26a0 ",u]}),(0,Fs.jsxs)("div",{className:"coach-share-toggle-row",children:[(0,Fs.jsx)("span",{className:"coach-share-label",children:g?"Sharing ON":"Sharing OFF"}),(0,Fs.jsx)("button",{className:"coach-toggle-btn ".concat(g?"active":""),onClick:()=>m(!g),disabled:l,"aria-pressed":g,children:l?"\u2026":g?"ON":"OFF"})]}),g&&v&&(0,Fs.jsxs)("div",{className:"coach-link-block",children:[(0,Fs.jsx)("div",{className:"coach-share-warning",children:"\u26a0 Anyone with this link can view your training logs."}),(0,Fs.jsx)("label",{className:"coach-link-label",children:"Coach link"}),(0,Fs.jsxs)("div",{className:"coach-link-row",children:[(0,Fs.jsx)("input",{className:"coach-link-input",readOnly:!0,value:v,onFocus:e=>e.target.select()}),(0,Fs.jsx)("button",{className:"coach-copy-btn",onClick:function(){if(null===i||void 0===i||!i.token)return;const e=Uo(i.token);navigator.clipboard.writeText(e).then(()=>{p(!0),setTimeout(()=>p(!1),2e3)})},disabled:l,children:h?"\u2713 Copied":"Copy"})]}),(0,Fs.jsx)("button",{className:"coach-rotate-btn",onClick:async function(){if(e&&window.confirm("Rotating the token will invalidate the current link. Continue?")){c(!0),d(null);try{const t=await async function(e){if(!js||!e)throw new Error("Supabase not configured");await js.from("coach_shares").delete().eq("user_id",e);const{data:t,error:n}=await js.from("coach_shares").insert({user_id:e,enabled:!0,rotated_at:(new Date).toISOString()}).select().single();if(n)throw n;return t}(e.id);o(t)}catch(t){console.error("[Profile] rotate error:",t),d(t.message||"Something went wrong")}finally{c(!1)}}},disabled:l,children:"\ud83d\udd04 Rotate link (revokes old link)"})]})]}),(0,Fs.jsx)("button",{className:"profile-signout-btn",onClick:t,children:"Sign Out"})]}),!e&&!Es&&(0,Fs.jsxs)("div",{className:"profile-auth-section",children:[(0,Fs.jsx)("p",{className:"profile-user-email",children:"Running locally \u2014 no cloud sync"}),(0,Fs.jsxs)("p",{className:"profile-sync-status",children:["Add Supabase credentials to ",(0,Fs.jsx)("code",{children:".env"})," to enable sync."]})]}),(0,Fs.jsx)("div",{className:"profile-build-footer",children:(0,Fs.jsx)("span",{className:"build-id-tag",children:Co()})})]})}const Fo={warmup:"light",ramp:["light","moderate","hard"],hyp3:["moderate","moderate","hard"],hyp4:["moderate","moderate","hard","hard"],str3:["moderate","hard","hard"],str4:["moderate","hard","hard","hard"]},Bo=[{id:"casual-60-hyp",name:"Full Body Hypertrophy (60 min)",frequency:"casual",daysPerWeek:1,durationMin:60,goal:"hypertrophy",split:"full-body",days:[{dayName:"Full Body",exercises:[{exerciseId:"lib-bb-squat",warmupSets:2,workingSets:3,targetReps:"10-15",intensity:Fo.hyp3,notes:"Control the eccentric, 2s down"},{exerciseId:"lib-bb-bench",warmupSets:1,workingSets:3,targetReps:"10-15",intensity:Fo.hyp3,notes:"Squeeze at the top"},{exerciseId:"lib-lat-pulldown",warmupSets:1,workingSets:3,targetReps:"10-15",intensity:Fo.hyp3,notes:"Full stretch at top"},{exerciseId:"lib-db-ohp",warmupSets:0,workingSets:3,targetReps:"10-15",intensity:Fo.hyp3,notes:"Controlled press"},{exerciseId:"lib-db-curl",warmupSets:0,workingSets:2,targetReps:"12-15",intensity:["moderate","hard"],superset:"A"},{exerciseId:"lib-tri-pushdown",warmupSets:0,workingSets:2,targetReps:"12-15",intensity:["moderate","hard"],superset:"A"},{exerciseId:"lib-plank",warmupSets:0,workingSets:2,targetReps:"30-60s",intensity:["moderate","hard"]}]}]},{id:"casual-90-hyp",name:"Full Body Hypertrophy (90 min)",frequency:"casual",daysPerWeek:1,durationMin:90,goal:"hypertrophy",split:"full-body",days:[{dayName:"Full Body",exercises:[{exerciseId:"lib-bb-squat",warmupSets:2,workingSets:4,targetReps:"10-15",intensity:Fo.hyp4,notes:"Control the eccentric, 2s down"},{exerciseId:"lib-rdl",warmupSets:1,workingSets:3,targetReps:"10-12",intensity:Fo.hyp3,notes:"Hinge at hips, feel hamstrings"},{exerciseId:"lib-bb-bench",warmupSets:1,workingSets:4,targetReps:"10-15",intensity:Fo.hyp4,notes:"Squeeze at the top"},{exerciseId:"lib-bb-row",warmupSets:1,workingSets:3,targetReps:"10-12",intensity:Fo.hyp3,notes:"Pull to lower chest"},{exerciseId:"lib-lat-pulldown",warmupSets:0,workingSets:3,targetReps:"10-15",intensity:Fo.hyp3,notes:"Full stretch at top"},{exerciseId:"lib-db-ohp",warmupSets:0,workingSets:3,targetReps:"10-15",intensity:Fo.hyp3},{exerciseId:"lib-lat-raise",warmupSets:0,workingSets:3,targetReps:"12-20",intensity:Fo.hyp3},{exerciseId:"lib-db-curl",warmupSets:0,workingSets:3,targetReps:"12-15",intensity:Fo.hyp3,superset:"A"},{exerciseId:"lib-tri-pushdown",warmupSets:0,workingSets:3,targetReps:"12-15",intensity:Fo.hyp3,superset:"A"},{exerciseId:"lib-hanging-leg",warmupSets:0,workingSets:2,targetReps:"10-15",intensity:["moderate","hard"]}]}]},{id:"casual-60-str",name:"Full Body Strength (60 min)",frequency:"casual",daysPerWeek:1,durationMin:60,goal:"strength",split:"full-body",days:[{dayName:"Full Body",exercises:[{exerciseId:"lib-bb-squat",warmupSets:2,workingSets:3,targetReps:"5-8",intensity:Fo.str3,notes:"Explosive up, controlled down"},{exerciseId:"lib-bb-bench",warmupSets:2,workingSets:3,targetReps:"5-8",intensity:Fo.str3,notes:"Drive through the chest"},{exerciseId:"lib-bb-row",warmupSets:1,workingSets:3,targetReps:"6-10",intensity:Fo.str3,notes:"Brace hard, row to navel"},{exerciseId:"lib-ohp",warmupSets:1,workingSets:3,targetReps:"5-8",intensity:Fo.str3},{exerciseId:"lib-bb-curl",warmupSets:0,workingSets:2,targetReps:"8-10",intensity:["moderate","hard"],superset:"A"},{exerciseId:"lib-skull-crusher",warmupSets:0,workingSets:2,targetReps:"8-10",intensity:["moderate","hard"],superset:"A"}]}]},{id:"casual-90-str",name:"Full Body Strength (90 min)",frequency:"casual",daysPerWeek:1,durationMin:90,goal:"strength",split:"full-body",days:[{dayName:"Full Body",exercises:[{exerciseId:"lib-bb-squat",warmupSets:3,workingSets:4,targetReps:"5-8",intensity:Fo.str4,notes:"Explosive up, controlled down"},{exerciseId:"lib-deadlift",warmupSets:2,workingSets:3,targetReps:"5-8",intensity:Fo.str3,notes:"Brace, hinge, lock out"},{exerciseId:"lib-bb-bench",warmupSets:2,workingSets:4,targetReps:"5-8",intensity:Fo.str4,notes:"Drive through the chest"},{exerciseId:"lib-bb-row",warmupSets:1,workingSets:3,targetReps:"6-10",intensity:Fo.str3},{exerciseId:"lib-ohp",warmupSets:1,workingSets:3,targetReps:"5-8",intensity:Fo.str3},{exerciseId:"lib-pullups",warmupSets:0,workingSets:3,targetReps:"5-10",intensity:Fo.str3},{exerciseId:"lib-bb-curl",warmupSets:0,workingSets:2,targetReps:"8-10",intensity:["moderate","hard"],superset:"A"},{exerciseId:"lib-close-grip-bp",warmupSets:0,workingSets:2,targetReps:"8-10",intensity:["moderate","hard"],superset:"A"}]}]},{id:"moderate-60-hyp",name:"Upper/Lower Hypertrophy (60 min)",frequency:"moderate",daysPerWeek:2,durationMin:60,goal:"hypertrophy",split:"upper-lower",days:[{dayName:"Upper Body",exercises:[{exerciseId:"lib-bb-bench",warmupSets:1,workingSets:3,targetReps:"10-15",intensity:Fo.hyp3},{exerciseId:"lib-lat-pulldown",warmupSets:1,workingSets:3,targetReps:"10-15",intensity:Fo.hyp3},{exerciseId:"lib-db-ohp",warmupSets:0,workingSets:3,targetReps:"10-15",intensity:Fo.hyp3},{exerciseId:"lib-cable-row",warmupSets:0,workingSets:3,targetReps:"10-15",intensity:Fo.hyp3},{exerciseId:"lib-lat-raise",warmupSets:0,workingSets:3,targetReps:"12-20",intensity:Fo.hyp3,superset:"A"},{exerciseId:"lib-face-pull",warmupSets:0,workingSets:3,targetReps:"15-20",intensity:Fo.hyp3,superset:"A"},{exerciseId:"lib-db-curl",warmupSets:0,workingSets:2,targetReps:"12-15",intensity:["moderate","hard"],superset:"B"},{exerciseId:"lib-tri-rope",warmupSets:0,workingSets:2,targetReps:"12-15",intensity:["moderate","hard"],superset:"B"}]},{dayName:"Lower Body",exercises:[{exerciseId:"lib-bb-squat",warmupSets:2,workingSets:3,targetReps:"10-15",intensity:Fo.hyp3},{exerciseId:"lib-rdl",warmupSets:1,workingSets:3,targetReps:"10-12",intensity:Fo.hyp3},{exerciseId:"lib-leg-press",warmupSets:0,workingSets:3,targetReps:"12-15",intensity:Fo.hyp3},{exerciseId:"lib-leg-curl",warmupSets:0,workingSets:3,targetReps:"12-15",intensity:Fo.hyp3},{exerciseId:"lib-leg-ext",warmupSets:0,workingSets:3,targetReps:"12-15",intensity:Fo.hyp3},{exerciseId:"lib-calf-raise",warmupSets:0,workingSets:3,targetReps:"12-20",intensity:Fo.hyp3},{exerciseId:"lib-hanging-leg",warmupSets:0,workingSets:2,targetReps:"10-15",intensity:["moderate","hard"]}]}]},{id:"moderate-90-hyp",name:"Upper/Lower Hypertrophy (90 min)",frequency:"moderate",daysPerWeek:2,durationMin:90,goal:"hypertrophy",split:"upper-lower",days:[{dayName:"Upper Body",exercises:[{exerciseId:"lib-bb-bench",warmupSets:2,workingSets:4,targetReps:"10-15",intensity:Fo.hyp4},{exerciseId:"lib-bb-row",warmupSets:1,workingSets:4,targetReps:"10-12",intensity:Fo.hyp4},{exerciseId:"lib-incline-db",warmupSets:0,workingSets:3,targetReps:"10-15",intensity:Fo.hyp3},{exerciseId:"lib-lat-pulldown",warmupSets:0,workingSets:3,targetReps:"10-15",intensity:Fo.hyp3},{exerciseId:"lib-db-ohp",warmupSets:0,workingSets:3,targetReps:"10-15",intensity:Fo.hyp3},{exerciseId:"lib-cable-fly",warmupSets:0,workingSets:3,targetReps:"12-15",intensity:Fo.hyp3},{exerciseId:"lib-lat-raise",warmupSets:0,workingSets:3,targetReps:"12-20",intensity:Fo.hyp3,superset:"A"},{exerciseId:"lib-face-pull",warmupSets:0,workingSets:3,targetReps:"15-20",intensity:Fo.hyp3,superset:"A"},{exerciseId:"lib-db-curl",warmupSets:0,workingSets:3,targetReps:"12-15",intensity:Fo.hyp3,superset:"B"},{exerciseId:"lib-tri-pushdown",warmupSets:0,workingSets:3,targetReps:"12-15",intensity:Fo.hyp3,superset:"B"}]},{dayName:"Lower Body",exercises:[{exerciseId:"lib-bb-squat",warmupSets:2,workingSets:4,targetReps:"10-15",intensity:Fo.hyp4},{exerciseId:"lib-rdl",warmupSets:1,workingSets:4,targetReps:"10-12",intensity:Fo.hyp4},{exerciseId:"lib-leg-press",warmupSets:0,workingSets:3,targetReps:"12-15",intensity:Fo.hyp3},{exerciseId:"lib-leg-curl",warmupSets:0,workingSets:3,targetReps:"12-15",intensity:Fo.hyp3},{exerciseId:"lib-leg-ext",warmupSets:0,workingSets:3,targetReps:"12-15",intensity:Fo.hyp3},{exerciseId:"lib-hip-thrust",warmupSets:1,workingSets:3,targetReps:"10-15",intensity:Fo.hyp3},{exerciseId:"lib-calf-raise",warmupSets:0,workingSets:4,targetReps:"12-20",intensity:Fo.hyp4},{exerciseId:"lib-crunch",warmupSets:0,workingSets:3,targetReps:"15-20",intensity:Fo.hyp3}]}]},{id:"moderate-60-str",name:"Upper/Lower Strength (60 min)",frequency:"moderate",daysPerWeek:2,durationMin:60,goal:"strength",split:"upper-lower",days:[{dayName:"Upper Body",exercises:[{exerciseId:"lib-bb-bench",warmupSets:2,workingSets:3,targetReps:"5-8",intensity:Fo.str3},{exerciseId:"lib-bb-row",warmupSets:1,workingSets:3,targetReps:"6-8",intensity:Fo.str3},{exerciseId:"lib-ohp",warmupSets:1,workingSets:3,targetReps:"5-8",intensity:Fo.str3},{exerciseId:"lib-pullups",warmupSets:0,workingSets:3,targetReps:"5-10",intensity:Fo.str3},{exerciseId:"lib-bb-curl",warmupSets:0,workingSets:2,targetReps:"8-10",intensity:["moderate","hard"],superset:"A"},{exerciseId:"lib-skull-crusher",warmupSets:0,workingSets:2,targetReps:"8-10",intensity:["moderate","hard"],superset:"A"}]},{dayName:"Lower Body",exercises:[{exerciseId:"lib-bb-squat",warmupSets:2,workingSets:3,targetReps:"5-8",intensity:Fo.str3},{exerciseId:"lib-deadlift",warmupSets:2,workingSets:3,targetReps:"5-8",intensity:Fo.str3},{exerciseId:"lib-leg-press",warmupSets:0,workingSets:3,targetReps:"8-10",intensity:Fo.str3},{exerciseId:"lib-leg-curl",warmupSets:0,workingSets:3,targetReps:"8-10",intensity:Fo.str3},{exerciseId:"lib-calf-raise",warmupSets:0,workingSets:3,targetReps:"10-15",intensity:Fo.str3}]}]},{id:"moderate-90-str",name:"Upper/Lower Strength (90 min)",frequency:"moderate",daysPerWeek:2,durationMin:90,goal:"strength",split:"upper-lower",days:[{dayName:"Upper Body",exercises:[{exerciseId:"lib-bb-bench",warmupSets:3,workingSets:4,targetReps:"5-8",intensity:Fo.str4},{exerciseId:"lib-bb-row",warmupSets:2,workingSets:4,targetReps:"5-8",intensity:Fo.str4},{exerciseId:"lib-ohp",warmupSets:1,workingSets:3,targetReps:"5-8",intensity:Fo.str3},{exerciseId:"lib-pullups",warmupSets:0,workingSets:3,targetReps:"5-10",intensity:Fo.str3},{exerciseId:"lib-incline-db",warmupSets:0,workingSets:3,targetReps:"6-10",intensity:Fo.str3},{exerciseId:"lib-face-pull",warmupSets:0,workingSets:3,targetReps:"12-15",intensity:Fo.hyp3},{exerciseId:"lib-bb-curl",warmupSets:0,workingSets:3,targetReps:"8-10",intensity:Fo.str3,superset:"A"},{exerciseId:"lib-close-grip-bp",warmupSets:0,workingSets:3,targetReps:"8-10",intensity:Fo.str3,superset:"A"}]},{dayName:"Lower Body",exercises:[{exerciseId:"lib-bb-squat",warmupSets:3,workingSets:4,targetReps:"5-8",intensity:Fo.str4},{exerciseId:"lib-deadlift",warmupSets:2,workingSets:4,targetReps:"5-8",intensity:Fo.str4},{exerciseId:"lib-front-squat",warmupSets:1,workingSets:3,targetReps:"6-8",intensity:Fo.str3},{exerciseId:"lib-rdl",warmupSets:0,workingSets:3,targetReps:"6-10",intensity:Fo.str3},{exerciseId:"lib-leg-curl",warmupSets:0,workingSets:3,targetReps:"8-10",intensity:Fo.str3},{exerciseId:"lib-calf-raise",warmupSets:0,workingSets:4,targetReps:"10-15",intensity:Fo.str4},{exerciseId:"lib-hanging-leg",warmupSets:0,workingSets:3,targetReps:"10-15",intensity:Fo.hyp3}]}]},{id:"hardcore-60-hyp",name:"Push/Pull/Legs Hypertrophy (60 min)",frequency:"hardcore",daysPerWeek:3,durationMin:60,goal:"hypertrophy",split:"push-pull-legs",days:[{dayName:"Push (Chest, Shoulders, Triceps)",exercises:[{exerciseId:"lib-bb-bench",warmupSets:2,workingSets:3,targetReps:"10-15",intensity:Fo.hyp3},{exerciseId:"lib-incline-db",warmupSets:0,workingSets:3,targetReps:"10-15",intensity:Fo.hyp3},{exerciseId:"lib-db-ohp",warmupSets:0,workingSets:3,targetReps:"10-15",intensity:Fo.hyp3},{exerciseId:"lib-cable-fly",warmupSets:0,workingSets:3,targetReps:"12-15",intensity:Fo.hyp3,superset:"A"},{exerciseId:"lib-lat-raise",warmupSets:0,workingSets:3,targetReps:"12-20",intensity:Fo.hyp3,superset:"A"},{exerciseId:"lib-tri-pushdown",warmupSets:0,workingSets:3,targetReps:"12-15",intensity:Fo.hyp3}]},{dayName:"Pull (Back, Biceps)",exercises:[{exerciseId:"lib-lat-pulldown",warmupSets:1,workingSets:3,targetReps:"10-15",intensity:Fo.hyp3},{exerciseId:"lib-bb-row",warmupSets:1,workingSets:3,targetReps:"10-12",intensity:Fo.hyp3},{exerciseId:"lib-cable-row",warmupSets:0,workingSets:3,targetReps:"10-15",intensity:Fo.hyp3},{exerciseId:"lib-face-pull",warmupSets:0,workingSets:3,targetReps:"15-20",intensity:Fo.hyp3,superset:"B"},{exerciseId:"lib-rear-delt-fly",warmupSets:0,workingSets:3,targetReps:"12-15",intensity:Fo.hyp3,superset:"B"},{exerciseId:"lib-db-curl",warmupSets:0,workingSets:3,targetReps:"12-15",intensity:Fo.hyp3}]},{dayName:"Legs",exercises:[{exerciseId:"lib-bb-squat",warmupSets:2,workingSets:3,targetReps:"10-15",intensity:Fo.hyp3},{exerciseId:"lib-rdl",warmupSets:1,workingSets:3,targetReps:"10-12",intensity:Fo.hyp3},{exerciseId:"lib-leg-press",warmupSets:0,workingSets:3,targetReps:"12-15",intensity:Fo.hyp3},{exerciseId:"lib-leg-curl",warmupSets:0,workingSets:3,targetReps:"12-15",intensity:Fo.hyp3,superset:"A"},{exerciseId:"lib-leg-ext",warmupSets:0,workingSets:3,targetReps:"12-15",intensity:Fo.hyp3,superset:"A"},{exerciseId:"lib-calf-raise",warmupSets:0,workingSets:3,targetReps:"12-20",intensity:Fo.hyp3}]}]},{id:"hardcore-90-hyp",name:"Push/Pull/Legs Hypertrophy (90 min)",frequency:"hardcore",daysPerWeek:3,durationMin:90,goal:"hypertrophy",split:"push-pull-legs",days:[{dayName:"Push (Chest, Shoulders, Triceps)",exercises:[{exerciseId:"lib-bb-bench",warmupSets:2,workingSets:4,targetReps:"10-15",intensity:Fo.hyp4},{exerciseId:"lib-incline-db",warmupSets:0,workingSets:3,targetReps:"10-15",intensity:Fo.hyp3},{exerciseId:"lib-db-ohp",warmupSets:0,workingSets:4,targetReps:"10-15",intensity:Fo.hyp4},{exerciseId:"lib-cable-fly",warmupSets:0,workingSets:3,targetReps:"12-15",intensity:Fo.hyp3},{exerciseId:"lib-lat-raise",warmupSets:0,workingSets:4,targetReps:"12-20",intensity:Fo.hyp4},{exerciseId:"lib-front-raise",warmupSets:0,workingSets:2,targetReps:"12-15",intensity:["moderate","hard"]},{exerciseId:"lib-tri-pushdown",warmupSets:0,workingSets:3,targetReps:"12-15",intensity:Fo.hyp3,superset:"A"},{exerciseId:"lib-db-overhead-ext",warmupSets:0,workingSets:3,targetReps:"12-15",intensity:Fo.hyp3,superset:"A"}]},{dayName:"Pull (Back, Biceps, Rear Delts)",exercises:[{exerciseId:"lib-lat-pulldown",warmupSets:1,workingSets:4,targetReps:"10-15",intensity:Fo.hyp4},{exerciseId:"lib-bb-row",warmupSets:1,workingSets:4,targetReps:"10-12",intensity:Fo.hyp4},{exerciseId:"lib-cable-row",warmupSets:0,workingSets:3,targetReps:"10-15",intensity:Fo.hyp3},{exerciseId:"lib-straight-arm-pd",warmupSets:0,workingSets:3,targetReps:"12-15",intensity:Fo.hyp3},{exerciseId:"lib-face-pull",warmupSets:0,workingSets:3,targetReps:"15-20",intensity:Fo.hyp3},{exerciseId:"lib-db-curl",warmupSets:0,workingSets:3,targetReps:"12-15",intensity:Fo.hyp3,superset:"B"},{exerciseId:"lib-hammer-curl",warmupSets:0,workingSets:3,targetReps:"12-15",intensity:Fo.hyp3,superset:"B"}]},{dayName:"Legs",exercises:[{exerciseId:"lib-bb-squat",warmupSets:2,workingSets:4,targetReps:"10-15",intensity:Fo.hyp4},{exerciseId:"lib-rdl",warmupSets:1,workingSets:4,targetReps:"10-12",intensity:Fo.hyp4},{exerciseId:"lib-leg-press",warmupSets:0,workingSets:3,targetReps:"12-15",intensity:Fo.hyp3},{exerciseId:"lib-leg-curl",warmupSets:0,workingSets:3,targetReps:"12-15",intensity:Fo.hyp3},{exerciseId:"lib-leg-ext",warmupSets:0,workingSets:3,targetReps:"12-15",intensity:Fo.hyp3},{exerciseId:"lib-hip-thrust",warmupSets:0,workingSets:3,targetReps:"10-15",intensity:Fo.hyp3},{exerciseId:"lib-calf-raise",warmupSets:0,workingSets:4,targetReps:"12-20",intensity:Fo.hyp4},{exerciseId:"lib-hanging-leg",warmupSets:0,workingSets:3,targetReps:"10-15",intensity:Fo.hyp3}]}]},{id:"hardcore-60-str",name:"Push/Pull/Legs Strength (60 min)",frequency:"hardcore",daysPerWeek:3,durationMin:60,goal:"strength",split:"push-pull-legs",days:[{dayName:"Push",exercises:[{exerciseId:"lib-bb-bench",warmupSets:2,workingSets:3,targetReps:"5-8",intensity:Fo.str3},{exerciseId:"lib-ohp",warmupSets:1,workingSets:3,targetReps:"5-8",intensity:Fo.str3},{exerciseId:"lib-incline-db",warmupSets:0,workingSets:3,targetReps:"6-10",intensity:Fo.str3},{exerciseId:"lib-lat-raise",warmupSets:0,workingSets:3,targetReps:"10-15",intensity:Fo.hyp3},{exerciseId:"lib-tri-pushdown",warmupSets:0,workingSets:3,targetReps:"8-12",intensity:Fo.str3}]},{dayName:"Pull",exercises:[{exerciseId:"lib-deadlift",warmupSets:2,workingSets:3,targetReps:"5-8",intensity:Fo.str3},{exerciseId:"lib-pullups",warmupSets:0,workingSets:3,targetReps:"5-10",intensity:Fo.str3},{exerciseId:"lib-bb-row",warmupSets:1,workingSets:3,targetReps:"6-8",intensity:Fo.str3},{exerciseId:"lib-face-pull",warmupSets:0,workingSets:3,targetReps:"12-15",intensity:Fo.hyp3},{exerciseId:"lib-bb-curl",warmupSets:0,workingSets:3,targetReps:"8-10",intensity:Fo.str3}]},{dayName:"Legs",exercises:[{exerciseId:"lib-bb-squat",warmupSets:2,workingSets:3,targetReps:"5-8",intensity:Fo.str3},{exerciseId:"lib-rdl",warmupSets:1,workingSets:3,targetReps:"6-8",intensity:Fo.str3},{exerciseId:"lib-leg-press",warmupSets:0,workingSets:3,targetReps:"8-10",intensity:Fo.str3},{exerciseId:"lib-leg-curl",warmupSets:0,workingSets:3,targetReps:"8-10",intensity:Fo.str3},{exerciseId:"lib-calf-raise",warmupSets:0,workingSets:3,targetReps:"10-15",intensity:Fo.str3}]}]},{id:"hardcore-90-str",name:"Push/Pull/Legs Strength (90 min)",frequency:"hardcore",daysPerWeek:3,durationMin:90,goal:"strength",split:"push-pull-legs",days:[{dayName:"Push",exercises:[{exerciseId:"lib-bb-bench",warmupSets:3,workingSets:4,targetReps:"5-8",intensity:Fo.str4},{exerciseId:"lib-ohp",warmupSets:2,workingSets:4,targetReps:"5-8",intensity:Fo.str4},{exerciseId:"lib-incline-db",warmupSets:0,workingSets:3,targetReps:"6-10",intensity:Fo.str3},{exerciseId:"lib-cable-fly",warmupSets:0,workingSets:3,targetReps:"10-12",intensity:Fo.hyp3},{exerciseId:"lib-lat-raise",warmupSets:0,workingSets:4,targetReps:"10-15",intensity:Fo.hyp4},{exerciseId:"lib-tri-pushdown",warmupSets:0,workingSets:3,targetReps:"8-12",intensity:Fo.str3,superset:"A"},{exerciseId:"lib-skull-crusher",warmupSets:0,workingSets:3,targetReps:"8-10",intensity:Fo.str3,superset:"A"}]},{dayName:"Pull",exercises:[{exerciseId:"lib-deadlift",warmupSets:3,workingSets:4,targetReps:"5-8",intensity:Fo.str4},{exerciseId:"lib-pullups",warmupSets:0,workingSets:4,targetReps:"5-10",intensity:Fo.str4},{exerciseId:"lib-bb-row",warmupSets:1,workingSets:4,targetReps:"5-8",intensity:Fo.str4},{exerciseId:"lib-cable-row",warmupSets:0,workingSets:3,targetReps:"8-10",intensity:Fo.str3},{exerciseId:"lib-face-pull",warmupSets:0,workingSets:3,targetReps:"12-15",intensity:Fo.hyp3},{exerciseId:"lib-bb-curl",warmupSets:0,workingSets:3,targetReps:"8-10",intensity:Fo.str3,superset:"B"},{exerciseId:"lib-hammer-curl",warmupSets:0,workingSets:3,targetReps:"8-10",intensity:Fo.str3,superset:"B"}]},{dayName:"Legs",exercises:[{exerciseId:"lib-bb-squat",warmupSets:3,workingSets:4,targetReps:"5-8",intensity:Fo.str4},{exerciseId:"lib-front-squat",warmupSets:1,workingSets:3,targetReps:"6-8",intensity:Fo.str3},{exerciseId:"lib-rdl",warmupSets:1,workingSets:4,targetReps:"5-8",intensity:Fo.str4},{exerciseId:"lib-leg-press",warmupSets:0,workingSets:3,targetReps:"8-10",intensity:Fo.str3},{exerciseId:"lib-leg-curl",warmupSets:0,workingSets:3,targetReps:"8-10",intensity:Fo.str3},{exerciseId:"lib-calf-raise",warmupSets:0,workingSets:4,targetReps:"10-15",intensity:Fo.str4},{exerciseId:"lib-hanging-leg",warmupSets:0,workingSets:3,targetReps:"10-15",intensity:Fo.hyp3}]}]}];function qo(e){return Bo.find(t=>t.id===e)||null}const Wo=Bo,Ho=["You showed up. That's the hardest part. Everything else follows.","Harder than last time \u2014 that's all that matters.","This is a marathon, not a sprint. Another session in the bank.","Consistency beats intensity. You're building something.","Effort overrides variety. You did the work today."];function Vo(e){let{summary:t,planId:n,cardioMinutes:r,onClose:a}=e;if(!t)return null;const s=n?qo(n):null;let i=null;s&&s.days.length>1&&(i=s.days.map(e=>e.dayName).join(" / "));const o=t.duration?Math.floor(t.duration/6e4):null,l=Ho[Math.floor(Math.random()*Ho.length)];return(0,Fs.jsx)("div",{className:"workout-summary-overlay",onClick:a,children:(0,Fs.jsxs)("div",{className:"workout-summary",onClick:e=>e.stopPropagation(),children:[(0,Fs.jsxs)("div",{className:"ws-header",children:[(0,Fs.jsx)("h2",{className:"ws-title",children:"Workout Complete"}),(0,Fs.jsxs)("p",{className:"ws-subtitle",children:[t.exerciseCount," exercises logged"]})]}),(0,Fs.jsxs)("div",{className:"ws-stats",children:[(0,Fs.jsxs)("div",{className:"ws-stat",children:[(0,Fs.jsx)("span",{className:"ws-stat-value",children:t.totalSets}),(0,Fs.jsx)("span",{className:"ws-stat-label",children:"Sets"})]}),(0,Fs.jsxs)("div",{className:"ws-stat",children:[(0,Fs.jsxs)("span",{className:"ws-stat-value",children:[(t.totalVolume/1e3).toFixed(1),"t"]}),(0,Fs.jsx)("span",{className:"ws-stat-label",children:"Volume"})]}),null!=o&&(0,Fs.jsxs)("div",{className:"ws-stat",children:[(0,Fs.jsxs)("span",{className:"ws-stat-value",children:[o,"m"]}),(0,Fs.jsx)("span",{className:"ws-stat-label",children:"Duration"})]})]}),t.improvements.length>0&&(0,Fs.jsxs)(Fs.Fragment,{children:[(0,Fs.jsx)("p",{className:"ws-section-title",children:"Progressive Overload Wins"}),(0,Fs.jsx)("div",{className:"ws-improvements",children:t.improvements.map((e,t)=>(0,Fs.jsxs)("div",{className:"ws-item ws-item--up",children:[(0,Fs.jsx)("span",{className:"ws-item-icon",children:"+"}),(0,Fs.jsx)("span",{children:e.exercise}),e.levers.map((e,t)=>(0,Fs.jsxs)("span",{className:"coach-fb-lever coach-fb-lever--up",children:[e.lever,": ",e.from,">",e.to]},t))]},t))})]}),t.regressions.length>0&&(0,Fs.jsxs)(Fs.Fragment,{children:[(0,Fs.jsx)("p",{className:"ws-section-title",children:"Below Last Time"}),(0,Fs.jsx)("div",{className:"ws-regressions",children:t.regressions.map((e,t)=>(0,Fs.jsxs)("div",{className:"ws-item ws-item--down",children:[(0,Fs.jsx)("span",{className:"ws-item-icon",children:"-"}),(0,Fs.jsx)("span",{children:e.exercise})]},t))}),t.regressions.length>0&&0===t.improvements.length&&(0,Fs.jsx)("p",{className:"ws-regression-note",children:"Off days happen. Zoom out \u2014 monthly progress matters more than one session."})]}),(t.maintainedCount>0||t.firstTimeCount>0)&&(0,Fs.jsxs)("p",{className:"ws-section-title",style:{color:"var(--c-text)"},children:[t.maintainedCount>0&&"".concat(t.maintainedCount," maintained"),t.maintainedCount>0&&t.firstTimeCount>0&&" \xb7 ",t.firstTimeCount>0&&"".concat(t.firstTimeCount," first-time")]}),null!=r&&(0,Fs.jsxs)("div",{className:"ws-cardio-row",children:[(0,Fs.jsx)("span",{className:"ws-cardio-label",children:"Weekly Cardio"}),(0,Fs.jsxs)("span",{className:"ws-cardio-value",children:[Math.round(r)," / 150 min"]})]}),i&&(0,Fs.jsxs)("div",{className:"ws-next-session",children:[(0,Fs.jsx)("div",{className:"ws-next-label",children:"Next Session"}),(0,Fs.jsx)("div",{children:i})]}),(0,Fs.jsx)("p",{className:"ws-closing",children:l}),(0,Fs.jsx)("button",{className:"ws-close-btn",onClick:a,children:"Done"})]})})}const Go={Chest:"\ud83c\udfcb\ufe0f",Back:"\ud83d\udd19",Legs:"\ud83e\uddb5",Shoulders:"\ud83d\ude46",Arms:"\ud83d\udcaa",Core:"\ud83e\uddd8",default:"\u26a1"};function Ko(e){if(!e)return"0:00";const t=Math.floor((Date.now()-new Date(e).getTime())/1e3),n=Math.floor(t/3600),r=Math.floor(t%3600/60),a=t%60;return n>0?"".concat(n,":").concat(String(r).padStart(2,"0"),":").concat(String(a).padStart(2,"0")):"".concat(r,":").concat(String(a).padStart(2,"0"))}function Jo(){try{const e=localStorage.getItem("activeWorkoutSession");return e?JSON.parse(e):null}catch(e){return null}}function $o(e){e?localStorage.setItem("activeWorkoutSession",JSON.stringify(e)):localStorage.removeItem("activeWorkoutSession")}function Qo(){try{const e=localStorage.getItem("workoutPlans");return e?JSON.parse(e):[]}catch(e){return[]}}function Yo(){try{const e=localStorage.getItem("exercises");return e?JSON.parse(e):[]}catch(e){return[]}}function Xo(){const{planId:e}=je(),t=_e(),n=ci(),a=xi(),[s]=(0,r.useState)(Qo),[i]=(0,r.useState)(Yo),[o,l]=(0,r.useState)(ro),[c,u]=(0,r.useState)(Jo),[d,h]=(0,r.useState)("0:00"),[p,f]=(0,r.useState)(null),[m,g]=(0,r.useState)(!1),[v,y]=(0,r.useState)(null),[b,w]=(0,r.useState)(!1),[S,x]=(0,r.useState)(!1),k=s.find(t=>t.id===e);(0,r.useEffect)(()=>(a.isOnboarded&&c&&a.activateCoach(),()=>{}),[c,a.isOnboarded]),(0,r.useEffect)(()=>{if(k){if(!c||c.planId!==e){const e={planId:k.id,planName:k.name,startedAt:(new Date).toISOString()};u(e),$o(e)}}else t("/workouts",{replace:!0})},[k,e,c,t]),(0,r.useEffect)(()=>{if(!c)return;const e=setInterval(()=>{h(Ko(c.startedAt))},1e3);return h(Ko(c.startedAt)),()=>clearInterval(e)},[c]);const _=(0,r.useCallback)(e=>i.find(t=>t.id===e),[i]);function j(e){if(!c)return!1;const t=o[e];if(!t||0===t.length)return!1;const n=new Date(c.startedAt).getTime();return t.some(e=>new Date(e.date).getTime()>=n)}const N=k?k.exercises.filter(e=>j(e.exerciseId)).length:0,E=k?k.exercises.length:0;function R(){if(n.stopAll(),a.isOnboarded&&k&&c){const e=ro(),t=new Date(c.startedAt),n=[];for(const r of k.exercises){const a=(e[r.exerciseId]||[]).filter(e=>new Date(e.date)>=t);if(a.length>0){const e=a[a.length-1],t=mo(r.exerciseId,c.startedAt),s=e.sets[e.sets.length-1]||{},o=fo(r.exerciseId,s,t),l=i.find(e=>e.id===r.exerciseId);n.push({exerciseName:(null===l||void 0===l?void 0:l.name)||r.exerciseId,overload:o,setsLogged:e.sets.length,volume:e.totalVolume||0})}}if(n.length>0){const e=function(e,t){const n=e.filter(e=>{var t;return"improved"===(null===(t=e.overload)||void 0===t?void 0:t.type)}),r=e.filter(e=>{var t;return"regressed"===(null===(t=e.overload)||void 0===t?void 0:t.type)}),a=e.filter(e=>{var t;return"maintained"===(null===(t=e.overload)||void 0===t?void 0:t.type)}),s=e.filter(e=>{var t;return"first"===(null===(t=e.overload)||void 0===t?void 0:t.type)});return{totalSets:e.reduce((e,t)=>e+(t.setsLogged||0),0),totalVolume:e.reduce((e,t)=>e+(t.volume||0),0),duration:t,improvements:n.map(e=>({exercise:e.exerciseName,levers:e.overload.levers.filter(e=>"up"===e.direction)})),regressions:r.map(e=>({exercise:e.exerciseName,levers:e.overload.levers.filter(e=>"down"===e.direction)})),maintainedCount:a.length,firstTimeCount:s.length,exerciseCount:e.length}}(n,Date.now()-t.getTime(),a.profile.goal);y(e),g(!0);const r=function(e){if(!e||0===e.length)return 0;let t=0;for(const n of e)"regressed"===n.type&&(t+=10),"maintained"===n.type&&(t+=2),"improved"===n.type&&(t-=5);return Math.round(t/e.length)}(n.map(e=>e.overload));return a.updateMetadata({fatigueScore:Math.max(0,Math.min(100,a.metadata.fatigueScore+r)),totalSessions:a.metadata.totalSessions+1,lastSessionDate:(new Date).toISOString()}),a.deactivateCoach(),u(null),void $o(null)}}a.deactivateCoach(),u(null),$o(null),t("/workouts",{replace:!0})}return k?(0,Fs.jsxs)("div",{className:"page active-workout-page",children:[(0,Fs.jsxs)("div",{className:"aw-header",children:[(0,Fs.jsxs)("div",{className:"aw-header__top",children:[(0,Fs.jsxs)("div",{className:"aw-header__info",children:[(0,Fs.jsx)("div",{className:"aw-header__label",children:"Active Workout"}),(0,Fs.jsx)("div",{className:"aw-header__name",children:k.name})]}),(0,Fs.jsx)("button",{className:"aw-end-btn",onClick:()=>x(!0),children:"End Workout"})]}),(0,Fs.jsxs)("div",{className:"aw-header__stats",children:[(0,Fs.jsxs)("div",{className:"aw-stat",children:[(0,Fs.jsx)("span",{className:"aw-stat__icon",children:"\u23f1"}),(0,Fs.jsx)("span",{className:"aw-stat__value",children:d}),(0,Fs.jsx)("span",{className:"aw-stat__label",children:"Elapsed"})]}),(0,Fs.jsxs)("div",{className:"aw-stat",children:[(0,Fs.jsx)("span",{className:"aw-stat__icon",children:"\u2705"}),(0,Fs.jsxs)("span",{className:"aw-stat__value",children:[N,"/",E]}),(0,Fs.jsx)("span",{className:"aw-stat__label",children:"Exercises"})]})]}),(0,Fs.jsx)("div",{className:"aw-progress-bar",children:(0,Fs.jsx)("div",{className:"aw-progress-bar__fill",style:{width:E>0?"".concat(N/E*100,"%"):"0%"}})})]}),a.isOnboarded&&!b&&0===N&&(0,Fs.jsxs)("div",{className:"aw-warmup-banner",children:[(0,Fs.jsxs)("div",{className:"aw-warmup-text",children:[(0,Fs.jsx)("strong",{children:"10-min warm-up?"}),(0,Fs.jsx)("span",{children:"Start with moderate steady-state cardio. It prevents injury and counts toward your 150-min weekly target."})]}),(0,Fs.jsxs)("div",{className:"aw-warmup-actions",children:[(0,Fs.jsx)("button",{className:"aw-warmup-btn aw-warmup-btn--yes",onClick:()=>{a.addCardioLog({type:"other",minutes:10}),w(!0)},children:"Done it"}),(0,Fs.jsx)("button",{className:"aw-warmup-btn aw-warmup-btn--skip",onClick:()=>w(!0),children:"Skip"})]})]}),(0,Fs.jsx)("div",{className:"aw-exercise-list",children:k.exercises.map((e,t)=>{const n=_(e.exerciseId);if(!n)return null;const r=j(e.exerciseId);return(0,Fs.jsxs)("div",{className:"aw-exercise-row ".concat(r?"aw-exercise-row--done":""),onClick:()=>{f(n)},children:[(0,Fs.jsx)("div",{className:"aw-exercise-status",children:(0,Fs.jsx)("span",{className:"aw-number",children:t+1})}),(0,Fs.jsx)("div",{className:"aw-exercise-thumb",children:(a=n.muscleGroup,Go[a]||Go.default)}),(0,Fs.jsxs)("div",{className:"aw-exercise-info",children:[(0,Fs.jsx)("div",{className:"aw-exercise-name ".concat(r?"aw-exercise-name--done":""),children:n.name}),(0,Fs.jsxs)("div",{className:"aw-exercise-meta",children:[n.muscleGroup," \xb7 ",e.prescribedSets,"\xd7",e.prescribedReps]})]}),(0,Fs.jsx)("div",{className:"aw-exercise-action",children:r?(0,Fs.jsx)("span",{className:"aw-logged-badge",children:"Logged"}):(0,Fs.jsx)("span",{className:"aw-log-btn",children:"Log"})})]},"".concat(e.exerciseId,"-").concat(t));var a})}),N===E&&E>0&&(0,Fs.jsxs)("div",{className:"aw-complete-banner",children:[(0,Fs.jsx)("span",{className:"aw-complete-icon",children:"\ud83c\udf89"}),(0,Fs.jsxs)("div",{className:"aw-complete-text",children:[(0,Fs.jsx)("strong",{children:"All exercises completed!"}),(0,Fs.jsx)("span",{children:"Great workout. End session when ready."})]})]}),p&&(0,Fs.jsx)(To,{exercise:p,logs:o,onClose:function(){f(null)},onSaved:function(e){l(e)}}),m&&v&&(0,Fs.jsx)(Vo,{summary:v,planId:a.profile.planId,cardioMinutes:a.isOnboarded?a.weeklyCardioMinutes:null,onClose:function(){g(!1),y(null),t("/workouts",{replace:!0})}}),S&&(0,Fs.jsx)("div",{className:"aw-end-overlay",onClick:()=>x(!1),children:(0,Fs.jsxs)("div",{className:"aw-end-confirm",onClick:e=>e.stopPropagation(),children:[(0,Fs.jsx)("div",{className:"aw-end-confirm__check",children:"\u2713"}),(0,Fs.jsx)("h3",{className:"aw-end-confirm__title",children:"End Workout?"}),(0,Fs.jsxs)("p",{className:"aw-end-confirm__subtitle",children:[N,"/",E," exercises logged \xb7 ",d]}),(0,Fs.jsxs)("div",{className:"aw-end-confirm__actions",children:[(0,Fs.jsx)("button",{className:"aw-end-confirm__btn aw-end-confirm__btn--cancel",onClick:()=>x(!1),children:"Keep Going"}),(0,Fs.jsx)("button",{className:"aw-end-confirm__btn aw-end-confirm__btn--confirm",onClick:()=>{x(!1),R()},children:"End & Save"})]})]})})]}):null}function Zo(e){let{history:t}=e;if(!t||t.length<2)return(0,Fs.jsx)("p",{className:"cv-empty",children:"Not enough sessions to draw a graph yet."});const n=120,r={top:10,right:14,bottom:28,left:44},a=320-r.left-r.right,s=n-r.top-r.bottom,i=t.map(e=>Number(e.total_volume_kg)||0),o=Math.min(...i),l=Math.max(...i),c=l-o||1,u=e=>r.left+e/(t.length-1)*a,d=e=>r.top+s-(e-o)/c*s,h=t.map((e,t)=>({x:u(t),y:d(Number(e.total_volume_kg)||0)})),p=h.map((e,t)=>"".concat(0===t?"M":"L").concat(e.x.toFixed(1),",").concat(e.y.toFixed(1))).join(" "),f="".concat(p," L").concat(h[h.length-1].x.toFixed(1),",").concat((r.top+s).toFixed(1)," L").concat(r.left.toFixed(1),",").concat((r.top+s).toFixed(1)," Z"),m=[o,o+c/2,l],g=e=>e>=1e3?"".concat((e/1e3).toFixed(1),"t"):"".concat(Math.round(e)),v=e=>new Date(e).toLocaleDateString("nl-NL",{day:"numeric",month:"short"});return(0,Fs.jsx)("div",{className:"cv-graph-wrap",children:(0,Fs.jsxs)("svg",{viewBox:"0 0 ".concat(320," ").concat(n),className:"cv-volume-svg",children:[(0,Fs.jsx)("defs",{children:(0,Fs.jsxs)("linearGradient",{id:"cvGrad",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,Fs.jsx)("stop",{offset:"0%",stopColor:"#7c6af7",stopOpacity:"0.28"}),(0,Fs.jsx)("stop",{offset:"100%",stopColor:"#7c6af7",stopOpacity:"0.02"})]})}),m.map((e,t)=>(0,Fs.jsx)("line",{x1:r.left,y1:d(e),x2:r.left+a,y2:d(e),stroke:"#2a2a4a",strokeWidth:"1",strokeDasharray:"3 3"},t)),(0,Fs.jsx)("path",{d:f,fill:"url(#cvGrad)"}),(0,Fs.jsx)("path",{d:p,fill:"none",stroke:"#7c6af7",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round"}),h.map((e,t)=>(0,Fs.jsx)("circle",{cx:e.x,cy:e.y,r:"3.5",fill:"#7c6af7",stroke:"#16162a",strokeWidth:"1.5"},t)),m.map((e,t)=>(0,Fs.jsx)("text",{x:r.left-5,y:d(e)+4,textAnchor:"end",fontSize:"9",fill:"#9999b3",children:g(e)},t)),(0,Fs.jsx)("text",{x:r.left,y:116,textAnchor:"middle",fontSize:"9",fill:"#9999b3",children:v(t[0].date)}),(0,Fs.jsx)("text",{x:r.left+a,y:116,textAnchor:"middle",fontSize:"9",fill:"#9999b3",children:v(t[t.length-1].date)}),(0,Fs.jsx)("line",{x1:r.left,y1:r.top+s,x2:r.left+a,y2:r.top+s,stroke:"#2a2a4a",strokeWidth:"1"})]})})}function el(){var e;const{token:t}=je(),[n,a]=(0,r.useState)(null),[s,i]=(0,r.useState)(!0),[o,l]=(0,r.useState)(null),c=(0,r.useCallback)(async()=>{if(!Es)return l("Supabase is not configured. Coach links require cloud sync to be set up."),void i(!1);try{i(!0),l(null);const e=await async function(e){if(!js)throw new Error("Supabase not configured");const{data:t,error:n}=await js.rpc("get_coach_data",{p_token:e});if(n)throw n;return t}(t);null===e?l("This link is invalid or sharing has been disabled by the athlete."):a(e)}catch(e){console.error("[CoachView] load error:",e),l(e.message||"Failed to load data.")}finally{i(!1)}},[t]);if((0,r.useEffect)(()=>{c()},[c]),s)return(0,Fs.jsx)("div",{className:"cv-screen",children:(0,Fs.jsxs)("div",{className:"cv-card",style:{textAlign:"center"},children:[(0,Fs.jsx)("div",{className:"cv-logo",children:"\ud83d\udcaa"}),(0,Fs.jsx)("p",{className:"cv-muted",children:"Loading athlete data\u2026"})]})});if(o)return(0,Fs.jsx)("div",{className:"cv-screen",children:(0,Fs.jsxs)("div",{className:"cv-card",style:{textAlign:"center"},children:[(0,Fs.jsx)("div",{className:"cv-logo",children:"\ud83d\udd12"}),(0,Fs.jsx)("h2",{className:"cv-title",children:"Access Denied"}),(0,Fs.jsx)("p",{className:"cv-muted",children:o})]})});const u=n.exercises||[],d=n.last_session||{},h=n.prs||[],p=n.volume_history||[],f=n.synced_at,m=e=>e?new Date(e).toLocaleString("nl-NL",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"\u2014";return(0,Fs.jsx)("div",{className:"cv-screen",children:(0,Fs.jsxs)("div",{className:"cv-shell",children:[(0,Fs.jsxs)("div",{className:"cv-header",children:[(0,Fs.jsx)("span",{className:"cv-logo-inline",children:"\ud83d\udcaa"}),(0,Fs.jsxs)("div",{children:[(0,Fs.jsx)("h1",{className:"cv-title",children:"RepTrack Coach View"}),(0,Fs.jsxs)("p",{className:"cv-muted cv-synced",children:["Last synced: ",(0,Fs.jsx)("strong",{children:m(f)})]})]})]}),(0,Fs.jsx)("p",{className:"cv-readonly-badge",children:"\ud83d\udc41 Read-only \u2014 no login required"}),(0,Fs.jsxs)("section",{className:"cv-section",children:[(0,Fs.jsxs)("h2",{className:"cv-section-title",children:["Exercises (",u.length,")"]}),0===u.length?(0,Fs.jsx)("p",{className:"cv-empty",children:"No exercises logged yet."}):(0,Fs.jsx)("div",{className:"cv-exercise-grid",children:u.map(e=>(0,Fs.jsxs)("div",{className:"cv-exercise-card",children:[(0,Fs.jsx)("span",{className:"cv-ex-name",children:e.name}),(0,Fs.jsxs)("span",{className:"cv-ex-meta",children:[e.muscle_group," \xb7 ",e.type]})]},e.id||e.local_id))})]}),(0,Fs.jsxs)("section",{className:"cv-section",children:[(0,Fs.jsx)("h2",{className:"cv-section-title",children:"Last Session"}),d.exercise_name?(0,Fs.jsxs)("div",{className:"cv-last-session",children:[(0,Fs.jsxs)("div",{className:"cv-last-session-meta",children:[(0,Fs.jsx)("strong",{children:d.exercise_name}),(0,Fs.jsx)("span",{className:"cv-muted",children:m(d.started_at)})]}),(0,Fs.jsxs)("div",{className:"cv-stats-row",children:[(0,Fs.jsxs)("div",{className:"cv-stat",children:[(0,Fs.jsx)("span",{className:"cv-stat-val",children:null!==(e=d.total_reps)&&void 0!==e?e:"\u2014"}),(0,Fs.jsx)("span",{className:"cv-stat-lbl",children:"Total Reps"})]}),(0,Fs.jsxs)("div",{className:"cv-stat",children:[(0,Fs.jsx)("span",{className:"cv-stat-val",children:null!=d.total_volume_kg?"".concat(d.total_volume_kg," kg"):"\u2014"}),(0,Fs.jsx)("span",{className:"cv-stat-lbl",children:"Volume"})]})]}),d.sets&&d.sets.length>0&&(0,Fs.jsxs)("table",{className:"cv-sets-table",children:[(0,Fs.jsx)("thead",{children:(0,Fs.jsxs)("tr",{children:[(0,Fs.jsx)("th",{children:"Set"}),(0,Fs.jsx)("th",{children:"Reps"}),(0,Fs.jsx)("th",{children:"Weight (kg)"})]})}),(0,Fs.jsx)("tbody",{children:d.sets.map(e=>{var t,n;return(0,Fs.jsxs)("tr",{children:[(0,Fs.jsx)("td",{children:e.set_number}),(0,Fs.jsx)("td",{children:null!==(t=e.reps)&&void 0!==t?t:"\u2014"}),(0,Fs.jsx)("td",{children:null!==(n=e.weight_kg)&&void 0!==n?n:"\u2014"})]},e.set_number)})})]})]}):(0,Fs.jsx)("p",{className:"cv-empty",children:"No sessions recorded yet."})]}),(0,Fs.jsxs)("section",{className:"cv-section",children:[(0,Fs.jsx)("h2",{className:"cv-section-title",children:"Personal Records"}),0===h.length?(0,Fs.jsx)("p",{className:"cv-empty",children:"No PRs yet \u2014 keep grinding."}):(0,Fs.jsx)("div",{className:"cv-pr-list",children:h.map((e,t)=>{var n,r;return(0,Fs.jsxs)("div",{className:"cv-pr-card",children:[(0,Fs.jsx)("span",{className:"cv-pr-name",children:e.exercise_name}),(0,Fs.jsxs)("div",{className:"cv-pr-stats",children:[(0,Fs.jsxs)("span",{children:["\ud83c\udfcb\ufe0f ",null!==(n=e.max_weight_kg)&&void 0!==n?n:"\u2014"," kg"]}),(0,Fs.jsxs)("span",{children:["\ud83d\udd01 ",null!==(r=e.max_reps)&&void 0!==r?r:"\u2014"," reps"]}),(0,Fs.jsxs)("span",{children:["\ud83d\udce6 ",null!=e.max_volume_kg?"".concat(e.max_volume_kg," kg vol"):"\u2014"]})]})]},t)})})]}),(0,Fs.jsxs)("section",{className:"cv-section",children:[(0,Fs.jsx)("h2",{className:"cv-section-title",children:"Volume History"}),(0,Fs.jsx)(Zo,{history:p})]}),(0,Fs.jsx)("p",{className:"cv-footer",children:"RepTrack \xb7 Coach View \xb7 Data is read-only and shared by the athlete."})]})})}const tl=["experience","daysPerWeek","sessionDuration","goal","equipment","injuries","planRecommendation","progression"];function nl(e){let{onComplete:t}=e;const{completeOnboarding:n}=xi(),[a,s]=(0,r.useState)(0),[i,o]=(0,r.useState)({experience:null,daysPerWeek:null,sessionDuration:null,goal:null,equipment:null,injuries:"",planId:null,progression:"conservative"}),l=tl[a],c=(()=>{switch(l){case"experience":return null!==i.experience;case"daysPerWeek":return null!==i.daysPerWeek;case"sessionDuration":return null!==i.sessionDuration;case"goal":return null!==i.goal;case"equipment":return null!==i.equipment;case"injuries":case"progression":return!0;case"planRecommendation":return null!==i.planId;default:return!1}})();function u(e,t){o(n=>d(d({},n),{},{[e]:t}))}const h=i.planId?qo(i.planId):null;return(0,Fs.jsxs)("div",{className:"coach-onboarding",children:[(0,Fs.jsx)("div",{className:"co-progress",children:(0,Fs.jsx)("div",{className:"co-progress-fill",style:{width:"".concat((a+1)/tl.length*100,"%")}})}),(0,Fs.jsxs)("div",{className:"co-content",children:["experience"===l&&(0,Fs.jsxs)(Fs.Fragment,{children:[(0,Fs.jsx)("h2",{className:"co-title",children:"What's your training experience?"}),(0,Fs.jsx)("p",{className:"co-sub",children:"Be honest \u2014 this determines your starting intensity."}),(0,Fs.jsx)("div",{className:"co-options",children:[{value:"never",label:"Brand New",desc:"Never trained seriously"},{value:"beginner",label:"Beginner",desc:"Less than 6 months"},{value:"intermediate",label:"Intermediate",desc:"6 months to 2 years"},{value:"advanced",label:"Advanced",desc:"2+ years consistent"}].map(e=>(0,Fs.jsxs)("button",{className:"co-option ".concat(i.experience===e.value?"co-option--active":""),onClick:()=>u("experience",e.value),children:[(0,Fs.jsx)("span",{className:"co-option-label",children:e.label}),(0,Fs.jsx)("span",{className:"co-option-desc",children:e.desc})]},e.value))})]}),"daysPerWeek"===l&&(0,Fs.jsxs)(Fs.Fragment,{children:[(0,Fs.jsx)("h2",{className:"co-title",children:"How many days can you train?"}),(0,Fs.jsx)("p",{className:"co-sub",children:"Pick your honest minimum \u2014 consistency beats intensity."}),(0,Fs.jsx)("div",{className:"co-options co-options--grid",children:[1,2,3,4,5,6].map(e=>(0,Fs.jsxs)("button",{className:"co-option co-option--compact ".concat(i.daysPerWeek===e?"co-option--active":""),onClick:()=>u("daysPerWeek",e),children:[(0,Fs.jsx)("span",{className:"co-option-label",children:e}),(0,Fs.jsxs)("span",{className:"co-option-desc",children:["day",e>1?"s":"","/wk"]})]},e))})]}),"sessionDuration"===l&&(0,Fs.jsxs)(Fs.Fragment,{children:[(0,Fs.jsx)("h2",{className:"co-title",children:"How long per session?"}),(0,Fs.jsx)("p",{className:"co-sub",children:"Including warm-up. Be realistic."}),(0,Fs.jsxs)("div",{className:"co-options",children:[(0,Fs.jsxs)("button",{className:"co-option ".concat(60===i.sessionDuration?"co-option--active":""),onClick:()=>u("sessionDuration",60),children:[(0,Fs.jsx)("span",{className:"co-option-label",children:"60 minutes"}),(0,Fs.jsx)("span",{className:"co-option-desc",children:"Efficient, focused sessions"})]}),(0,Fs.jsxs)("button",{className:"co-option ".concat(90===i.sessionDuration?"co-option--active":""),onClick:()=>u("sessionDuration",90),children:[(0,Fs.jsx)("span",{className:"co-option-label",children:"90 minutes"}),(0,Fs.jsx)("span",{className:"co-option-desc",children:"More volume, more exercises"})]})]})]}),"goal"===l&&(0,Fs.jsxs)(Fs.Fragment,{children:[(0,Fs.jsx)("h2",{className:"co-title",children:"Primary goal?"}),(0,Fs.jsx)("p",{className:"co-sub",children:"This shapes your rep ranges and rest times."}),(0,Fs.jsxs)("div",{className:"co-options",children:[(0,Fs.jsxs)("button",{className:"co-option ".concat("hypertrophy"===i.goal?"co-option--active":""),onClick:()=>u("goal","hypertrophy"),children:[(0,Fs.jsx)("span",{className:"co-option-label",children:"Hypertrophy"}),(0,Fs.jsx)("span",{className:"co-option-desc",children:"Build muscle size. Higher reps, more TUT."})]}),(0,Fs.jsxs)("button",{className:"co-option ".concat("strength"===i.goal?"co-option--active":""),onClick:()=>u("goal","strength"),children:[(0,Fs.jsx)("span",{className:"co-option-label",children:"Strength"}),(0,Fs.jsx)("span",{className:"co-option-desc",children:"Get stronger. Lower reps, heavier loads."})]})]})]}),"equipment"===l&&(0,Fs.jsxs)(Fs.Fragment,{children:[(0,Fs.jsx)("h2",{className:"co-title",children:"What equipment do you have?"}),(0,Fs.jsx)("p",{className:"co-sub",children:"We'll pick exercises that match your setup."}),(0,Fs.jsx)("div",{className:"co-options",children:[{value:"full-gym",label:"Full Gym",desc:"Barbells, cables, machines \u2014 the works"},{value:"home",label:"Home Gym",desc:"Dumbbells, bench, maybe bands"},{value:"bodyweight",label:"Bodyweight Only",desc:"No equipment needed"}].map(e=>(0,Fs.jsxs)("button",{className:"co-option ".concat(i.equipment===e.value?"co-option--active":""),onClick:()=>u("equipment",e.value),children:[(0,Fs.jsx)("span",{className:"co-option-label",children:e.label}),(0,Fs.jsx)("span",{className:"co-option-desc",children:e.desc})]},e.value))})]}),"injuries"===l&&(0,Fs.jsxs)(Fs.Fragment,{children:[(0,Fs.jsx)("h2",{className:"co-title",children:"Any injuries or limitations?"}),(0,Fs.jsx)("p",{className:"co-sub",children:"Optional. We'll avoid exercises that cause pain."}),(0,Fs.jsx)("textarea",{className:"co-textarea",placeholder:"e.g. bad left shoulder, knee issues...",value:i.injuries,onChange:e=>o(t=>d(d({},t),{},{injuries:e.target.value})),rows:3}),(0,Fs.jsx)("p",{className:"co-hint",children:"Leave blank if none. Separate multiple with commas."})]}),"planRecommendation"===l&&h&&(0,Fs.jsxs)(Fs.Fragment,{children:[(0,Fs.jsx)("h2",{className:"co-title",children:"Your recommended plan"}),(0,Fs.jsx)("p",{className:"co-sub",children:"Based on your answers, here's what fits you best."}),(0,Fs.jsxs)("div",{className:"co-plan-card",children:[(0,Fs.jsx)("div",{className:"co-plan-name",children:h.name}),(0,Fs.jsxs)("div",{className:"co-plan-details",children:[(0,Fs.jsxs)("span",{children:[h.daysPerWeek," day",h.daysPerWeek>1?"s":"","/week"]}),(0,Fs.jsxs)("span",{children:[h.durationMin," min"]}),(0,Fs.jsx)("span",{children:h.goal}),(0,Fs.jsx)("span",{children:h.split})]}),(0,Fs.jsx)("div",{className:"co-plan-days",children:h.days.map((e,t)=>(0,Fs.jsxs)("div",{className:"co-plan-day",children:[(0,Fs.jsx)("div",{className:"co-plan-day-name",children:e.dayName}),(0,Fs.jsxs)("div",{className:"co-plan-day-count",children:[e.exercises.length," exercises"]})]},t))})]}),(0,Fs.jsx)("p",{className:"co-hint",children:"You can change your plan later in Coach Settings."})]}),"progression"===l&&(0,Fs.jsxs)(Fs.Fragment,{children:[(0,Fs.jsx)("h2",{className:"co-title",children:"Progression speed"}),(0,Fs.jsx)("p",{className:"co-sub",children:"How quickly should we ramp up intensity?"}),(0,Fs.jsxs)("div",{className:"co-options",children:[(0,Fs.jsxs)("button",{className:"co-option ".concat("conservative"===i.progression?"co-option--active":""),onClick:()=>u("progression","conservative"),children:[(0,Fs.jsx)("span",{className:"co-option-label",children:"Conservative"}),(0,Fs.jsx)("span",{className:"co-option-desc",children:"Slower ramp. 6-10 RIR week 1, all-out by month 2+. Best for beginners."})]}),(0,Fs.jsxs)("button",{className:"co-option ".concat("moderate"===i.progression?"co-option--active":""),onClick:()=>u("progression","moderate"),children:[(0,Fs.jsx)("span",{className:"co-option-label",children:"Moderate"}),(0,Fs.jsx)("span",{className:"co-option-desc",children:"Faster ramp. 3-4 RIR week 1, all-out by week 4+. For experienced lifters."})]})]})]})]}),(0,Fs.jsxs)("div",{className:"co-nav",children:[a>0&&(0,Fs.jsx)("button",{className:"co-nav-btn co-nav-btn--back",onClick:function(){a>0&&s(e=>e-1)},children:"Back"}),(0,Fs.jsx)("button",{className:"co-nav-btn co-nav-btn--next",onClick:function(){if(a===tl.length-1)return n({experience:i.experience,daysPerWeek:i.daysPerWeek,sessionDuration:i.sessionDuration,goal:i.goal,equipment:i.equipment,injuries:i.injuries?i.injuries.split(",").map(e=>e.trim()).filter(Boolean):[],planId:i.planId,progression:i.progression}),void(t&&t());if("planRecommendation"===tl[a+1]&&!i.planId){const e=function(e){let{daysPerWeek:t,durationMin:n,goal:r}=e;const a=Bo.filter(e=>e.goal===r);return a.sort((e,r)=>{const a=Math.abs(e.daysPerWeek-t),s=Math.abs(r.daysPerWeek-t);return a!==s?a-s:Math.abs(e.durationMin-n)-Math.abs(r.durationMin-n)}),a[0]||Bo[0]}({daysPerWeek:i.daysPerWeek,durationMin:i.sessionDuration,goal:i.goal});o(t=>d(d({},t),{},{planId:e.id}))}if("progression"===tl[a+1]){const e="never"===i.experience||"beginner"===i.experience?"conservative":"moderate";o(t=>d(d({},t),{},{progression:e}))}s(e=>e+1)},disabled:!c,children:a===tl.length-1?"Start Coaching":"Next"})]})]})}const rl=[{q:"Why compound movements before isolation?",a:"Compound movements (squat, bench, row) work multiple muscle groups and need your freshest energy. Save isolation exercises (curls, raises) for after. This order maximizes your performance on the hardest lifts."},{q:"I'm still sore \u2014 should I train?",a:"Soreness tells you about recovery status. If it's mild, train through it \u2014 the warm-up usually helps. If it's debilitating, reduce intensity or add an extra rest day. Train easier than last time until recovered."},{q:"I can't add weight \u2014 am I stuck?",a:"Progressive overload isn't just weight. Try: more reps, slower eccentrics, shorter rest, deeper range of motion, or a pause at peak contraction. There are no rules \u2014 find the lever that works for you."},{q:"Why are biceps on leg day?",a:"Biceps are fresh on leg day because there's no pulling work. After back day they're pre-fatigued. Training each body part 2-3x/week is superior to the old-school bro split."},{q:"Should I do cardio?",a:"Cardio is non-negotiable. Your heart is the most important muscle. 150 minutes of moderate steady-state per week. The 10-min warm-up before lifting counts toward this target."},{q:"I'm not losing weight despite training.",a:"Are you tracking calories? Are you doing your cardio? Weight loss requires a calorie deficit \u2014 training alone won't do it. Track food intake, hit your cardio, and adjust."},{q:"When should I switch plans?",a:"Effort overrides variety. Stick with your current plan for at least a few months. Only change for valid reasons: boredom, injury, equipment change, or months with zero progress."},{q:"Can women follow the same plans?",a:"Absolutely. Women can and should train just as hard. Follow the plans as written. If you want more lower-body focus, swap upper-body accessory exercises for additional lower-body work."}];function al(){const e=_e(),{isOnboarded:t,profile:n,metadata:a,weeksActive:s,targetRIR:i,weeklyCardioMinutes:o,cardioTarget:l}=xi(),[c,u]=(0,r.useState)(null);if(!t)return(0,Fs.jsx)(nl,{onComplete:()=>{}});const d=n.planId?qo(n.planId):null,h=Math.min(100,Math.round(o/l*100));return(0,Fs.jsxs)("div",{className:"page coach-page",children:[(0,Fs.jsx)("h1",{className:"page-heading coach-heading",children:"AI Coach"}),(0,Fs.jsx)("p",{className:"page-sub coach-sub",children:"Harder Than Last Time"}),d&&(0,Fs.jsxs)("div",{className:"card coach-card",children:[(0,Fs.jsx)("div",{className:"card-label",children:"Your Plan"}),(0,Fs.jsx)("div",{className:"card-value",children:d.name}),(0,Fs.jsxs)("div",{className:"coach-meta",children:["Week ",s," \xb7 ",d.daysPerWeek,"x/week \xb7 ",d.durationMin,"min \xb7 ",d.goal]}),(0,Fs.jsxs)("div",{className:"coach-meta",children:["Target RIR: ",i," \xb7 Progression: ",n.progression]})]}),(0,Fs.jsxs)("div",{className:"coach-stats-grid",children:[(0,Fs.jsxs)("div",{className:"card coach-stat-card",children:[(0,Fs.jsx)("div",{className:"coach-stat-value",children:a.totalSessions}),(0,Fs.jsx)("div",{className:"coach-stat-label",children:"Sessions"})]}),(0,Fs.jsxs)("div",{className:"card coach-stat-card",children:[(0,Fs.jsx)("div",{className:"coach-stat-value",children:s}),(0,Fs.jsx)("div",{className:"coach-stat-label",children:"Weeks"})]}),(0,Fs.jsxs)("div",{className:"card coach-stat-card",children:[(0,Fs.jsx)("div",{className:"coach-stat-value",children:a.fatigueScore}),(0,Fs.jsx)("div",{className:"coach-stat-label",children:"Fatigue"})]})]}),(0,Fs.jsxs)("div",{className:"card coach-card",children:[(0,Fs.jsx)("div",{className:"card-label",children:"Weekly Cardio"}),(0,Fs.jsx)("div",{className:"cardio-progress",children:(0,Fs.jsx)("div",{className:"cardio-progress-fill",style:{width:"".concat(h,"%")}})}),(0,Fs.jsxs)("div",{className:"cardio-status",children:[Math.round(o)," / ",l," min (",h,"%)"]}),h<50&&o<l&&(0,Fs.jsx)("div",{className:"coach-nudge",children:"Try 10 min of cardio before your next session \u2014 it counts!"})]}),a.fatigueScore>=60&&(0,Fs.jsxs)("div",{className:"card coach-card coach-deload-card",children:[(0,Fs.jsx)("div",{className:"card-label",children:"Recovery Check"}),(0,Fs.jsx)("div",{className:"coach-deload-text",children:a.fatigueScore>=80?"Your fatigue is high. Consider training easier than last time for a few sessions, or take a couple rest days focused on cardio. This is a marathon, not a sprint.":"Fatigue is building up. Keep an eye on recovery \u2014 if you're feeling beat up, it's okay to pull back. Train smarter, not just harder."})]}),(0,Fs.jsxs)("div",{className:"card coach-card",children:[(0,Fs.jsx)("div",{className:"card-label",children:"Philosophy"}),(0,Fs.jsx)("div",{className:"coach-philosophy",children:"Always attempt to do better than last time. Progressive overload isn't just adding weight \u2014 it's more reps, better technique, shorter rest, or pushing closer to failure. Consistency beats intensity."})]}),d&&(0,Fs.jsxs)("div",{className:"card coach-card",children:[(0,Fs.jsx)("div",{className:"card-label",children:"Training Days"}),(0,Fs.jsx)("div",{className:"coach-days-list",children:d.days.map((e,t)=>(0,Fs.jsxs)("div",{className:"coach-day-item",children:[(0,Fs.jsx)("span",{className:"coach-day-name",children:e.dayName}),(0,Fs.jsxs)("span",{className:"coach-day-count",children:[e.exercises.length," exercises"]})]},t))})]}),(0,Fs.jsxs)("div",{className:"card coach-card",children:[(0,Fs.jsx)("div",{className:"card-label",children:"Common Questions"}),(0,Fs.jsx)("div",{className:"coach-faq-list",children:rl.map((e,t)=>(0,Fs.jsxs)("div",{className:"coach-faq-item",children:[(0,Fs.jsxs)("button",{className:"coach-faq-q",onClick:()=>u(c===t?null:t),children:[(0,Fs.jsx)("span",{children:e.q}),(0,Fs.jsx)("span",{className:"coach-faq-arrow",children:c===t?"-":"+"})]}),c===t&&(0,Fs.jsx)("div",{className:"coach-faq-a",children:e.a})]},t))})]}),(0,Fs.jsx)("button",{className:"btn-secondary coach-settings-btn",onClick:()=>e("/coach/settings"),children:"Coach Settings"})]})}function sl(){const{profile:e,metadata:t,updateProfile:n,updateMetadata:a,weeklyCardioMinutes:s,cardioTarget:i,addCardioLog:o,weeksActive:l,targetRIR:c,resetCoach:u}=xi(),[d,h]=(0,r.useState)("run"),[p,f]=(0,r.useState)(""),[m,g]=(0,r.useState)(!1),v=e.planId?qo(e.planId):null;const y=Math.min(100,Math.round(s/i*100));return(0,Fs.jsxs)("div",{className:"page coach-settings-page",children:[(0,Fs.jsx)("h1",{className:"page-heading cs-heading",children:"Coach Settings"}),(0,Fs.jsxs)("div",{className:"card cs-card",children:[(0,Fs.jsx)("div",{className:"card-label",children:"Current Plan"}),(0,Fs.jsx)("div",{className:"card-value",children:v?v.name:"None selected"}),v&&(0,Fs.jsxs)("div",{className:"cs-plan-meta",children:[v.daysPerWeek,"x/week \xb7 ",v.durationMin,"min \xb7 ",v.goal," \xb7 Week ",l]}),(0,Fs.jsxs)("div",{className:"cs-plan-meta",children:["Target RIR this week: ",c]}),(0,Fs.jsx)("div",{className:"cs-section-label",children:"Switch Plan"}),(0,Fs.jsx)("div",{className:"cs-plan-list",children:Wo.map(t=>(0,Fs.jsxs)("button",{className:"cs-plan-option ".concat(e.planId===t.id?"cs-plan-option--active":""),onClick:()=>n({planId:t.id}),children:[(0,Fs.jsx)("span",{className:"cs-plan-option-name",children:t.name}),(0,Fs.jsxs)("span",{className:"cs-plan-option-meta",children:[t.daysPerWeek,"d \xb7 ",t.durationMin,"m \xb7 ",t.goal]})]},t.id))})]}),(0,Fs.jsxs)("div",{className:"card cs-card",children:[(0,Fs.jsx)("div",{className:"card-label",children:"Encouragement Style"}),(0,Fs.jsx)("div",{className:"cs-style-row",children:["soft","balanced","tough","aggressive"].map(t=>(0,Fs.jsx)("button",{className:"cs-style-btn ".concat(e.encouragementStyle===t?"cs-style-btn--active":""),onClick:()=>n({encouragementStyle:t}),children:t},t))})]}),(0,Fs.jsxs)("div",{className:"card cs-card",children:[(0,Fs.jsx)("div",{className:"card-label",children:"Feedback Frequency"}),(0,Fs.jsx)("div",{className:"cs-style-row",children:["minimal","normal","detailed"].map(t=>(0,Fs.jsx)("button",{className:"cs-style-btn ".concat(e.feedbackFrequency===t?"cs-style-btn--active":""),onClick:()=>n({feedbackFrequency:t}),children:t},t))})]}),(0,Fs.jsxs)("div",{className:"card cs-card",children:[(0,Fs.jsx)("div",{className:"card-label",children:"Progression Mode"}),(0,Fs.jsx)("div",{className:"cs-style-row",children:["conservative","moderate"].map(t=>(0,Fs.jsx)("button",{className:"cs-style-btn ".concat(e.progression===t?"cs-style-btn--active":""),onClick:()=>n({progression:t}),children:t},t))})]}),(0,Fs.jsx)("div",{className:"card cs-card",children:(0,Fs.jsxs)("div",{className:"cs-toggle-row",children:[(0,Fs.jsxs)("div",{children:[(0,Fs.jsx)("div",{className:"card-label",children:"Allow All-Out Sets"}),(0,Fs.jsx)("div",{className:"cs-plan-meta",children:l<4?"Available after 4 weeks (week ".concat(l," of 4)"):"You have enough training experience"})]}),(0,Fs.jsx)("button",{className:"timer-toggle ".concat(t.allOutAllowed?"timer-toggle--on":""),onClick:()=>a({allOutAllowed:!t.allOutAllowed}),disabled:l<4,children:(0,Fs.jsx)("span",{className:"timer-toggle-knob"})})]})}),(0,Fs.jsxs)("div",{className:"card cs-card",children:[(0,Fs.jsx)("div",{className:"card-label",children:"Weekly Cardio"}),(0,Fs.jsxs)("div",{className:"cardio-section",children:[(0,Fs.jsx)("div",{className:"cardio-progress",children:(0,Fs.jsx)("div",{className:"cardio-progress-fill",style:{width:"".concat(y,"%")}})}),(0,Fs.jsxs)("div",{className:"cardio-status",children:[Math.round(s)," / ",i," min this week (",y,"%)"]}),(0,Fs.jsxs)("div",{className:"cardio-log-form",children:[(0,Fs.jsxs)("select",{value:d,onChange:e=>h(e.target.value),children:[(0,Fs.jsx)("option",{value:"run",children:"Running"}),(0,Fs.jsx)("option",{value:"bike",children:"Cycling"}),(0,Fs.jsx)("option",{value:"swim",children:"Swimming"}),(0,Fs.jsx)("option",{value:"walk",children:"Walking (half credit)"}),(0,Fs.jsx)("option",{value:"other",children:"Other"})]}),(0,Fs.jsx)("input",{type:"number",placeholder:"min",value:p,onChange:e=>f(e.target.value),min:"1"}),(0,Fs.jsx)("button",{className:"cardio-log-btn",onClick:function(){const e=Number(p);!e||e<=0||(o({type:d,minutes:e}),f(""))},children:"Log"})]})]})]}),(0,Fs.jsxs)("div",{className:"card cs-card",children:[(0,Fs.jsx)("div",{className:"card-label",children:"Coaching Intelligence"}),(0,Fs.jsxs)("div",{className:"cs-meta-grid",children:[(0,Fs.jsxs)("div",{className:"cs-meta-item",children:[(0,Fs.jsx)("span",{className:"cs-meta-label",children:"Fatigue Score"}),(0,Fs.jsxs)("span",{className:"cs-meta-value",children:[t.fatigueScore,"/100"]})]}),(0,Fs.jsxs)("div",{className:"cs-meta-item",children:[(0,Fs.jsx)("span",{className:"cs-meta-label",children:"Sessions"}),(0,Fs.jsx)("span",{className:"cs-meta-value",children:t.totalSessions})]}),(0,Fs.jsxs)("div",{className:"cs-meta-item",children:[(0,Fs.jsx)("span",{className:"cs-meta-label",children:"Weeks Active"}),(0,Fs.jsx)("span",{className:"cs-meta-value",children:l})]})]}),Object.keys(t.plateauRisk).length>0&&(0,Fs.jsxs)(Fs.Fragment,{children:[(0,Fs.jsx)("div",{className:"cs-section-label",style:{marginTop:"0.75rem"},children:"Plateau Risk"}),Object.entries(t.plateauRisk).map(e=>{let[t,n]=e;return(0,Fs.jsxs)("div",{className:"cs-meta-item",children:[(0,Fs.jsx)("span",{className:"cs-meta-label",children:t}),(0,Fs.jsxs)("span",{className:"cs-meta-value",style:{color:n>50?"var(--c-danger)":"inherit"},children:[n,"%"]})]},t)})]})]}),(0,Fs.jsx)("div",{className:"card cs-card",children:m?(0,Fs.jsxs)("div",{className:"cs-reset-confirm",children:[(0,Fs.jsx)("p",{children:"This will delete all coaching data. Are you sure?"}),(0,Fs.jsxs)("div",{className:"cs-reset-actions",children:[(0,Fs.jsx)("button",{className:"btn-danger",onClick:()=>{u(),g(!1)},children:"Yes, Reset"}),(0,Fs.jsx)("button",{className:"btn-secondary",onClick:()=>g(!1),children:"Cancel"})]})]}):(0,Fs.jsx)("button",{className:"cs-reset-btn",onClick:()=>g(!0),children:"Reset Coach Data"})})]})}function il(){const{user:e,isConfigured:t}=Ws(),[n,a]=(0,r.useState)(Ts()),[s,i]=(0,r.useState)(navigator.onLine);if((0,r.useEffect)(()=>Is(a),[]),(0,r.useEffect)(()=>{function e(){i(!0)}function t(){i(!1)}return window.addEventListener("online",e),window.addEventListener("offline",t),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",t)}},[]),!t||!e)return null;let o,l,c;return s?"syncing"===n?(o="\u21bb",l="Syncing",c="sync-indicator sync-indicator--syncing"):"error"===n?(o="\u26a0",l="Sync error",c="sync-indicator sync-indicator--error"):(o="\u2713",l="Synced",c="sync-indicator sync-indicator--synced"):(o="\u26a1",l="Offline",c="sync-indicator sync-indicator--offline"),(0,Fs.jsx)("div",{className:c,title:l,children:(0,Fs.jsx)("span",{className:"sync-indicator__icon",children:o})})}function ol(){const[e,t]=(0,r.useState)(!1),n=Boolean(Ro);return(0,r.useEffect)(()=>{if(!n)return;const e=new AbortController,r="/reptrack".replace(/\/$/,""),a=r?"".concat(r):"",s="".concat(a,"/build-info.json?ts=").concat(Date.now());return fetch(s,{signal:e.signal}).then(e=>{if(!e.ok)throw new Error("no build info available");return e.json()}).then(e=>{null!==e&&void 0!==e&&e.buildId&&e.buildId!==Ro&&t(!0)}).catch(()=>{}),()=>e.abort()},[n]),e?(0,Fs.jsxs)("div",{className:"update-banner",children:[(0,Fs.jsx)("span",{className:"update-banner__text",children:"New version available"}),(0,Fs.jsx)("button",{className:"update-banner__reload",type:"button",onClick:()=>window.location.reload(),children:"Reload"})]}):null}function ll(){const{syncing:e,syncError:t}=Ws();return e?(0,Fs.jsx)("div",{className:"sync-bar",children:"\u27f3 Syncing data\u2026"}):t?(0,Fs.jsxs)("div",{className:"sync-bar sync-bar--error",children:["\u26a0 Sync error: ",t]}):null}function cl(){const{user:e,loading:t,isConfigured:n}=Ws(),[a,s]=(0,r.useState)(!1);return t?(0,Fs.jsx)("div",{className:"auth-screen",children:(0,Fs.jsxs)("div",{className:"auth-card",style:{textAlign:"center"},children:[(0,Fs.jsx)("div",{className:"auth-logo",children:"\ud83d\udcaa"}),(0,Fs.jsx)("p",{style:{color:"#9999b3",fontSize:"0.9rem"},children:"Loading\u2026"})]})}):n||a?n&&!e?(0,Fs.jsx)(Ni,{}):(0,Fs.jsx)(li,{children:(0,Fs.jsx)(Si,{children:(0,Fs.jsxs)("div",{className:"app",children:[(0,Fs.jsx)(ol,{}),(0,Fs.jsx)(ll,{}),(0,Fs.jsx)(il,{}),(0,Fs.jsx)("main",{className:"app-main",children:(0,Fs.jsxs)(Ge,{children:[(0,Fs.jsx)(He,{path:"/",element:(0,Fs.jsx)(Ci,{})}),(0,Fs.jsx)(He,{path:"/home",element:(0,Fs.jsx)(Ri,{})}),(0,Fs.jsx)(He,{path:"/workout",element:(0,Fs.jsx)(Ii,{})}),(0,Fs.jsx)(He,{path:"/workout/:planId",element:(0,Fs.jsx)(Xo,{})}),(0,Fs.jsx)(He,{path:"/workouts",element:(0,Fs.jsx)(Qi,{})}),(0,Fs.jsx)(He,{path:"/exercises",element:(0,Fs.jsx)(Po,{})}),(0,Fs.jsx)(He,{path:"/history",element:(0,Fs.jsx)(Lo,{})}),(0,Fs.jsx)(He,{path:"/progress",element:(0,Fs.jsx)(Do,{})}),(0,Fs.jsx)(He,{path:"/profile",element:(0,Fs.jsx)(Mo,{})}),(0,Fs.jsx)(He,{path:"/coach",element:(0,Fs.jsx)(al,{})}),(0,Fs.jsx)(He,{path:"/coach/settings",element:(0,Fs.jsx)(sl,{})})]})}),(0,Fs.jsx)(ji,{})]})})}):(0,Fs.jsx)(Ei,{onSkip:()=>s(!0)})}const ul=function(){return(0,Fs.jsx)(jt,{children:(0,Fs.jsx)(qs,{children:(0,Fs.jsxs)(Ge,{children:[(0,Fs.jsx)(He,{path:"/coach/:token",element:(0,Fs.jsx)(el,{})}),(0,Fs.jsx)(He,{path:"*",element:(0,Fs.jsx)(cl,{})})]})})})},dl=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then(t=>{let{getCLS:n,getFID:r,getFCP:a,getLCP:s,getTTFB:i}=t;n(e),r(e),a(e),s(e),i(e)})};s.createRoot(document.getElementById("root")).render((0,Fs.jsx)(r.StrictMode,{children:(0,Fs.jsx)(ul,{})})),dl()})();
//# sourceMappingURL=main.1be9dd91.js.map